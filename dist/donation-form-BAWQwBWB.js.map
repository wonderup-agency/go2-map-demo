{"version":3,"file":"donation-form-BAWQwBWB.js","sources":["../node_modules/postcss/lib/list.js","../src/components/forms/donation-form.js"],"sourcesContent":["'use strict'\n\nlet list = {\n  comma(string) {\n    return list.split(string, [','], true)\n  },\n\n  space(string) {\n    let spaces = [' ', '\\n', '\\t']\n    return list.split(string, spaces)\n  },\n\n  split(string, separators, last) {\n    let array = []\n    let current = ''\n    let split = false\n\n    let func = 0\n    let inQuote = false\n    let prevQuote = ''\n    let escape = false\n\n    for (let letter of string) {\n      if (escape) {\n        escape = false\n      } else if (letter === '\\\\') {\n        escape = true\n      } else if (inQuote) {\n        if (letter === prevQuote) {\n          inQuote = false\n        }\n      } else if (letter === '\"' || letter === \"'\") {\n        inQuote = true\n        prevQuote = letter\n      } else if (letter === '(') {\n        func += 1\n      } else if (letter === ')') {\n        if (func > 0) func -= 1\n      } else if (func === 0) {\n        if (separators.includes(letter)) split = true\n      }\n\n      if (split) {\n        if (current !== '') array.push(current.trim())\n        current = ''\n        split = false\n      } else {\n        current += letter\n      }\n    }\n\n    if (last || current !== '') array.push(current.trim())\n    return array\n  }\n}\n\nmodule.exports = list\nlist.default = list\n","import { comma } from \"postcss/lib/list\"\n\n/**\n *\n * @param {HTMLElement} form\n */\nexport default function (form) {\n  const campaignId = form.dataset.campaignId ?? 'FUNFTWMRGBN'\n\n  // Autoselect the first radio button for donation-amount if available\n  const amountRadios = form.querySelectorAll(\n    'input[name=\"donation-amount\"][type=\"radio\"]'\n  )\n  if (amountRadios.length > 0) {\n    amountRadios[0].checked = true\n  }\n\n  const otherButton = form.querySelector(\"[data-donation-form='other']\");\n\n  form.addEventListener('submit', (e) => {\n    e.preventDefault()\n    const formData = new FormData(form)\n    const recurring = formData.get('recurring') ?? 'once'\n    let amount = formData.get('donation-amount')\n\n    // Clean and parse amount; default to 25 if invalid or missing\n    amount = Number(amount?.replace(/\\D/g, '')) || 25\n\n    FundraiseUp.openCheckout(campaignId, {\n      donation: {\n        recurring,\n        amount,\n      },\n    })\n  })\n\n  otherButton.addEventListener(\"click\", (e) => {\n    e.preventDefault()\n    const formData = new FormData(form)\n    const recurring = formData.get('recurring') ?? 'once'\n    FundraiseUp.openCheckout(campaignId, {\n      donation: {\n        recurring,\n      },\n    })\n  })\n}\n"],"names":[],"mappings":"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","x_google_ignoreList":[0]}