import{h as e,s as t,v as a,c as n,a as o,b as r,d as i,e as s,f as l,r as m}from"./index-9pCVdcJx.js";import"./main-CX2umFmk.js";function d(d){(d.forEach?d:[d]).forEach(d=>{const c=d.dataset.webhook||"https://hook.us2.make.com/vt23go8uc23q8emcv6jc3nqriswhtnyr",u=d.querySelector(".w-form-done"),f=d.querySelector(".w-form-fail"),p=d.querySelector("form");d.addEventListener("click",async d=>{const h=d.target,y=h.closest('[data-form="submit-btn"]'),g=h.closest(".button_text");if(y||g&&y){d.preventDefault(),d.stopImmediatePropagation(),e(f);const h=await t(p),g=[];a.isEmpty(h["Including-GO2-Name"]||"")&&g.push({fieldName:"Including-GO2-Name",error:"Enter your full name.",appendAt:".multi-form14_field-wrapper"}),a.isEmail(h["Including-GO2-Email"]||"")||g.push({fieldName:"Including-GO2-Email",error:"Enter a valid email address (example: name@email.com)",appendAt:".multi-form14_field-wrapper"});const b=h["Including-GO2-Phone"]||"";if(a.isMobilePhone(b,"any")||g.push({fieldName:"Including-GO2-Phone",error:"Enter a valid phone number (digits only, include area code)",appendAt:".multi-form14_field-wrapper"}),n(),g.length>0)return void o(g);const E=y.querySelector(".button_text")||y.firstChild,w=E?.textContent||"Submit";r(y),fetch(c,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(h)}).then(e=>{if(!e.ok)throw new Error("Submission failed");return e.json()}).then(e=>{i(p),s(u)}).catch(e=>{l(f)}).finally(()=>{m(y,w)})}})})}export{d as default};
