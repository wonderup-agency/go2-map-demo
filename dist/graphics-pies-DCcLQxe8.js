import{Z as e,$ as t,a0 as i,J as s,y as a,a1 as r,c as n,P as l,a2 as o,a3 as h,G as c,i as u,T as d,p,a as g,g as y,s as f,S as b,u as m,C as _,o as x,_ as v,z as w,a4 as A,a5 as k,N as D,O as R,m as P,K as T,U as L,V as C,W as N,X as $,Y as S,b as M,R as O,a6 as j,a7 as I}from"./AnimatedTheme-sLh5pVaU.js";class B extends e{constructor(){super(...arguments),Object.defineProperty(this,"_index",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"series",{enumerable:!0,configurable:!0,writable:!0,value:void 0})}_afterNew(){super._afterNewApplyThemes()}_beforeChanged(){if(super._beforeChanged(),this.isDirty("sprite")){const e=this.get("sprite");e&&(e.setAll({position:"absolute",role:"figure"}),this._disposers.push(e))}(this.isDirty("locationX")||this.isDirty("locationY"))&&this.series&&this.series._positionBullet(this)}}Object.defineProperty(B,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Bullet"}),Object.defineProperty(B,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:e.classNames.concat([B.className])});class F extends t{constructor(){super(...arguments),Object.defineProperty(this,"_display",{enumerable:!0,configurable:!0,writable:!0,value:this._root._renderer.makeRadialText("",this.textStyle)})}_afterNew(){super._afterNew()}_beforeChanged(){super._beforeChanged(),this._display.clear(),this.isDirty("textType")&&(this._display.textType=this.get("textType"),this.markDirtyBounds()),this.isDirty("radius")&&(this._display.radius=this.get("radius"),this.markDirtyBounds()),this.isDirty("startAngle")&&(this._display.startAngle=(this.get("startAngle",0)+90)*i,this.markDirtyBounds()),this.isDirty("inside")&&(this._display.inside=this.get("inside"),this.markDirtyBounds()),this.isDirty("orientation")&&(this._display.orientation=this.get("orientation"),this.markDirtyBounds()),this.isDirty("kerning")&&(this._display.kerning=this.get("kerning"),this.markDirtyBounds())}}Object.defineProperty(F,"className",{enumerable:!0,configurable:!0,writable:!0,value:"RadialText"}),Object.defineProperty(F,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:t.classNames.concat([F.className])});class z extends s{constructor(){super(...arguments),Object.defineProperty(this,"_flipped",{enumerable:!0,configurable:!0,writable:!0,value:!1})}_afterNew(){this._textKeys.push("textType","kerning"),super._afterNew()}_makeText(){this._text=this.children.push(F.new(this._root,{}))}baseRadius(){const e=this.getPrivate("radius",0),t=this.getPrivate("innerRadius",0),i=this.get("baseRadius",0);return t+a(i,e-t)}radius(){const e=this.get("inside",!1);return this.baseRadius()+this.get("radius",0)*(e?-1:1)}_updateChildren(){if(super._updateChildren(),this.isDirty("baseRadius")||this.isPrivateDirty("radius")||this.isPrivateDirty("innerRadius")||this.isDirty("labelAngle")||this.isDirty("radius")||this.isDirty("inside")||this.isDirty("orientation")||this.isDirty("textType")){const e=this.get("textType","adjusted"),t=this.get("inside",!1),i=this.get("orientation");let s=r(this.get("labelAngle",0));this._text.set("startAngle",this.get("labelAngle",0)),this._text.set("inside",t);const a=h(s),l=o(s);let c=this.baseRadius(),u=this.radius();if(this._display.angle=0,"circular"==e)this.setAll({paddingTop:0,paddingBottom:0,paddingLeft:0,paddingRight:0}),this.setRaw("x",void 0),this.setRaw("y",void 0),this._text.set("orientation",i),this._text.set("radius",u);else{0==c&&(s=0,u=0);let t=u*l,r=u*a;"radial"==e?(this.setRaw("x",t),this.setRaw("y",r),s<90||s>270||"auto"!=i?(this._display.angle=s,this._flipped=!1):(this._display.angle=s+180,this._flipped=!0),this._dirty.rotation=!1):"adjusted"==e?(this.setRaw("centerX",n),this.setRaw("centerY",n),this.setRaw("x",t),this.setRaw("y",r)):"regular"==e&&(this.setRaw("x",t),this.setRaw("y",r))}this.markDirtyPosition(),this.markDirtyBounds()}}_updatePosition(){const e=this.get("textType","regular"),t=this.get("inside",!1);let i=0,s=0,a=this.get("labelAngle",0),r=this.localBounds(),n=r.right-r.left,c=r.bottom-r.top;if("radial"==e){if(this._flipped){let e=this.get("centerX");e instanceof l&&(n*=1-2*e.value),i=n*o(a),s=n*h(a)}}else t||"adjusted"!=e||(i=n/2*o(a),s=c/2*h(a));this.setRaw("dx",i),this.setRaw("dy",s),super._updatePosition()}get text(){return this._text}}function W(e){return function(){return e}}Object.defineProperty(z,"className",{enumerable:!0,configurable:!0,writable:!0,value:"RadialLabel"}),Object.defineProperty(z,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:s.classNames.concat([z.className])});const X=Math.abs,Y=Math.atan2,E=Math.cos,H=Math.max,V=Math.min,q=Math.sin,K=Math.sqrt,U=1e-12,Z=Math.PI,G=Z/2,J=2*Z;function Q(e){return e>=1?G:e<=-1?-G:Math.asin(e)}const ee=Math.PI,te=2*ee,ie=1e-6,se=te-ie;function ae(e){this._+=e[0];for(let t=1,i=e.length;t<i;++t)this._+=arguments[t]+e[t]}class re{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=null==e?ae:function(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return ae;const i=10**t;return function(e){this._+=e[0];for(let t=1,s=e.length;t<s;++t)this._+=Math.round(arguments[t]*i)/i+e[t]}}(e)}moveTo(e,t){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+t}`}closePath(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,t){this._append`L${this._x1=+e},${this._y1=+t}`}quadraticCurveTo(e,t,i,s){this._append`Q${+e},${+t},${this._x1=+i},${this._y1=+s}`}bezierCurveTo(e,t,i,s,a,r){this._append`C${+e},${+t},${+i},${+s},${this._x1=+a},${this._y1=+r}`}arcTo(e,t,i,s,a){if(e=+e,t=+t,i=+i,s=+s,(a=+a)<0)throw new Error(`negative radius: ${a}`);let r=this._x1,n=this._y1,l=i-e,o=s-t,h=r-e,c=n-t,u=h*h+c*c;if(null===this._x1)this._append`M${this._x1=e},${this._y1=t}`;else if(u>ie)if(Math.abs(c*l-o*h)>ie&&a){let d=i-r,p=s-n,g=l*l+o*o,y=d*d+p*p,f=Math.sqrt(g),b=Math.sqrt(u),m=a*Math.tan((ee-Math.acos((g+u-y)/(2*f*b)))/2),_=m/b,x=m/f;Math.abs(_-1)>ie&&this._append`L${e+_*h},${t+_*c}`,this._append`A${a},${a},0,0,${+(c*d>h*p)},${this._x1=e+x*l},${this._y1=t+x*o}`}else this._append`L${this._x1=e},${this._y1=t}`;else;}arc(e,t,i,s,a,r){if(e=+e,t=+t,r=!!r,(i=+i)<0)throw new Error(`negative radius: ${i}`);let n=i*Math.cos(s),l=i*Math.sin(s),o=e+n,h=t+l,c=1^r,u=r?s-a:a-s;null===this._x1?this._append`M${o},${h}`:(Math.abs(this._x1-o)>ie||Math.abs(this._y1-h)>ie)&&this._append`L${o},${h}`,i&&(u<0&&(u=u%te+te),u>se?this._append`A${i},${i},0,1,${c},${e-n},${t-l}A${i},${i},0,1,${c},${this._x1=o},${this._y1=h}`:u>ie&&this._append`A${i},${i},0,${+(u>=ee)},${c},${this._x1=e+i*Math.cos(a)},${this._y1=t+i*Math.sin(a)}`)}rect(e,t,i,s){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+t}h${i=+i}v${+s}h${-i}Z`}toString(){return this._}}function ne(e){return e.innerRadius}function le(e){return e.outerRadius}function oe(e){return e.startAngle}function he(e){return e.endAngle}function ce(e){return e&&e.padAngle}function ue(e,t,i,s,a,r,n){var l=e-i,o=t-s,h=(n?r:-r)/K(l*l+o*o),c=h*o,u=-h*l,d=e+c,p=t+u,g=i+c,y=s+u,f=(d+g)/2,b=(p+y)/2,m=g-d,_=y-p,x=m*m+_*_,v=a-r,w=d*y-g*p,A=(_<0?-1:1)*K(H(0,v*v*x-w*w)),k=(w*_-m*A)/x,D=(-w*m-_*A)/x,R=(w*_+m*A)/x,P=(-w*m+_*A)/x,T=k-f,L=D-b,C=R-f,N=P-b;return T*T+L*L>C*C+N*N&&(k=R,D=P),{cx:k,cy:D,x01:-c,y01:-u,x11:k*(a/v-1),y11:D*(a/v-1)}}function de(){var e=ne,t=le,i=W(0),s=null,a=oe,r=he,n=ce,l=null,o=function(e){let t=3;return e.digits=function(i){if(!arguments.length)return t;if(null==i)t=null;else{const e=Math.floor(i);if(!(e>=0))throw new RangeError(`invalid digits: ${i}`);t=e}return e},()=>new re(t)}(h);function h(){var h,c,u,d=+e.apply(this,arguments),p=+t.apply(this,arguments),g=a.apply(this,arguments)-G,y=r.apply(this,arguments)-G,f=X(y-g),b=y>g;if(l||(l=h=o()),p<d&&(c=p,p=d,d=c),p>U)if(f>J-U)l.moveTo(p*E(g),p*q(g)),l.arc(0,0,p,g,y,!b),d>U&&(l.moveTo(d*E(y),d*q(y)),l.arc(0,0,d,y,g,b));else{var m,_,x=g,v=y,w=g,A=y,k=f,D=f,R=n.apply(this,arguments)/2,P=R>U&&(s?+s.apply(this,arguments):K(d*d+p*p)),T=V(X(p-d)/2,+i.apply(this,arguments)),L=T,C=T;if(P>U){var N=Q(P/d*q(R)),$=Q(P/p*q(R));(k-=2*N)>U?(w+=N*=b?1:-1,A-=N):(k=0,w=A=(g+y)/2),(D-=2*$)>U?(x+=$*=b?1:-1,v-=$):(D=0,x=v=(g+y)/2)}var S=p*E(x),M=p*q(x),O=d*E(A),j=d*q(A);if(T>U){var I,B=p*E(v),F=p*q(v),z=d*E(w),W=d*q(w);if(f<Z)if(I=function(e,t,i,s,a,r,n,l){var o=i-e,h=s-t,c=n-a,u=l-r,d=u*o-c*h;if(!(d*d<U))return[e+(d=(c*(t-r)-u*(e-a))/d)*o,t+d*h]}(S,M,z,W,B,F,O,j)){var H=S-I[0],ee=M-I[1],te=B-I[0],ie=F-I[1],se=1/q(((u=(H*te+ee*ie)/(K(H*H+ee*ee)*K(te*te+ie*ie)))>1?0:u<-1?Z:Math.acos(u))/2),ae=K(I[0]*I[0]+I[1]*I[1]);L=V(T,(d-ae)/(se-1)),C=V(T,(p-ae)/(se+1))}else L=C=0}D>U?C>U?(m=ue(z,W,S,M,p,C,b),_=ue(B,F,O,j,p,C,b),l.moveTo(m.cx+m.x01,m.cy+m.y01),C<T?l.arc(m.cx,m.cy,C,Y(m.y01,m.x01),Y(_.y01,_.x01),!b):(l.arc(m.cx,m.cy,C,Y(m.y01,m.x01),Y(m.y11,m.x11),!b),l.arc(0,0,p,Y(m.cy+m.y11,m.cx+m.x11),Y(_.cy+_.y11,_.cx+_.x11),!b),l.arc(_.cx,_.cy,C,Y(_.y11,_.x11),Y(_.y01,_.x01),!b))):(l.moveTo(S,M),l.arc(0,0,p,x,v,!b)):l.moveTo(S,M),d>U&&k>U?L>U?(m=ue(O,j,B,F,d,-L,b),_=ue(S,M,z,W,d,-L,b),l.lineTo(m.cx+m.x01,m.cy+m.y01),L<T?l.arc(m.cx,m.cy,L,Y(m.y01,m.x01),Y(_.y01,_.x01),!b):(l.arc(m.cx,m.cy,L,Y(m.y01,m.x01),Y(m.y11,m.x11),!b),l.arc(0,0,d,Y(m.cy+m.y11,m.cx+m.x11),Y(_.cy+_.y11,_.cx+_.x11),b),l.arc(_.cx,_.cy,L,Y(_.y11,_.x11),Y(_.y01,_.x01),!b))):l.arc(0,0,d,A,w,b):l.lineTo(O,j)}else l.moveTo(0,0);if(l.closePath(),h)return l=null,h+""||null}return h.centroid=function(){var i=(+e.apply(this,arguments)+ +t.apply(this,arguments))/2,s=(+a.apply(this,arguments)+ +r.apply(this,arguments))/2-Z/2;return[E(s)*i,q(s)*i]},h.innerRadius=function(t){return arguments.length?(e="function"==typeof t?t:W(+t),h):e},h.outerRadius=function(e){return arguments.length?(t="function"==typeof e?e:W(+e),h):t},h.cornerRadius=function(e){return arguments.length?(i="function"==typeof e?e:W(+e),h):i},h.padRadius=function(e){return arguments.length?(s=null==e?null:"function"==typeof e?e:W(+e),h):s},h.startAngle=function(e){return arguments.length?(a="function"==typeof e?e:W(+e),h):a},h.endAngle=function(e){return arguments.length?(r="function"==typeof e?e:W(+e),h):r},h.padAngle=function(e){return arguments.length?(n="function"==typeof e?e:W(+e),h):n},h.context=function(e){return arguments.length?(l=null==e?null:e,h):l},h}class pe extends c{constructor(){super(...arguments),Object.defineProperty(this,"ix",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"iy",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_generator",{enumerable:!0,configurable:!0,writable:!0,value:de()})}_getTooltipPoint(){let e=this.get("tooltipX"),t=this.get("tooltipY"),i=0,s=0;u(e)&&(i=e),u(t)&&(s=t);let a=this.get("radius",0),r=this.get("innerRadius",0);return a+=this.get("dRadius",0),r+=this.get("dInnerRadius",0),r<0&&(r=a+r),e instanceof l&&(i=this.ix*(r+(a-r)*e.value)),t instanceof l&&(s=this.iy*(r+(a-r)*t.value)),this.get("arc")>=360&&0==r&&(i=0,s=0),{x:i,y:s}}_beforeChanged(){super._beforeChanged(),(this.isDirty("radius")||this.isDirty("arc")||this.isDirty("innerRadius")||this.isDirty("startAngle")||this.isDirty("dRadius")||this.isDirty("dInnerRadius")||this.isDirty("cornerRadius")||this.isDirty("shiftRadius"))&&(this._clear=!0)}_changed(){if(super._changed(),this._clear){let e=this.get("startAngle",0),t=this.get("arc",0);const s=this._generator;t<0&&(e+=t,t*=-1),t>.1&&s.cornerRadius(this.get("cornerRadius",0)),s.context(this._display);let a=this.get("radius",0),r=this.get("innerRadius",0);a+=this.get("dRadius",0),r+=this.get("dInnerRadius",0),r<0&&(r=a+r),s({innerRadius:r,outerRadius:a,startAngle:(e+90)*i,endAngle:(e+t+90)*i});let n=e+t/2;this.ix=o(n),this.iy=h(n);const l=this.get("shiftRadius",0);this.setRaw("dx",this.ix*l),this.setRaw("dy",this.iy*l),this.markDirtyPosition()}}}Object.defineProperty(pe,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Slice"}),Object.defineProperty(pe,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:c.classNames.concat([pe.className])});class ge extends d{setupDefaultRules(){super.setupDefaultRules();const e=this._root.interfaceColors,t=this.rule.bind(this);t("PercentSeries").setAll({legendLabelText:"{category}",legendValueText:"{valuePercentTotal.formatNumber('0.00p')}",colors:g.new(this._root,{}),width:p,height:p}),t("PieChart").setAll({radius:y(80),startAngle:-90,endAngle:270}),t("PieSeries").setAll({alignLabels:!0,startAngle:-90,endAngle:270}),t("PieSeries").states.create("hidden",{endAngle:-90,opacity:0}),t("Slice",["pie"]).setAll({position:"absolute",isMeasured:!1,x:0,y:0,toggleKey:"active",tooltipText:"{category}: {valuePercentTotal.formatNumber('0.00p')}",strokeWidth:1,strokeOpacity:1,role:"figure",lineJoin:"round"}),t("Slice",["pie"]).states.create("active",{shiftRadius:20,scale:1}),t("Slice",["pie"]).states.create("hoverActive",{scale:1.04}),t("Slice",["pie"]).states.create("hover",{scale:1.04}),t("RadialLabel",["pie"]).setAll({textType:"aligned",radius:10,text:"{category}: {valuePercentTotal.formatNumber('0.00p')}",paddingTop:5,paddingBottom:5,populateText:!0}),t("Tick",["pie"]).setAll({location:1}),t("SlicedChart").setAll({paddingLeft:10,paddingRight:10,paddingTop:10,paddingBottom:10}),t("FunnelSeries").setAll({startLocation:0,endLocation:1,orientation:"vertical",alignLabels:!0,sequencedInterpolation:!0}),t("FunnelSlice").setAll({interactive:!0,expandDistance:0}),t("FunnelSlice").states.create("hover",{expandDistance:.15}),t("Label",["funnel"]).setAll({populateText:!0,text:"{category}: {valuePercentTotal.formatNumber('0.00p')}",centerY:n}),t("Label",["funnel","horizontal"]).setAll({centerX:0,centerY:n,rotation:-90}),t("Label",["funnel","vertical"]).setAll({centerY:n,centerX:0}),t("Tick",["funnel"]).setAll({location:1}),t("FunnelSlice",["funnel","link"]).setAll({fillOpacity:.5,strokeOpacity:0,expandDistance:-.1}),t("FunnelSlice",["funnel","link","vertical"]).setAll({height:10}),t("FunnelSlice",["funnel","link","horizontal"]).setAll({width:10}),t("PyramidSeries").setAll({valueIs:"area"}),t("FunnelSlice",["pyramid","link"]).setAll({fillOpacity:.5}),t("FunnelSlice",["pyramid","link","vertical"]).setAll({height:0}),t("FunnelSlice",["pyramid","link","horizontal"]).setAll({width:0}),t("FunnelSlice",["pyramid"]).setAll({interactive:!0,expandDistance:0}),t("FunnelSlice",["pyramid"]).states.create("hover",{expandDistance:.15}),t("Label",["pyramid"]).setAll({populateText:!0,text:"{category}: {valuePercentTotal.formatNumber('0.00p')}",centerY:n}),t("Label",["pyramid","horizontal"]).setAll({centerX:0,centerY:n,rotation:-90}),t("Label",["pyramid","vertical"]).setAll({centerY:n,centerX:0}),t("Tick",["pyramid"]).setAll({location:1}),t("FunnelSlice",["pictorial"]).setAll({interactive:!0,tooltipText:"{category}: {valuePercentTotal.formatNumber('0.00p')}"}),t("Label",["pictorial"]).setAll({populateText:!0,text:"{category}: {valuePercentTotal.formatNumber('0.00p')}",centerY:n}),t("Label",["pictorial","horizontal"]).setAll({centerX:0,centerY:n,rotation:-90}),t("Label",["pictorial","vertical"]).setAll({centerY:n,centerX:0}),t("FunnelSlice",["pictorial","link"]).setAll({fillOpacity:.5,width:0,height:0}),t("Tick",["pictorial"]).setAll({location:.5});{const i=t("Graphics",["pictorial","background"]);i.setAll({fillOpacity:.2}),f(i,"fill",e,"alternativeBackground")}}}class ye extends b{_afterNew(){this._defaultThemes.push(ge.new(this._root)),super._afterNew(),this.chartContainer.children.push(this.seriesContainer),this.seriesContainer.children.push(this.bulletsContainer)}_processSeries(e){super._processSeries(e),this.seriesContainer.children.moveValue(this.bulletsContainer,this.seriesContainer.children.length-1)}}Object.defineProperty(ye,"className",{enumerable:!0,configurable:!0,writable:!0,value:"PercentChart"}),Object.defineProperty(ye,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:b.classNames.concat([ye.className])});class fe extends m{constructor(){super(...arguments),Object.defineProperty(this,"slicesContainer",{enumerable:!0,configurable:!0,writable:!0,value:this.children.push(_.new(this._root,{position:"absolute",isMeasured:!1}))}),Object.defineProperty(this,"labelsContainer",{enumerable:!0,configurable:!0,writable:!0,value:this.children.push(_.new(this._root,{position:"absolute",isMeasured:!1}))}),Object.defineProperty(this,"ticksContainer",{enumerable:!0,configurable:!0,writable:!0,value:this.children.push(_.new(this._root,{position:"absolute",isMeasured:!1}))}),Object.defineProperty(this,"_lLabels",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"_rLabels",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"_hLabels",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"slices",{enumerable:!0,configurable:!0,writable:!0,value:this.addDisposer(this._makeSlices())}),Object.defineProperty(this,"labels",{enumerable:!0,configurable:!0,writable:!0,value:this.addDisposer(this._makeLabels())}),Object.defineProperty(this,"ticks",{enumerable:!0,configurable:!0,writable:!0,value:this.addDisposer(this._makeTicks())})}makeSlice(e){const t=this.slicesContainer.children.push(this.slices.make());return t.on("fill",()=>{this.updateLegendMarker(e)}),t.on("fillPattern",()=>{this.updateLegendMarker(e)}),t.on("stroke",()=>{this.updateLegendMarker(e)}),t._setDataItem(e),e.set("slice",t),this.slices.push(t),t}makeLabel(e){const t=this.labelsContainer.children.push(this.labels.make());return t._setDataItem(e),e.set("label",t),this.labels.push(t),t}_shouldMakeBullet(e){return null!=e.get("value")}makeTick(e){const t=this.ticksContainer.children.push(this.ticks.make());return t._setDataItem(e),e.set("tick",t),this.ticks.push(t),t}_afterNew(){this.fields.push("category","fill"),super._afterNew()}_onDataClear(){const e=this.get("colors");e&&e.reset();const t=this.get("patterns");t&&t.reset()}_prepareChildren(){if(super._prepareChildren(),this._lLabels=[],this._rLabels=[],this._hLabels=[],this._valuesDirty){let e=0,t=0,i=0,s=1/0,a=0;x(this._dataItems,i=>{let s=i.get("valueWorking",0);e+=s,t+=Math.abs(s)}),x(this._dataItems,e=>{let r=e.get("valueWorking",0);r>i&&(i=r),r<s&&(s=r),a++;let n=r/t;0==t&&(n=0),e.setRaw("valuePercentTotal",100*n)}),this.setPrivateRaw("valueLow",s),this.setPrivateRaw("valueHigh",i),this.setPrivateRaw("valueSum",e),this.setPrivateRaw("valueAverage",e/a),this.setPrivateRaw("valueAbsoluteSum",t)}}show(e){const t=Object.create(null,{show:{get:()=>super.show}});return v(this,void 0,void 0,function*(){let i=[];i.push(t.show.call(this,e)),i.push(this._sequencedShowHide(!0,e)),yield Promise.all(i)})}hide(e){const t=Object.create(null,{hide:{get:()=>super.hide}});return v(this,void 0,void 0,function*(){let i=[];i.push(t.hide.call(this,e)),i.push(this._sequencedShowHide(!1,e)),yield Promise.all(i)})}_updateChildren(){super._updateChildren(),this._valuesDirty&&x(this._dataItems,e=>{e.get("label").text.markDirtyText()}),(this.isDirty("legendLabelText")||this.isDirty("legendValueText"))&&x(this._dataItems,e=>{this.updateLegendValue(e)}),this._arrange()}_arrange(){this._arrangeDown(this._lLabels),this._arrangeUp(this._lLabels),this._arrangeDown(this._rLabels),this._arrangeUp(this._rLabels),this._arrangeLeft(this._hLabels),this._arrangeRight(this._hLabels),x(this.dataItems,e=>{this._updateTick(e)})}_afterChanged(){super._afterChanged(),this._arrange()}processDataItem(e){if(super.processDataItem(e),null==e.get("fill")){let t=this.get("colors");t&&e.setRaw("fill",t.next())}if(null==e.get("fillPattern")){let t=this.get("patterns");t&&e.setRaw("fillPattern",t.next())}}showDataItem(e,t){const i=Object.create(null,{showDataItem:{get:()=>super.showDataItem}});return v(this,void 0,void 0,function*(){const s=[i.showDataItem.call(this,e,t)];u(t)||(t=this.get("stateAnimationDuration",0));const a=this.get("stateAnimationEasing");let r=e.get("value");const n=e.animate({key:"valueWorking",to:r,duration:t,easing:a});n&&s.push(n.waitForStop());const l=e.get("tick");l&&s.push(l.show(t));const o=e.get("label");o&&s.push(o.show(t));const h=e.get("slice");h&&s.push(h.show(t)),h.get("active")&&h.states.applyAnimate("active"),yield Promise.all(s)})}hideDataItem(e,t){const i=Object.create(null,{hideDataItem:{get:()=>super.hideDataItem}});return v(this,void 0,void 0,function*(){const s=[i.hideDataItem.call(this,e,t)],a=this.states.create("hidden",{});u(t)||(t=a.get("stateAnimationDuration",this.get("stateAnimationDuration",0)));const r=a.get("stateAnimationEasing",this.get("stateAnimationEasing")),n=e.animate({key:"valueWorking",to:0,duration:t,easing:r});n&&s.push(n.waitForStop());const l=e.get("tick");l&&s.push(l.hide(t));const o=e.get("label");o&&s.push(o.hide(t));const h=e.get("slice");h.hideTooltip(),h&&s.push(h.hide(t)),yield Promise.all(s)})}disposeDataItem(e){super.disposeDataItem(e);let t=e.get("label");t&&(this.labels.removeValue(t),t.dispose());let i=e.get("tick");i&&(this.ticks.removeValue(i),i.dispose());let s=e.get("slice");s&&(this.slices.removeValue(s),s.dispose())}hoverDataItem(e){const t=e.get("slice");t&&!t.isHidden()&&t.hover()}unhoverDataItem(e){const t=e.get("slice");t&&t.unhover()}updateLegendMarker(e){if(e){const t=e.get("slice");if(t){const i=e.get("legendDataItem");if(i){const e=i.get("markerRectangle");x(w,i=>{null!=t.get(i)&&e.set(i,t.get(i))})}}}}_arrangeDown(e){if(e){let t=this._getNextDown();e.sort((e,t)=>e.y>t.y?1:e.y<t.y?-1:0),x(e,e=>{const i=e.label.adjustedLocalBounds();let s=i.top;e.y+s<t&&(e.y=t-s),e.label.set("y",e.y),t=e.y+i.bottom})}}_getNextUp(){return this.labelsContainer.maxHeight()}_getNextDown(){return 0}_arrangeUp(e){if(e){let t=this._getNextUp();e.sort((e,t)=>e.y<t.y?1:e.y>t.y?-1:0),x(e,e=>{const i=e.label.adjustedLocalBounds();let s=i.bottom;e.y+s>t&&(e.y=t-s),e.label.set("y",e.y),t=e.y+i.top})}}_arrangeRight(e){if(e){let t=0;e.sort((e,t)=>e.y>t.y?1:e.y<t.y?-1:0),x(e,e=>{const i=e.label.adjustedLocalBounds();let s=i.left;e.y+s<t&&(e.y=t-s),e.label.set("x",e.y),t=e.y+i.right})}}_arrangeLeft(e){if(e){let t=this.labelsContainer.maxWidth();e.sort((e,t)=>e.y<t.y?1:e.y>t.y?-1:0),x(e,e=>{const i=e.label.adjustedLocalBounds();let s=i.right;e.y+s>t&&(e.y=t-s),e.label.set("x",e.y),t=e.y+i.left})}}_updateSize(){super._updateSize(),this.markDirty()}_updateTick(e){}_dispose(){super._dispose();const e=this.chart;e&&e.series.removeValue(this)}}Object.defineProperty(fe,"className",{enumerable:!0,configurable:!0,writable:!0,value:"PercentSeries"}),Object.defineProperty(fe,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:m.classNames.concat([fe.className])});class be extends ye{constructor(){super(...arguments),Object.defineProperty(this,"_maxRadius",{enumerable:!0,configurable:!0,writable:!0,value:1})}_afterNew(){super._afterNew(),this.seriesContainer.setAll({x:n,y:n})}_prepareChildren(){super._prepareChildren();const e=this.chartContainer,t=e.innerWidth(),i=e.innerHeight(),s=this.get("startAngle",0),r=this.get("endAngle",0),n=this.get("innerRadius");let o=A(0,0,s,r,1);const h=t/(o.right-o.left),c=i/(o.bottom-o.top);let u={left:0,right:0,top:0,bottom:0};if(n instanceof l){let e=n.value,a=Math.min(h,c);e=Math.max(a*e,a-Math.min(i,t))/a,u=A(0,0,s,r,e),this.setPrivateRaw("irModifyer",e/n.value)}o=k([o,u]);const d=this._maxRadius;this._maxRadius=Math.min(h,c);const p=a(this.get("radius",0),this._maxRadius);this.seriesContainer.setAll({dy:-p*(o.bottom+o.top)/2,dx:-p*(o.right+o.left)/2}),(this.isDirty("startAngle")||this.isDirty("endAngle")||d!=this._maxRadius)&&this.series.each(e=>{e._markDirtyKey("startAngle")}),(this.isDirty("innerRadius")||this.isDirty("radius"))&&this.series.each(e=>{e._markDirtyKey("innerRadius")})}radius(e){let t=a(this.get("radius",0),this._maxRadius),i=a(this.get("innerRadius",0),t);if(e){let s=this.series.indexOf(e),r=this.series.length,n=e.get("radius");return null!=n?i+a(n,t-i):i+(t-i)/r*(s+1)}return t}innerRadius(e){const t=this.radius();let i=a(this.get("innerRadius",0),t);if(i<0&&(i=t+i),e){let s=this.series.indexOf(e),r=this.series.length,n=e.get("innerRadius");return null!=n?i+a(n,t-i):i+(t-i)/r*s}return i}_updateSize(){super._updateSize(),this.markDirtyKey("radius")}}Object.defineProperty(be,"className",{enumerable:!0,configurable:!0,writable:!0,value:"PieChart"}),Object.defineProperty(be,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:ye.classNames.concat([be.className])});class me extends fe{_makeSlices(){return new D(R.new({}),()=>pe._new(this._root,{themeTags:P(this.slices.template.get("themeTags",[]),["pie","series"])},[this.slices.template]))}_makeLabels(){return new D(R.new({}),()=>z._new(this._root,{themeTags:P(this.labels.template.get("themeTags",[]),["pie","series"])},[this.labels.template]))}_makeTicks(){return new D(R.new({}),()=>T._new(this._root,{themeTags:P(this.ticks.template.get("themeTags",[]),["pie","series"])},[this.ticks.template]))}processDataItem(e){super.processDataItem(e);const t=this.makeSlice(e);t.on("scale",()=>{this._updateTick(e)}),t.on("shiftRadius",()=>{this._updateTick(e)}),t.events.on("positionchanged",()=>{this._updateTick(e)});const i=this.makeLabel(e);i.events.on("positionchanged",()=>{this._updateTick(e)}),this.makeTick(e),t.events.on("positionchanged",()=>{i.markDirty()})}_getNextUp(){const e=this.chart;return e?e._maxRadius:this.labelsContainer.maxHeight()/2}_getNextDown(){const e=this.chart;return e?-e._maxRadius:-this.labelsContainer.maxHeight()/2}_prepareChildren(){super._prepareChildren();const e=this.chart;if(e){if(this.isDirty("alignLabels")){let e=this.labels.template;if(this.get("alignLabels"))e.set("textType","aligned");else{let t=e.get("textType");null!=t&&"aligned"!=t||e.set("textType","adjusted")}}if(this._valuesDirty||this.isDirty("radius")||this.isDirty("innerRadius")||this.isDirty("startAngle")||this.isDirty("endAngle")||this.isDirty("alignLabels")){this.markDirtyBounds();const t=this.get("startAngle",e.get("startAngle",-90)),i=this.get("endAngle",e.get("endAngle",270))-t;let s=t;const a=e.radius(this);this.setPrivateRaw("radius",a);let n=e.innerRadius(this)*e.getPrivate("irModifyer",1);n<0&&(n=a+n),x(this._dataItems,e=>{this.updateLegendValue(e);let t=i*e.get("valuePercentTotal")/100;const l=e.get("slice");if(l){l.set("radius",a),l.set("innerRadius",n),l.set("startAngle",s),l.set("arc",t);const i=e.get("fill");l._setDefault("fill",i),l._setDefault("stroke",i);const r=e.get("fillPattern");l._setDefault("fillPattern",r)}let o=r(s+t/2);const c=e.get("label");if(c&&(c.setPrivate("radius",a),c.setPrivate("innerRadius",n),c.set("labelAngle",o),"aligned"==c.get("textType"))){let e=a+c.get("radius",0),t=a*h(o);o>90&&o<=270?(c.isHidden()||c.isHiding()||this._lLabels.push({label:c,y:t}),e*=-1,e-=this.labelsContainer.get("paddingLeft",0),c.set("centerX",p),c.setPrivateRaw("left",!0)):(c.isHidden()||c.isHiding()||this._rLabels.push({label:c,y:t}),e+=this.labelsContainer.get("paddingRight",0),c.set("centerX",0),c.setPrivateRaw("left",!1)),c.set("x",e),c.set("y",a*h(o))}s+=t,this._updateTick(e)})}}}_updateTick(e){const t=e.get("tick"),i=e.get("label"),s=e.get("slice"),a=t.get("location",1);if(t&&i&&s){const e=(s.get("shiftRadius",0)+s.get("radius",0))*s.get("scale",1)*a,r=i.get("labelAngle",0),n=o(r),l=h(r),c=this.labelsContainer,u=c.get("paddingLeft",0),d=c.get("paddingRight",0);let p=0,g=0;p=i.x(),g=i.y();let y=[];if(0!=p||0!=g){if("circular"==i.get("textType")){const e=i.radius()-i.get("paddingBottom",0),t=i.get("labelAngle",0);p=e*o(t),g=e*h(t)}let t=-d;i.getPrivate("left")&&(t=u),y=[{x:s.x()+e*n,y:s.y()+e*l},{x:p+t,y:g},{x:p,y:g}]}t.set("points",y)}}_positionBullet(e){const t=e.get("sprite");if(t){const i=t.dataItem.get("slice");if(i){const s=i.get("innerRadius",0),a=i.get("radius",0),r=i.get("startAngle",0)+i.get("arc",0)*e.get("locationX",.5),n=s+(a-s)*e.get("locationY",.5);t.setAll({x:o(r)*n,y:h(r)*n})}}}}async function _e(e){L("AM5C-5405-1606-1671-1138"),document.querySelectorAll("[data-graphic]").forEach(e=>{const t=e.getAttribute("data-graphic-type")||"pie",i=e.getAttribute("data-graphic-label-color")||"#2C3495",a=e.getAttribute("data-graphic-slice-border-color")||"#F8F9FB",r=e.getAttribute("data-graphic-slice-fill-color1")||"#6F4B86",l=e.getAttribute("data-graphic-slice-fill-color2")||"#B9DDE6",o={label:e.getAttribute("data-graphic-item1-label")||"Item 1",percentage:parseFloat(e.getAttribute("data-graphic-item1-percentage")||15),url:e.getAttribute("data-graphic-item1-url")||"/lung-cancer/types-of-lung-cancer/small-cell-lung-cancer"},h={label:e.getAttribute("data-graphic-item2-label")||"Item 2",percentage:parseFloat(e.getAttribute("data-graphic-item2-percentage")||85),url:e.getAttribute("data-graphic-item2-url")||"/lung-cancer/types-of-lung-cancer/non-small-cell-lung-cancer"};"pie"===t&&function({element:e,labelColor:t,sliceBorderColor:i,sliceFillColors:a,data:r}){C(function(){const l=N.new(e);l.setThemes([$.new(l)]);const o=S(M.fromString(t)),h=S(M.fromString(i)),c=S(M.fromString(a[0])),u=S(M.fromString(a[1])),d=parseFloat(getComputedStyle(document.documentElement).fontSize)||16,p=Math.round(2.5*d),g=l.container.children.push(be.new(l,{layout:l.horizontalLayout,startAngle:250,endAngle:610})),f=g.series.push(me.new(l,{valueField:"value",categoryField:"type",alignLabels:!1,radius:y(80)}));f.get("colors").set("colors",[c,u]),f.slices.template.setAll({stroke:h,strokeWidth:10,strokeOpacity:1,interactive:!1,tooltipText:""}),f.slices.template.set("toggleKey",void 0),f.slices.template.events.on("pointerdown",e=>e.event?.stopPropagation?.()),f.labelsContainer.setAll({layer:100}),f.ticksContainer.setAll({layer:90}),f.labels.template.setAll({text:"{type} â†—",populateText:!0,inside:!1,radius:p,fontSize:18,fontWeight:"600",fill:o,paddingLeft:Math.round(1*d),paddingRight:Math.round(1*d),paddingTop:Math.round(.5*d),paddingBottom:Math.round(.5*d),interactive:!0,cursorOverStyle:"pointer",centerX:n,textAlign:"center",oversizedBehavior:"wrap"}),f.events.on("datavalidated",()=>{f.dataItems.forEach(e=>{const t=e.get("label");if(!t)return;const i=O.new(l,{fill:S(16777215),fillOpacity:1,stroke:o,strokeWidth:1,strokeOpacity:1,cornerRadiusTL:4,cornerRadiusTR:4,cornerRadiusBR:4,cornerRadiusBL:4});t.set("background",i),t.events.on("pointerover",()=>{i.animate({key:"fill",to:o,duration:300,easing:j(I)}),t.animate({key:"fill",to:S(16777215),duration:300,easing:j(I)})}),t.events.on("pointerout",()=>{i.animate({key:"fill",to:S(16777215),duration:300,easing:j(I)}),t.animate({key:"fill",to:o,duration:300,easing:j(I)})})})}),f.labels.template.events.on("pointerdown",e=>{const t=e.target.dataItem?.dataContext?.url;t&&window.open(t,"noopener,noreferrer")}),f.data.setAll(r),f.bullets.push(function(e,t,i){const a=0===t.dataItems.indexOf(i)?S(16777215):o;return B.new(e,{sprite:s.new(e,{text:"{valuePercentTotal.formatNumber('0.')}%",populateText:!0,centerX:n,centerY:n,fontSize:20,fontWeight:"800",fill:a})})});const b=()=>{if(l.isDisposed())return;const t=e.offsetWidth||l.dom.clientWidth||window.innerWidth;let i,s,a,r,n;t<480?(i=75,s=.55,a=14,r=.85,n=15):t<768?(i=78,s=.8,a=16,r=.8,n=32):(i=80,s=1,a=18,r=.7,n=38.75);const o=p*s,h=t*r;f.set("radius",y(i)),f.labels.template.setAll({radius:o,fontSize:a,maxWidth:h}),e.style.height=`${n}rem`};b(),window.addEventListener("resize",()=>{l.isDisposed()||(l.resize(),l.events.once("frameended",b))}),f.appear(700),g.appear(700,50)})}({element:e,labelColor:i,sliceBorderColor:a,sliceFillColors:[r,l],data:[{type:o.label,value:o.percentage,url:o.url},{type:h.label,value:h.percentage,url:h.url}]})})}Object.defineProperty(me,"className",{enumerable:!0,configurable:!0,writable:!0,value:"PieSeries"}),Object.defineProperty(me,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:fe.classNames.concat([me.className])});export{_e as default};
