{"version":3,"file":"donation-form-Da8Y4GSQ.js","sources":["../src/components/forms/donation-form.js"],"sourcesContent":["/**\n *\n * @param {HTMLElement} form\n */\nexport default function (form) {\n  const campaignId = form.dataset.campaignId ?? 'FUNFTWMRGBN'\n\n  // Autoselect the first radio button for donation-amount if available\n  const amountRadios = form.querySelectorAll(\n    'input[name=\"donation-amount\"][type=\"radio\"]'\n  )\n  if (amountRadios.length > 0) {\n    amountRadios[0].checked = true\n  }\n\n  form.addEventListener('submit', (e) => {\n    e.preventDefault()\n    const formData = new FormData(form)\n    const recurring = formData.get('recurring') ?? 'once'\n    let amount = formData.get('donation-amount')\n\n    // Clean and parse amount; default to 25 if invalid or missing\n    amount = Number(amount?.replace(/\\D/g, '')) || 25\n\n    console.log(campaignId, recurring, amount)\n    FundraiseUp.openCheckout(campaignId, {\n      donation: {\n        recurring,\n        amount,\n      },\n    })\n  })\n}\n"],"names":["donationForm","form","campaignId","dataset","amountRadios","querySelectorAll","length","checked","addEventListener","e","preventDefault","formData","FormData","recurring","get","amount","Number","replace","FundraiseUp","openCheckout","donation"],"mappings":"AAIe,SAAAA,EAAUC,GACvB,MAAMC,EAAaD,EAAKE,QAAQD,YAAc,cAGxCE,EAAeH,EAAKI,iBACxB,+CAEED,EAAaE,OAAS,IACxBF,EAAa,GAAGG,SAAU,GAG5BN,EAAKO,iBAAiB,SAAWC,IAC/BA,EAAEC,iBACF,MAAMC,EAAW,IAAIC,SAASX,GACxBY,EAAYF,EAASG,IAAI,cAAgB,OAC/C,IAAIC,EAASJ,EAASG,IAAI,mBAG1BC,EAASC,OAAOD,GAAQE,QAAQ,MAAO,MAAQ,GAG/CC,YAAYC,aAAajB,EAAY,CACnCkB,SAAU,CACRP,YACAE,aAIR"}