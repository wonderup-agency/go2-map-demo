{"version":3,"file":"graphics-bars-C6w8uE3Z.js","sources":["../node_modules/@amcharts/amcharts5/.internal/core/render/Button.js","../node_modules/@amcharts/amcharts5/.internal/charts/xy/XYChartDefaultTheme.js","../node_modules/@amcharts/amcharts5/.internal/charts/xy/XYChart.js","../node_modules/@amcharts/amcharts5/.internal/charts/xy/axes/Grid.js","../node_modules/@amcharts/amcharts5/.internal/charts/xy/series/XYSeries.js","../node_modules/@amcharts/amcharts5/.internal/charts/xy/series/BaseColumnSeries.js","../node_modules/@amcharts/amcharts5/.internal/charts/xy/axes/Axis.js","../node_modules/@amcharts/amcharts5/.internal/charts/xy/axes/ValueAxis.js","../node_modules/@amcharts/amcharts5/.internal/charts/xy/axes/CategoryAxis.js","../node_modules/@amcharts/amcharts5/.internal/charts/xy/axes/AxisLabel.js","../node_modules/@amcharts/amcharts5/.internal/charts/xy/axes/AxisTick.js","../node_modules/@amcharts/amcharts5/.internal/charts/xy/axes/AxisRenderer.js","../node_modules/@amcharts/amcharts5/.internal/charts/xy/axes/AxisRendererX.js","../node_modules/@amcharts/amcharts5/.internal/charts/xy/axes/AxisRendererY.js","../node_modules/@amcharts/amcharts5/.internal/charts/xy/series/ColumnSeries.js","../src/components/graphics/graphics-bars.js"],"sourcesContent":["import { RoundedRectangle } from \"../render/RoundedRectangle\";\r\nimport { Container } from \"./Container\";\r\nimport * as $utils from \"../../core/util/Utils\";\r\n/**\r\n * Draws an interactive button.\r\n *\r\n * @see {@link https://www.amcharts.com/docs/v5/concepts/common-elements/buttons/} for more info\r\n * @important\r\n */\r\nexport class Button extends Container {\r\n    _afterNew() {\r\n        this._settings.themeTags = $utils.mergeTags(this._settings.themeTags, [\"button\"]);\r\n        super._afterNew();\r\n        if (!this._settings.background) {\r\n            this.set(\"background\", RoundedRectangle.new(this._root, {\r\n                themeTags: $utils.mergeTags(this._settings.themeTags, [\"background\"])\r\n            }));\r\n        }\r\n        this.setPrivate(\"trustBounds\", true);\r\n    }\r\n    _prepareChildren() {\r\n        super._prepareChildren();\r\n        if (this.isDirty(\"icon\")) {\r\n            const previous = this._prevSettings.icon;\r\n            const icon = this.get(\"icon\");\r\n            if (icon !== previous) {\r\n                this._disposeProperty(\"icon\");\r\n                if (previous) {\r\n                    previous.dispose();\r\n                }\r\n                if (icon) {\r\n                    this.children.push(icon);\r\n                }\r\n                this._prevSettings.icon = icon;\r\n            }\r\n        }\r\n        if (this.isDirty(\"label\")) {\r\n            const previous = this._prevSettings.label;\r\n            const label = this.get(\"label\");\r\n            if (label !== previous) {\r\n                this._disposeProperty(\"label\");\r\n                if (previous) {\r\n                    previous.dispose();\r\n                }\r\n                if (label) {\r\n                    this.children.push(label);\r\n                }\r\n                this._prevSettings.label = label;\r\n            }\r\n        }\r\n    }\r\n}\r\nObject.defineProperty(Button, \"className\", {\r\n    enumerable: true,\r\n    configurable: true,\r\n    writable: true,\r\n    value: \"Button\"\r\n});\r\nObject.defineProperty(Button, \"classNames\", {\r\n    enumerable: true,\r\n    configurable: true,\r\n    writable: true,\r\n    value: Container.classNames.concat([Button.className])\r\n});\r\n//# sourceMappingURL=Button.js.map","import { Theme } from \"../../core/Theme\";\r\nimport { percent, p50, p100 } from \"../../core/util/Percent\";\r\nimport { Color } from \"../../core/util/Color\";\r\nimport { ColorSet } from \"../../core/util/ColorSet\";\r\nimport { setColor } from \"../../themes/DefaultTheme\";\r\nimport * as $time from \"../../core/util/Time\";\r\nimport * as $type from \"../../core/util/Type\";\r\nimport * as $math from \"../../core/util/Math\";\r\nimport * as $object from \"../../core/util/Object\";\r\nimport * as $array from \"../../core/util/Array\";\r\n/**\r\n * @ignore\r\n */\r\nexport class XYChartDefaultTheme extends Theme {\r\n    setupDefaultRules() {\r\n        super.setupDefaultRules();\r\n        const ic = this._root.interfaceColors;\r\n        const language = this._root.language;\r\n        const r = this.rule.bind(this);\r\n        /**\r\n         * ========================================================================\r\n         * charts/xy\r\n         * ========================================================================\r\n         */\r\n        r(\"XYChart\").setAll({\r\n            colors: ColorSet.new(this._root, {}),\r\n            paddingLeft: 20,\r\n            paddingRight: 20,\r\n            paddingTop: 16,\r\n            paddingBottom: 16,\r\n            panX: false,\r\n            panY: false,\r\n            wheelStep: 0.25,\r\n            arrangeTooltips: true,\r\n            pinchZoomX: false,\r\n            pinchZoomY: false\r\n        });\r\n        r(\"XYSeries\").setAll({\r\n            legendLabelText: \"{name}\"\r\n        });\r\n        r(\"Rectangle\", [\"plotbackground\", \"xy\", \"background\"]).setAll({\r\n            fill: Color.fromHex(0x000000),\r\n            fillOpacity: 0\r\n        });\r\n        /**\r\n         * ------------------------------------------------------------------------\r\n         * charts/xy: XYChartScrollbar\r\n         * ------------------------------------------------------------------------\r\n         */\r\n        r(\"XYChart\", [\"scrollbar\", \"chart\"]).setAll({\r\n            paddingBottom: 0,\r\n            paddingLeft: 0,\r\n            paddingTop: 0,\r\n            paddingRight: 0,\r\n            colors: ColorSet.new(this._root, {\r\n                saturation: 0\r\n            })\r\n        });\r\n        {\r\n            const rule = r(\"Graphics\", [\"scrollbar\", \"overlay\"]);\r\n            rule.setAll({\r\n                fillOpacity: 0.5\r\n            });\r\n            setColor(rule, \"fill\", ic, \"background\");\r\n        }\r\n        // Class: RoundedRectangle\r\n        r(\"RoundedRectangle\", [\"xy\", \"scrollbar\", \"thumb\"]).setAll({\r\n            cornerRadiusTR: 0,\r\n            cornerRadiusTL: 0,\r\n            cornerRadiusBR: 0,\r\n            cornerRadiusBL: 0,\r\n            fillOpacity: 0,\r\n            focusable: true\r\n        });\r\n        r(\"RoundedRectangle\", [\"xy\", \"scrollbar\", \"thumb\"]).states.create(\"hover\", { fillOpacity: 0.4 });\r\n        r(\"RoundedRectangle\", [\"xy\", \"scrollbar\", \"chart\", \"background\"]).setAll({\r\n            cornerRadiusTL: 0,\r\n            cornerRadiusBL: 0,\r\n            cornerRadiusTR: 0,\r\n            cornerRadiusBR: 0\r\n        });\r\n        r(\"RoundedRectangle\", [\"xy\", \"scrollbar\", \"chart\", \"background\", \"resize\", \"button\"]).setAll({\r\n            cornerRadiusBL: 40,\r\n            cornerRadiusBR: 40,\r\n            cornerRadiusTL: 40,\r\n            cornerRadiusTR: 40\r\n        });\r\n        r(\"AxisRendererX\", [\"xy\", \"chart\", \"scrollbar\"]).setAll({\r\n            strokeOpacity: 0,\r\n            inside: true\r\n        });\r\n        r(\"AxisRendererY\", [\"xy\", \"chart\", \"scrollbar\"]).setAll({\r\n            strokeOpacity: 0,\r\n            inside: true,\r\n            minGridDistance: 5\r\n        });\r\n        r(\"AxisLabel\", [\"xy\", \"scrollbar\", \"x\"]).setAll({\r\n            opacity: 0.5,\r\n            centerY: p100,\r\n            minPosition: 0.01,\r\n            maxPosition: 0.99,\r\n            fontSize: \"0.8em\"\r\n        });\r\n        r(\"AxisLabel\", [\"category\"]).setAll({\r\n            text: \"{category}\",\r\n            populateText: true\r\n        });\r\n        r(\"AxisLabel\", [\"x\"]).setAll({\r\n            centerY: 0\r\n        });\r\n        r(\"AxisLabel\", [\"x\", \"inside\"]).setAll({\r\n            centerY: p100\r\n        });\r\n        r(\"AxisLabel\", [\"x\", \"inside\", \"opposite\"]).setAll({\r\n            centerY: 0\r\n        });\r\n        r(\"AxisLabel\", [\"x\", \"opposite\"]).setAll({\r\n            centerY: p100\r\n        });\r\n        r(\"AxisLabel\", [\"y\"]).setAll({\r\n            centerX: p100\r\n        });\r\n        r(\"AxisLabel\", [\"y\", \"inside\"]).setAll({\r\n            centerX: 0\r\n        });\r\n        r(\"AxisLabel\", [\"y\", \"inside\", \"opposite\"]).setAll({\r\n            centerX: p100\r\n        });\r\n        r(\"AxisLabel\", [\"y\", \"opposite\"]).setAll({\r\n            centerX: 0\r\n        });\r\n        r(\"AxisLabel\", [\"minor\"]).setAll({\r\n            fontSize: \"0.6em\"\r\n        });\r\n        r(\"AxisLabel\", [\"xy\", \"scrollbar\", \"y\"]).setAll({\r\n            visible: false\r\n        });\r\n        // Class: Grid\r\n        r(\"Grid\", [\"xy\", \"scrollbar\", \"y\"]).setAll({\r\n            visible: false\r\n        });\r\n        // Class: Grid\r\n        r(\"Grid\", [\"xy\", \"scrollbar\", \"x\"]).setAll({\r\n            opacity: 0.5\r\n        });\r\n        /**\r\n         * ------------------------------------------------------------------------\r\n         * charts/xy: Cursor\r\n         * ------------------------------------------------------------------------\r\n         */\r\n        r(\"XYCursor\").setAll({\r\n            behavior: \"none\",\r\n            layer: 30,\r\n            exportable: false,\r\n            snapToSeriesBy: \"xy\",\r\n            moveThreshold: 1\r\n        });\r\n        {\r\n            const rule = r(\"Grid\", [\"cursor\", \"x\"]);\r\n            rule.setAll({\r\n                forceInactive: true,\r\n                strokeOpacity: 0.8,\r\n                strokeDasharray: [2, 2],\r\n                role: \"slider\",\r\n                ariaLabel: language.translate(\"Use left and right arrows to move selection\")\r\n            });\r\n            setColor(rule, \"stroke\", ic, \"alternativeBackground\");\r\n        }\r\n        {\r\n            const rule = r(\"Grid\", [\"cursor\", \"y\"]);\r\n            rule.setAll({\r\n                forceInactive: true,\r\n                strokeOpacity: 0.8,\r\n                strokeDasharray: [2, 2],\r\n                role: \"slider\",\r\n                ariaLabel: language.translate(\"Use up and down arrows to move selection\")\r\n            });\r\n            setColor(rule, \"stroke\", ic, \"alternativeBackground\");\r\n        }\r\n        {\r\n            const rule = r(\"Graphics\", [\"cursor\", \"selection\"]);\r\n            rule.setAll({\r\n                fillOpacity: 0.15,\r\n            });\r\n            setColor(rule, \"fill\", ic, \"alternativeBackground\");\r\n        }\r\n        /**\r\n         * ------------------------------------------------------------------------\r\n         * charts/xy: Axes\r\n         * ------------------------------------------------------------------------\r\n         */\r\n        r(\"Axis\").setAll({\r\n            zoomOut: true,\r\n            start: 0,\r\n            end: 1,\r\n            minZoomCount: 1,\r\n            maxZoomCount: Infinity,\r\n            maxZoomFactor: 1000,\r\n            maxDeviation: 0.1,\r\n            snapTooltip: true,\r\n            tooltipLocation: 0.5,\r\n            panX: true,\r\n            panY: true,\r\n            zoomX: true,\r\n            zoomY: true,\r\n            fixAxisSize: true\r\n        });\r\n        r(\"AxisLabel\").setAll({\r\n            location: 0.5,\r\n            multiLocation: 0,\r\n            centerX: p50,\r\n            centerY: p50,\r\n            paddingTop: 3,\r\n            paddingBottom: 3,\r\n            paddingLeft: 5,\r\n            paddingRight: 5\r\n        });\r\n        // The following is deprecated following text measuring updates in 5.0.5\r\n        // r(\"AxisLabel\", [\"y\"]).setAll({\r\n        // \ttextAlign: \"right\"\r\n        // });\r\n        // r(\"AxisLabel\", [\"y\", \"opposite\"]).setAll({\r\n        // \ttextAlign: \"left\"\r\n        // });\r\n        r(\"Container\", [\"axis\", \"header\"]).setAll({\r\n            layer: 30\r\n        });\r\n        r(\"Rectangle\", [\"axis\", \"header\", \"background\"]).setAll({\r\n            crisp: true\r\n        });\r\n        {\r\n            const rule = r(\"AxisRenderer\");\r\n            rule.setAll({\r\n                crisp: true,\r\n                strokeOpacity: 0\r\n            });\r\n            setColor(rule, \"stroke\", ic, \"grid\");\r\n        }\r\n        r(\"AxisRendererX\").setAll({\r\n            minGridDistance: 120,\r\n            opposite: false,\r\n            inversed: false,\r\n            cellStartLocation: 0,\r\n            cellEndLocation: 1,\r\n            width: p100\r\n        });\r\n        r(\"AxisRendererY\").setAll({\r\n            minGridDistance: 40,\r\n            opposite: false,\r\n            inversed: false,\r\n            cellStartLocation: 0,\r\n            cellEndLocation: 1,\r\n            height: p100\r\n        });\r\n        {\r\n            const rule = r(\"Rectangle\", [\"axis\", \"thumb\", \"zoomgrip\"]);\r\n            rule.setAll({\r\n                fillOpacity: 0\r\n            });\r\n            setColor(rule, \"fill\", ic, \"alternativeBackground\");\r\n            rule.states.create(\"hover\", { fillOpacity: 0.1 });\r\n        }\r\n        r(\"Rectangle\", [\"axis\", \"thumb\", \"x\", \"zoomgrip\"]).setAll({\r\n            cursorOverStyle: \"ew-resize\"\r\n        });\r\n        r(\"Rectangle\", [\"axis\", \"thumb\", \"y\", \"zoomgrip\"]).setAll({\r\n            cursorOverStyle: \"ns-resize\"\r\n        });\r\n        {\r\n            const rule = r(\"Grid\");\r\n            rule.setAll({\r\n                location: 0,\r\n                strokeOpacity: 0.15,\r\n                crisp: true\r\n            });\r\n            setColor(rule, \"stroke\", ic, \"grid\");\r\n        }\r\n        {\r\n            const rule = r(\"Grid\", [\"minor\"]);\r\n            rule.setAll({\r\n                location: 0,\r\n                strokeOpacity: 0.07,\r\n                crisp: true\r\n            });\r\n            setColor(rule, \"stroke\", ic, \"grid\");\r\n        }\r\n        r(\"Grid\", [\"base\"]).setAll({\r\n            strokeOpacity: 0.3\r\n        });\r\n        {\r\n            const rule = r(\"Graphics\", [\"axis\", \"fill\"]);\r\n            rule.setAll({\r\n                visible: false,\r\n                isMeasured: false,\r\n                position: \"absolute\",\r\n                fillOpacity: 0.05,\r\n            });\r\n            setColor(rule, \"fill\", ic, \"alternativeBackground\");\r\n        }\r\n        r(\"Graphics\", [\"axis\", \"fill\", \"range\"]).setAll({\r\n            isMeasured: true\r\n        });\r\n        // hides all elements of series axis range\r\n        r(\"Graphics\", [\"series\", \"fill\", \"range\"]).setAll({\r\n            visible: false,\r\n            isMeasured: true\r\n        });\r\n        r(\"Grid\", [\"series\", \"range\"]).setAll({\r\n            visible: false\r\n        });\r\n        r(\"AxisTick\", [\"series\", \"range\"]).setAll({\r\n            visible: false\r\n        });\r\n        r(\"AxisLabel\", [\"series\", \"range\"]).setAll({\r\n            visible: false\r\n        });\r\n        {\r\n            const rule = r(\"AxisTick\");\r\n            rule.setAll({\r\n                location: 0.5,\r\n                multiLocation: 0,\r\n                strokeOpacity: 1,\r\n                isMeasured: false,\r\n                position: \"absolute\",\r\n                visible: false\r\n            });\r\n            setColor(rule, \"stroke\", ic, \"grid\");\r\n        }\r\n        r(\"CategoryAxis\").setAll({\r\n            startLocation: 0,\r\n            endLocation: 1,\r\n            fillRule: (dataItem, index) => {\r\n                const axisFill = dataItem.get(\"axisFill\");\r\n                if (axisFill) {\r\n                    if (!$type.isNumber(index) || index % 2 == 0) {\r\n                        axisFill.setPrivate(\"visible\", true);\r\n                    }\r\n                    else {\r\n                        axisFill.setPrivate(\"visible\", false);\r\n                    }\r\n                }\r\n            }\r\n        });\r\n        const gridIntervals = [\r\n            { timeUnit: \"millisecond\", count: 1 },\r\n            { timeUnit: \"millisecond\", count: 5 },\r\n            { timeUnit: \"millisecond\", count: 10 },\r\n            { timeUnit: \"millisecond\", count: 50 },\r\n            { timeUnit: \"millisecond\", count: 100 },\r\n            { timeUnit: \"millisecond\", count: 500 },\r\n            { timeUnit: \"second\", count: 1 },\r\n            { timeUnit: \"second\", count: 5 },\r\n            { timeUnit: \"second\", count: 10 },\r\n            { timeUnit: \"second\", count: 30 },\r\n            { timeUnit: \"minute\", count: 1 },\r\n            { timeUnit: \"minute\", count: 5 },\r\n            { timeUnit: \"minute\", count: 10 },\r\n            { timeUnit: \"minute\", count: 15 },\r\n            { timeUnit: \"minute\", count: 30 },\r\n            { timeUnit: \"hour\", count: 1 },\r\n            { timeUnit: \"hour\", count: 3 },\r\n            { timeUnit: \"hour\", count: 6 },\r\n            { timeUnit: \"hour\", count: 12 },\r\n            { timeUnit: \"day\", count: 1 },\r\n            { timeUnit: \"day\", count: 2 },\r\n            { timeUnit: \"day\", count: 3 },\r\n            { timeUnit: \"day\", count: 4 },\r\n            { timeUnit: \"day\", count: 5 },\r\n            { timeUnit: \"week\", count: 1 },\r\n            { timeUnit: \"month\", count: 1 },\r\n            { timeUnit: \"month\", count: 2 },\r\n            { timeUnit: \"month\", count: 3 },\r\n            { timeUnit: \"month\", count: 6 },\r\n            { timeUnit: \"year\", count: 1 },\r\n            { timeUnit: \"year\", count: 2 },\r\n            { timeUnit: \"year\", count: 5 },\r\n            { timeUnit: \"year\", count: 10 },\r\n            { timeUnit: \"year\", count: 50 },\r\n            { timeUnit: \"year\", count: 100 },\r\n            { timeUnit: \"year\", count: 200 },\r\n            { timeUnit: \"year\", count: 500 },\r\n            { timeUnit: \"year\", count: 1000 },\r\n            { timeUnit: \"year\", count: 2000 },\r\n            { timeUnit: \"year\", count: 5000 },\r\n            { timeUnit: \"year\", count: 10000 },\r\n            { timeUnit: \"year\", count: 100000 }\r\n        ];\r\n        const dateFormats = {\r\n            \"millisecond\": language.translate(\"_date_millisecond\"),\r\n            \"second\": language.translate(\"_date_second\"),\r\n            \"minute\": language.translate(\"_date_minute\"),\r\n            \"hour\": language.translate(\"_date_hour\"),\r\n            \"day\": language.translate(\"_date_day\"),\r\n            \"week\": language.translate(\"_date_day\"),\r\n            \"month\": language.translate(\"_date_month\"),\r\n            \"year\": language.translate(\"_date_year\")\r\n        };\r\n        const periodChangeDateFormats = {\r\n            \"millisecond\": language.translate(\"_date_millisecond\"),\r\n            \"second\": language.translate(\"_date_second\"),\r\n            \"minute\": language.translate(\"_date_minute\"),\r\n            \"hour\": language.translate(\"_date_day\"),\r\n            \"day\": language.translate(\"_date_day\"),\r\n            \"week\": language.translate(\"_date_day\"),\r\n            \"month\": language.translate(\"_date_month\") + \" \" + language.translate(\"_date_year\"),\r\n            \"year\": language.translate(\"_date_year\")\r\n        };\r\n        const tooltipDateFormats = {\r\n            \"millisecond\": language.translate(\"_date_millisecond_full\"),\r\n            \"second\": language.translate(\"_date_second_full\"),\r\n            \"minute\": language.translate(\"_date_minute_full\"),\r\n            \"hour\": language.translate(\"_date_hour_full\"),\r\n            \"day\": language.translate(\"_date_day_full\"),\r\n            \"week\": language.translate(\"_date_week_full\"),\r\n            \"month\": language.translate(\"_date_month_full\"),\r\n            \"year\": language.translate(\"_date_year\")\r\n        };\r\n        r(\"CategoryDateAxis\").setAll({\r\n            markUnitChange: true,\r\n            gridIntervals: $array.copy(gridIntervals),\r\n            dateFormats: $object.copy(dateFormats),\r\n            periodChangeDateFormats: $object.copy(periodChangeDateFormats)\r\n        });\r\n        r(\"DateAxis\").setAll({\r\n            maxZoomFactor: null,\r\n            strictMinMax: true,\r\n            startLocation: 0,\r\n            endLocation: 1,\r\n            markUnitChange: true,\r\n            groupData: false,\r\n            groupCount: 500,\r\n            skipFirstMinor: true,\r\n            weekLabelLocation: 0,\r\n            gridIntervals: $array.copy(gridIntervals),\r\n            dateFormats: $object.copy(dateFormats),\r\n            periodChangeDateFormats: $object.copy(periodChangeDateFormats),\r\n            tooltipDateFormats: tooltipDateFormats,\r\n            groupIntervals: [\r\n                { timeUnit: \"millisecond\", count: 1 },\r\n                { timeUnit: \"millisecond\", count: 10 },\r\n                { timeUnit: \"millisecond\", count: 100 },\r\n                { timeUnit: \"second\", count: 1 },\r\n                { timeUnit: \"second\", count: 10 },\r\n                { timeUnit: \"minute\", count: 1 },\r\n                { timeUnit: \"minute\", count: 10 },\r\n                { timeUnit: \"hour\", count: 1 },\r\n                { timeUnit: \"day\", count: 1 },\r\n                { timeUnit: \"week\", count: 1 },\r\n                { timeUnit: \"month\", count: 1 },\r\n                { timeUnit: \"year\", count: 1 }\r\n            ],\r\n            fillRule: (dataItem) => {\r\n                const axisFill = dataItem.get(\"axisFill\");\r\n                if (axisFill) {\r\n                    const axis = dataItem.component;\r\n                    const value = dataItem.get(\"value\");\r\n                    const endValue = dataItem.get(\"endValue\");\r\n                    const intervalDuration = axis.intervalDuration();\r\n                    const baseInterval = axis.getPrivate(\"baseInterval\");\r\n                    const gridInterval = axis.getPrivate(\"gridInterval\", baseInterval);\r\n                    let min = axis.getPrivate(\"min\", 0);\r\n                    min = $time.round(new Date(min), gridInterval.timeUnit, gridInterval.count, this._root.locale.firstDayOfWeek, this._root.utc, undefined, this._root.timezone).getTime();\r\n                    if (value != null && endValue != null) {\r\n                        const val = Math.round(Math.round((value - min) / intervalDuration)) / 2;\r\n                        if (val == Math.round(val)) {\r\n                            axisFill.setPrivate(\"visible\", true);\r\n                        }\r\n                        else {\r\n                            axisFill.setPrivate(\"visible\", false);\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        });\r\n        r(\"GaplessDateAxis\").setAll({\r\n            fillRule: (dataItem) => {\r\n                const axisFill = dataItem.get(\"axisFill\");\r\n                if (axisFill) {\r\n                    const index = dataItem.get(\"index\");\r\n                    let visible = false;\r\n                    if (!$type.isNumber(index) || index % 2 == 0) {\r\n                        visible = true;\r\n                    }\r\n                    axisFill.setPrivate(\"visible\", visible);\r\n                }\r\n            }\r\n        });\r\n        r(\"ValueAxis\").setAll({\r\n            baseValue: 0,\r\n            logarithmic: false,\r\n            strictMinMax: false,\r\n            autoZoom: true,\r\n            fillRule: (dataItem) => {\r\n                const axisFill = dataItem.get(\"axisFill\");\r\n                if (axisFill) {\r\n                    const axis = dataItem.component;\r\n                    const value = dataItem.get(\"value\");\r\n                    const step = axis.getPrivate(\"step\");\r\n                    if ($type.isNumber(value) && $type.isNumber(step)) {\r\n                        if ($math.round(value / step / 2, 5) == Math.round(value / step / 2)) {\r\n                            axisFill.setPrivate(\"visible\", false);\r\n                        }\r\n                        else {\r\n                            axisFill.setPrivate(\"visible\", true);\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        });\r\n        r(\"DurationAxis\").setAll({\r\n            baseUnit: \"second\"\r\n        });\r\n        /**\r\n         * ------------------------------------------------------------------------\r\n         * charts/xy: Series\r\n         * ------------------------------------------------------------------------\r\n         */\r\n        r(\"XYSeries\").setAll({\r\n            maskBullets: true,\r\n            stackToNegative: true,\r\n            locationX: 0.5,\r\n            locationY: 0.5,\r\n            snapTooltip: false,\r\n            openValueXGrouped: \"open\",\r\n            openValueYGrouped: \"open\",\r\n            valueXGrouped: \"close\",\r\n            valueYGrouped: \"close\",\r\n            seriesTooltipTarget: \"series\"\r\n        });\r\n        r(\"BaseColumnSeries\").setAll({\r\n            adjustBulletPosition: true\r\n        });\r\n        r(\"ColumnSeries\").setAll({\r\n            clustered: true\r\n        });\r\n        r(\"RoundedRectangle\", [\"series\", \"column\"]).setAll({\r\n            position: \"absolute\",\r\n            isMeasured: false,\r\n            width: percent(70),\r\n            height: percent(70),\r\n            strokeWidth: 1,\r\n            strokeOpacity: 1,\r\n            cornerRadiusBL: 0,\r\n            cornerRadiusTL: 0,\r\n            cornerRadiusBR: 0,\r\n            cornerRadiusTR: 0,\r\n            fillOpacity: 1,\r\n            role: \"figure\"\r\n        });\r\n        r(\"LineSeries\").setAll({\r\n            connect: true,\r\n            autoGapCount: 1.1,\r\n            stackToNegative: false\r\n        });\r\n        r(\"Graphics\", [\"series\", \"stroke\"]).setAll({\r\n            position: \"absolute\",\r\n            strokeWidth: 1,\r\n            strokeOpacity: 1,\r\n            isMeasured: false\r\n        });\r\n        r(\"Graphics\", [\"series\", \"fill\"]).setAll({\r\n            visible: false,\r\n            fillOpacity: 0,\r\n            position: \"absolute\",\r\n            strokeWidth: 0,\r\n            strokeOpacity: 0,\r\n            isMeasured: false\r\n        });\r\n        r(\"Graphics\", [\"line\", \"series\", \"legend\", \"marker\", \"stroke\"]).setAll({\r\n            draw: (display, sprite) => {\r\n                const parent = sprite.parent;\r\n                if (parent) {\r\n                    const h = parent.height();\r\n                    const w = parent.width();\r\n                    display.moveTo(0, h / 2);\r\n                    display.lineTo(w, h / 2);\r\n                }\r\n            }\r\n        });\r\n        {\r\n            const rule = r(\"Graphics\", [\"line\", \"series\", \"legend\", \"marker\", \"stroke\"]).states.create(\"disabled\", {});\r\n            setColor(rule, \"stroke\", ic, \"disabled\");\r\n        }\r\n        r(\"Graphics\", [\"line\", \"series\", \"legend\", \"marker\", \"fill\"]).setAll({\r\n            draw: (display, sprite) => {\r\n                const parent = sprite.parent;\r\n                if (parent) {\r\n                    const h = parent.height();\r\n                    const w = parent.width();\r\n                    display.moveTo(0, 0);\r\n                    display.lineTo(w, 0);\r\n                    display.lineTo(w, h);\r\n                    display.lineTo(0, h);\r\n                    display.lineTo(0, 0);\r\n                }\r\n            }\r\n        });\r\n        {\r\n            const rule = r(\"Graphics\", [\"line\", \"series\", \"legend\", \"marker\", \"fill\"]).states.create(\"disabled\", {});\r\n            setColor(rule, \"stroke\", ic, \"disabled\");\r\n        }\r\n        r(\"SmoothedXYLineSeries\").setAll({\r\n            tension: 0.5\r\n        });\r\n        r(\"SmoothedXLineSeries\").setAll({\r\n            tension: 0.5\r\n        });\r\n        r(\"SmoothedYLineSeries\").setAll({\r\n            tension: 0.5\r\n        });\r\n        r(\"Candlestick\").setAll({\r\n            position: \"absolute\",\r\n            isMeasured: false,\r\n            width: percent(50),\r\n            height: percent(50),\r\n            strokeWidth: 1,\r\n            strokeOpacity: 1,\r\n            cornerRadiusBL: 0,\r\n            cornerRadiusTL: 0,\r\n            cornerRadiusBR: 0,\r\n            cornerRadiusTR: 0,\r\n            fillOpacity: 1,\r\n            role: \"figure\"\r\n        });\r\n        r(\"OHLC\").setAll({\r\n            width: percent(80),\r\n            height: percent(80)\r\n        });\r\n        r(\"CandlestickSeries\").setAll({\r\n            lowValueXGrouped: \"low\",\r\n            lowValueYGrouped: \"low\",\r\n            highValueXGrouped: \"high\",\r\n            highValueYGrouped: \"high\",\r\n            openValueXGrouped: \"open\",\r\n            openValueYGrouped: \"open\",\r\n            valueXGrouped: \"close\",\r\n            valueYGrouped: \"close\"\r\n        });\r\n        // These rules can be used for regular columns, too\r\n        {\r\n            const rule = r(\"Rectangle\", [\"column\", \"autocolor\"]).states.create(\"riseFromOpen\", {});\r\n            setColor(rule, \"fill\", ic, \"positive\");\r\n            setColor(rule, \"stroke\", ic, \"positive\");\r\n        }\r\n        {\r\n            const rule = r(\"Rectangle\", [\"column\", \"autocolor\"]).states.create(\"dropFromOpen\", {});\r\n            setColor(rule, \"fill\", ic, \"negative\");\r\n            setColor(rule, \"stroke\", ic, \"negative\");\r\n        }\r\n        // Hollow\r\n        r(\"Rectangle\", [\"column\", \"autocolor\", \"pro\"]).states.create(\"riseFromOpen\", { fillOpacity: 0 });\r\n        r(\"Rectangle\", [\"column\", \"autocolor\", \"pro\"]).states.create(\"dropFromOpen\", { fillOpacity: 1 });\r\n        {\r\n            const rule = r(\"Rectangle\", [\"column\", \"autocolor\", \"pro\"]).states.create(\"riseFromPrevious\", {});\r\n            setColor(rule, \"fill\", ic, \"positive\");\r\n            setColor(rule, \"stroke\", ic, \"positive\");\r\n        }\r\n        {\r\n            const rule = r(\"Rectangle\", [\"column\", \"autocolor\", \"pro\"]).states.create(\"dropFromPrevious\", {});\r\n            setColor(rule, \"fill\", ic, \"negative\");\r\n            setColor(rule, \"stroke\", ic, \"negative\");\r\n        }\r\n        // AXIS RANGE GRIP\r\n        {\r\n            const rule = r(\"RoundedRectangle\", [\"rangegrip\"]);\r\n            rule.setAll({\r\n                strokeOpacity: 0,\r\n                fillOpacity: 0,\r\n                strokeWidth: 1,\r\n                width: 12,\r\n                height: 12\r\n            });\r\n        }\r\n        {\r\n            const rule = r(\"Graphics\", [\"rangegrip\", \"button\", \"icon\"]);\r\n            rule.setAll({\r\n                interactive: false,\r\n                crisp: true,\r\n                strokeOpacity: 0.5,\r\n                draw: (display) => {\r\n                    display.moveTo(0, 0.5);\r\n                    display.lineTo(0, 12.5);\r\n                    display.moveTo(2, 0.5);\r\n                    display.lineTo(2, 12.5);\r\n                    display.moveTo(4, 0.5);\r\n                    display.lineTo(4, 12.5);\r\n                }\r\n            });\r\n            setColor(rule, \"stroke\", ic, \"secondaryButtonText\");\r\n        }\r\n        r(\"Button\", [\"rangegrip\"]).setAll({\r\n            draggable: true,\r\n            paddingTop: 0,\r\n            paddingBottom: 0\r\n        });\r\n        r(\"Button\", [\"rangegrip\", \"vertical\"]).setAll({\r\n            rotation: 90,\r\n            cursorOverStyle: \"ns-resize\",\r\n            centerX: p50\r\n        });\r\n        r(\"Button\", [\"rangegrip\", \"horizontal\"]).setAll({\r\n            cursorOverStyle: \"ew-resize\",\r\n            centerX: p50\r\n        });\r\n        r(\"Button\", [\"rangegrip\", \"vertical\", \"left\"]).setAll({\r\n            centerY: p100\r\n        });\r\n        r(\"Button\", [\"rangegrip\", \"vertical\", \"right\"]).setAll({\r\n            centerY: 0\r\n        });\r\n        r(\"Button\", [\"rangegrip\", \"horizontal\", \"top\"]).setAll({\r\n            centerY: 0\r\n        });\r\n        r(\"Button\", [\"rangegrip\", \"horizontal\", \"bottom\"]).setAll({\r\n            centerY: p100\r\n        });\r\n    }\r\n}\r\n//# sourceMappingURL=XYChartDefaultTheme.js.map",";\r\nimport { XYChartDefaultTheme } from \"./XYChartDefaultTheme\";\r\nimport { Container } from \"../../core/render/Container\";\r\nimport { Rectangle } from \"../../core/render/Rectangle\";\r\nimport { SerialChart } from \"../../core/render/SerialChart\";\r\nimport { ListAutoDispose } from \"../../core/util/List\";\r\nimport { p100 } from \"../../core/util/Percent\";\r\nimport { Button } from \"../../core/render/Button\";\r\nimport { Graphics } from \"../../core/render/Graphics\";\r\nimport { Percent } from \"../../core/util/Percent\";\r\nimport * as $array from \"../../core/util/Array\";\r\nimport * as $type from \"../../core/util/Type\";\r\nimport * as $order from \"../../core/util/Order\";\r\nimport * as $object from \"../../core/util/Object\";\r\nimport * as $utils from \"../../core/util/Utils\";\r\nimport * as $math from \"../../core/util/Math\";\r\n/**\r\n * Creates an XY chart.\r\n *\r\n * @see {@link https://www.amcharts.com/docs/v5/charts/xy-chart/} for more info\r\n * @important\r\n */\r\nexport class XYChart extends SerialChart {\r\n    constructor() {\r\n        super(...arguments);\r\n        /**\r\n         * A list of horizontal axes.\r\n         */\r\n        Object.defineProperty(this, \"xAxes\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: new ListAutoDispose()\r\n        });\r\n        /**\r\n         * A list of vertical axes.\r\n         */\r\n        Object.defineProperty(this, \"yAxes\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: new ListAutoDispose()\r\n        });\r\n        /**\r\n         * A [[Container]] located on top of the chart, used to store top horizontal\r\n         * axes.\r\n         *\r\n         * @see {@link https://www.amcharts.com/docs/v5/charts/xy-chart/xy-chart-containers/} for more info\r\n         * @default Container.new()\r\n         */\r\n        Object.defineProperty(this, \"topAxesContainer\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: this.chartContainer.children.push(Container.new(this._root, { width: p100, layout: this._root.verticalLayout }))\r\n        });\r\n        /**\r\n         * A [[Container]] located in the middle the chart, used to store vertical axes\r\n         * and plot area container.\r\n         *\r\n         * @see {@link https://www.amcharts.com/docs/v5/charts/xy-chart/xy-chart-containers/} for more info\r\n         * @default Container.new()\r\n         */\r\n        Object.defineProperty(this, \"yAxesAndPlotContainer\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: this.chartContainer.children.push(Container.new(this._root, { width: p100, height: p100, layout: this._root.horizontalLayout }))\r\n        });\r\n        /**\r\n         * A [[Container]] located on bottom of the chart, used to store bottom\r\n         * horizontal axes.\r\n         *\r\n         * @see {@link https://www.amcharts.com/docs/v5/charts/xy-chart/xy-chart-containers/} for more info\r\n         * @default Container.new()\r\n         */\r\n        Object.defineProperty(this, \"bottomAxesContainer\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: this.chartContainer.children.push(Container.new(this._root, { width: p100, layout: this._root.verticalLayout }))\r\n        });\r\n        /**\r\n         * A [[Container]] located on left of the chart, used to store left-hand\r\n         * vertical axes.\r\n         *\r\n         * @see {@link https://www.amcharts.com/docs/v5/charts/xy-chart/xy-chart-containers/} for more info\r\n         * @default Container.new()\r\n         */\r\n        Object.defineProperty(this, \"leftAxesContainer\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: this.yAxesAndPlotContainer.children.push(Container.new(this._root, { height: p100, layout: this._root.horizontalLayout }))\r\n        });\r\n        /**\r\n         * A [[Container]] located in the middle of the chart, used to store plotContainer and topPlotContainer\r\n         *\r\n         * @see {@link https://www.amcharts.com/docs/v5/charts/xy-chart/xy-chart-containers/} for more info\r\n         * @default Container.new()\r\n         */\r\n        Object.defineProperty(this, \"plotsContainer\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: this.yAxesAndPlotContainer.children.push(Container.new(this._root, { width: p100, height: p100, maskContent: false }))\r\n        });\r\n        /**\r\n         * A [[Container]] located in the middle of the chart, used to store actual\r\n         * plots (series).\r\n         *\r\n         * NOTE: `plotContainer` will automatically have its `background` preset. If\r\n         * you need to modify background or outline for chart's plot area, you can\r\n         * use `plotContainer.get(\"background\")` for that.*\r\n         *\r\n         * @see {@link https://www.amcharts.com/docs/v5/charts/xy-chart/xy-chart-containers/} for more info\r\n         * @default Container.new()\r\n         */\r\n        Object.defineProperty(this, \"plotContainer\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: this.plotsContainer.children.push(Container.new(this._root, { width: p100, height: p100 }))\r\n        });\r\n        /**\r\n         * A [[Container]] used for any elements that need to be displayed over\r\n         * regular `plotContainer`.\r\n         *\r\n         * @see {@link https://www.amcharts.com/docs/v5/charts/xy-chart/xy-chart-containers/} for more info\r\n         * @default Container.new()\r\n         */\r\n        Object.defineProperty(this, \"topPlotContainer\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: this.plotsContainer.children.push(Container.new(this._root, { width: p100, height: p100 }))\r\n        });\r\n        /**\r\n         * A [[Container]] axis grid elements are stored in.\r\n         *\r\n         * @see {@link https://www.amcharts.com/docs/v5/charts/xy-chart/xy-chart-containers/} for more info\r\n         * @default Container.new()\r\n         */\r\n        Object.defineProperty(this, \"gridContainer\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: this.plotContainer.children.push(Container.new(this._root, { width: p100, height: p100, isMeasured: false }))\r\n        });\r\n        /**\r\n         * A [[Container]] axis background grid elements are stored in.\r\n         *\r\n         * @see {@link https://www.amcharts.com/docs/v5/charts/xy-chart/xy-chart-containers/} for more info\r\n         * @default Container.new()\r\n         */\r\n        Object.defineProperty(this, \"topGridContainer\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: Container.new(this._root, { width: p100, height: p100, isMeasured: false })\r\n        });\r\n        /**\r\n         * A [[Container]] located on right of the chart, used to store right-hand\r\n         * vertical axes.\r\n         *\r\n         * @see {@link https://www.amcharts.com/docs/v5/charts/xy-chart/xy-chart-containers/} for more info\r\n         * @default Container.new()\r\n         */\r\n        Object.defineProperty(this, \"rightAxesContainer\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: this.yAxesAndPlotContainer.children.push(Container.new(this._root, { height: p100, layout: this._root.horizontalLayout }))\r\n        });\r\n        /**\r\n         * A [[Container]] axis headers are stored in.\r\n         *\r\n         * @see {@link https://www.amcharts.com/docs/v5/charts/xy-chart/axes/axis-headers/} for more info\r\n         * @default Container.new()\r\n         */\r\n        Object.defineProperty(this, \"axisHeadersContainer\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: this.plotContainer.children.push(Container.new(this._root, {}))\r\n        });\r\n        /**\r\n         * A button that is shown when chart is not fully zoomed out.\r\n         *\r\n         * @see {@link https://www.amcharts.com/docs/v5/charts/xy-chart/zoom-and-pan/#Zoom_out_button} for more info\r\n         * @default Button.new()\r\n         */\r\n        Object.defineProperty(this, \"zoomOutButton\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: this.topPlotContainer.children.push(Button.new(this._root, {\r\n                themeTags: [\"zoom\"],\r\n                icon: Graphics.new(this._root, {\r\n                    themeTags: [\"button\", \"icon\"]\r\n                })\r\n            }))\r\n        });\r\n        Object.defineProperty(this, \"_movePoint\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: { x: 0, y: 0 }\r\n        });\r\n        Object.defineProperty(this, \"_wheelDp\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_otherCharts\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_movePoints\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: {}\r\n        });\r\n        Object.defineProperty(this, \"_downStartX\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_downEndX\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_downStartY\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_downEndY\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n    }\r\n    _afterNew() {\r\n        this._defaultThemes.push(XYChartDefaultTheme.new(this._root));\r\n        super._afterNew();\r\n        this._disposers.push(this.xAxes);\r\n        this._disposers.push(this.yAxes);\r\n        const root = this._root;\r\n        let verticalLayout = this._root.verticalLayout;\r\n        const zoomOutButton = this.zoomOutButton;\r\n        zoomOutButton.events.on(\"click\", () => {\r\n            this.zoomOut();\r\n        });\r\n        zoomOutButton.hide(0);\r\n        zoomOutButton.states.lookup(\"default\").set(\"opacity\", 1);\r\n        this.chartContainer.set(\"layout\", verticalLayout);\r\n        const plotContainer = this.plotContainer;\r\n        plotContainer.children.push(this.seriesContainer);\r\n        this._disposers.push(this._processAxis(this.xAxes, this.bottomAxesContainer));\r\n        this._disposers.push(this._processAxis(this.yAxes, this.leftAxesContainer));\r\n        plotContainer.children.push(this.topGridContainer);\r\n        plotContainer.children.push(this.bulletsContainer);\r\n        // Setting trasnparent background so that full body of the plot container\r\n        // is interactive\r\n        plotContainer.set(\"interactive\", true);\r\n        plotContainer.set(\"interactiveChildren\", false);\r\n        plotContainer.set(\"background\", Rectangle.new(root, {\r\n            themeTags: [\"plotbackground\", \"xy\", \"background\"]\r\n        }));\r\n        this._disposers.push(plotContainer.events.on(\"pointerdown\", (event) => {\r\n            this._handlePlotDown(event);\r\n        }));\r\n        this._disposers.push(plotContainer.events.on(\"globalpointerup\", (event) => {\r\n            this._handlePlotUp(event);\r\n        }));\r\n        this._disposers.push(plotContainer.events.on(\"globalpointermove\", (event) => {\r\n            this._handlePlotMove(event);\r\n        }));\r\n        this._maskGrid();\r\n        this._setUpTouch();\r\n    }\r\n    _beforeChanged() {\r\n        super._beforeChanged();\r\n        if (this.isDirty(\"pinchZoomX\") || this.isDirty(\"pinchZoomY\") || this.get(\"panX\") || this.get(\"panY\")) {\r\n            this._setUpTouch();\r\n        }\r\n    }\r\n    _setUpTouch() {\r\n        if (!this.plotContainer._display.cancelTouch) {\r\n            this.plotContainer._display.cancelTouch = (this.get(\"pinchZoomX\") || this.get(\"pinchZoomY\") || this.get(\"panX\") || this.get(\"panY\")) ? true : false;\r\n        }\r\n    }\r\n    _maskGrid() {\r\n        this.gridContainer.set(\"maskContent\", true);\r\n        this.topGridContainer.set(\"maskContent\", true);\r\n    }\r\n    _removeSeries(series) {\r\n        series._unstack();\r\n        if (series._posXDp) {\r\n            series._posXDp.dispose();\r\n        }\r\n        if (series._posYDp) {\r\n            series._posYDp.dispose();\r\n        }\r\n        series.set(\"baseAxis\", undefined);\r\n        const xAxis = series.get(\"xAxis\");\r\n        if (xAxis) {\r\n            $array.remove(xAxis.series, series);\r\n            xAxis.markDirtyExtremes();\r\n        }\r\n        const yAxis = series.get(\"yAxis\");\r\n        if (yAxis) {\r\n            $array.remove(yAxis.series, series);\r\n            yAxis.markDirtyExtremes();\r\n        }\r\n        const cursor = this.get(\"cursor\");\r\n        if (cursor) {\r\n            const snapToSeries = cursor.get(\"snapToSeries\");\r\n            if (snapToSeries) {\r\n                $array.remove(snapToSeries, series);\r\n            }\r\n        }\r\n        super._removeSeries(series);\r\n    }\r\n    /**\r\n     * This method is invoked when mouse wheel is used over chart's plot\r\n     * container, and handles zooming/pan.\r\n     *\r\n     * You can invoke this method manually, if you need to mimic chart's wheel\r\n     * behavior over other elements of the chart.\r\n     */\r\n    handleWheel(event) {\r\n        const wheelX = this.get(\"wheelX\");\r\n        const wheelY = this.get(\"wheelY\");\r\n        const plotContainer = this.plotContainer;\r\n        const wheelEvent = event.originalEvent;\r\n        // Ignore wheel event if it is happening on a non-chart element, e.g. if\r\n        // some page element is over the chart.\r\n        let prevent = false;\r\n        if ($utils.isLocalEvent(wheelEvent, this)) {\r\n            prevent = true;\r\n        }\r\n        else {\r\n            return;\r\n        }\r\n        const plotPoint = plotContainer.toLocal(event.point);\r\n        const wheelStep = this.get(\"wheelStep\", 0.2);\r\n        const shiftY = wheelEvent.deltaY / 100;\r\n        const shiftX = wheelEvent.deltaX / 100;\r\n        const wheelZoomPositionX = this.get(\"wheelZoomPositionX\");\r\n        const wheelZoomPositionY = this.get(\"wheelZoomPositionY\");\r\n        if ((wheelX === \"zoomX\" || wheelX === \"zoomXY\") && shiftX != 0) {\r\n            this.xAxes.each((axis) => {\r\n                if (axis.get(\"zoomX\")) {\r\n                    let start = axis.get(\"start\");\r\n                    let end = axis.get(\"end\");\r\n                    let position = axis.fixPosition(plotPoint.x / plotContainer.width());\r\n                    if (wheelZoomPositionX != null) {\r\n                        position = wheelZoomPositionX;\r\n                    }\r\n                    let maxDeviation = axis.get(\"maxDeviation\", 0);\r\n                    let newStart = Math.min(1 + maxDeviation, Math.max(-maxDeviation, start - wheelStep * (end - start) * shiftX * position));\r\n                    let newEnd = Math.max(-maxDeviation, Math.min(1 + maxDeviation, end + wheelStep * (end - start) * shiftX * (1 - position)));\r\n                    if (newStart == start && newEnd == end) {\r\n                        prevent = false;\r\n                    }\r\n                    if (1 / (newEnd - newStart) < axis.getPrivate(\"maxZoomFactor\", Infinity) / axis.get(\"minZoomCount\", 1)) {\r\n                        this._handleWheelAnimation(axis.zoom(newStart, newEnd));\r\n                    }\r\n                    else {\r\n                        prevent = false;\r\n                    }\r\n                }\r\n            });\r\n        }\r\n        if ((wheelY === \"zoomX\" || wheelY === \"zoomXY\") && shiftY != 0) {\r\n            this.xAxes.each((axis) => {\r\n                if (axis.get(\"zoomX\")) {\r\n                    let start = axis.get(\"start\");\r\n                    let end = axis.get(\"end\");\r\n                    let position = axis.fixPosition(plotPoint.x / plotContainer.width());\r\n                    if (wheelZoomPositionX != null) {\r\n                        position = wheelZoomPositionX;\r\n                    }\r\n                    let maxDeviation = axis.get(\"maxDeviation\", 0);\r\n                    let newStart = Math.min(1 + maxDeviation, Math.max(-maxDeviation, start - wheelStep * (end - start) * shiftY * position));\r\n                    let newEnd = Math.max(-maxDeviation, Math.min(1 + maxDeviation, end + wheelStep * (end - start) * shiftY * (1 - position)));\r\n                    if (newStart == start && newEnd == end) {\r\n                        prevent = false;\r\n                    }\r\n                    if (1 / (newEnd - newStart) < axis.getPrivate(\"maxZoomFactor\", Infinity) / axis.get(\"minZoomCount\", 1)) {\r\n                        this._handleWheelAnimation(axis.zoom(newStart, newEnd));\r\n                    }\r\n                    else {\r\n                        prevent = false;\r\n                    }\r\n                }\r\n            });\r\n        }\r\n        if ((wheelX === \"zoomY\" || wheelX === \"zoomXY\") && shiftX != 0) {\r\n            this.yAxes.each((axis) => {\r\n                if (axis.get(\"zoomY\")) {\r\n                    let start = axis.get(\"start\");\r\n                    let end = axis.get(\"end\");\r\n                    let position = axis.fixPosition(plotPoint.y / plotContainer.height());\r\n                    if (wheelZoomPositionY != null) {\r\n                        position = wheelZoomPositionY;\r\n                    }\r\n                    let maxDeviation = axis.get(\"maxDeviation\", 0);\r\n                    let newStart = Math.min(1 + maxDeviation, Math.max(-maxDeviation, start - wheelStep * (end - start) * shiftX * position));\r\n                    let newEnd = Math.max(-maxDeviation, Math.min(1 + maxDeviation, end + wheelStep * (end - start) * shiftX * (1 - position)));\r\n                    if (newStart == start && newEnd == end) {\r\n                        prevent = false;\r\n                    }\r\n                    if (1 / (newEnd - newStart) < axis.getPrivate(\"maxZoomFactor\", Infinity) / axis.get(\"minZoomCount\", 1)) {\r\n                        this._handleWheelAnimation(axis.zoom(newStart, newEnd));\r\n                    }\r\n                    else {\r\n                        prevent = false;\r\n                    }\r\n                }\r\n            });\r\n        }\r\n        if ((wheelY === \"zoomY\" || wheelY === \"zoomXY\") && shiftY != 0) {\r\n            this.yAxes.each((axis) => {\r\n                if (axis.get(\"zoomY\")) {\r\n                    let start = axis.get(\"start\");\r\n                    let end = axis.get(\"end\");\r\n                    let position = axis.fixPosition(plotPoint.y / plotContainer.height());\r\n                    if (wheelZoomPositionY != null) {\r\n                        position = wheelZoomPositionY;\r\n                    }\r\n                    let maxDeviation = axis.get(\"maxDeviation\", 0);\r\n                    let newStart = Math.min(1 + maxDeviation, Math.max(-maxDeviation, start - wheelStep * (end - start) * shiftY * position));\r\n                    let newEnd = Math.max(-maxDeviation, Math.min(1 + maxDeviation, end + wheelStep * (end - start) * shiftY * (1 - position)));\r\n                    if (newStart == start && newEnd == end) {\r\n                        prevent = false;\r\n                    }\r\n                    if (1 / (newEnd - newStart) < axis.getPrivate(\"maxZoomFactor\", Infinity) / axis.get(\"minZoomCount\", 1)) {\r\n                        this._handleWheelAnimation(axis.zoom(newStart, newEnd));\r\n                    }\r\n                    else {\r\n                        prevent = false;\r\n                    }\r\n                }\r\n            });\r\n        }\r\n        if ((wheelX === \"panX\" || wheelX === \"panXY\") && shiftX != 0) {\r\n            this.xAxes.each((axis) => {\r\n                if (axis.get(\"panX\")) {\r\n                    let start = axis.get(\"start\");\r\n                    let end = axis.get(\"end\");\r\n                    let delta = this._getWheelSign(axis) * wheelStep * (end - start) * shiftX;\r\n                    let newStart = start + delta;\r\n                    let newEnd = end + delta;\r\n                    let se = this._fixWheel(newStart, newEnd);\r\n                    newStart = se[0];\r\n                    newEnd = se[1];\r\n                    if (newStart == start && newEnd == end) {\r\n                        prevent = false;\r\n                    }\r\n                    this._handleWheelAnimation(axis.zoom(newStart, newEnd));\r\n                }\r\n            });\r\n        }\r\n        if ((wheelY === \"panX\" || wheelY === \"panXY\") && shiftY != 0) {\r\n            this.xAxes.each((axis) => {\r\n                if (axis.get(\"panX\")) {\r\n                    let start = axis.get(\"start\");\r\n                    let end = axis.get(\"end\");\r\n                    let delta = this._getWheelSign(axis) * wheelStep * (end - start) * shiftY;\r\n                    let newStart = start + delta;\r\n                    let newEnd = end + delta;\r\n                    let se = this._fixWheel(newStart, newEnd);\r\n                    newStart = se[0];\r\n                    newEnd = se[1];\r\n                    if (newStart == start && newEnd == end) {\r\n                        prevent = false;\r\n                    }\r\n                    this._handleWheelAnimation(axis.zoom(newStart, newEnd));\r\n                }\r\n            });\r\n        }\r\n        if ((wheelX === \"panY\" || wheelX === \"panXY\") && shiftX != 0) {\r\n            this.yAxes.each((axis) => {\r\n                if (axis.get(\"panY\")) {\r\n                    let start = axis.get(\"start\");\r\n                    let end = axis.get(\"end\");\r\n                    let delta = this._getWheelSign(axis) * wheelStep * (end - start) * shiftX;\r\n                    let newStart = start + delta;\r\n                    let newEnd = end + delta;\r\n                    let se = this._fixWheel(newStart, newEnd);\r\n                    newStart = se[0];\r\n                    newEnd = se[1];\r\n                    if (newStart == start && newEnd == end) {\r\n                        prevent = false;\r\n                    }\r\n                    this._handleWheelAnimation(axis.zoom(newStart, newEnd));\r\n                }\r\n            });\r\n        }\r\n        if ((wheelY === \"panY\" || wheelY === \"panXY\") && shiftY != 0) {\r\n            this.yAxes.each((axis) => {\r\n                if (axis.get(\"panY\")) {\r\n                    let start = axis.get(\"start\");\r\n                    let end = axis.get(\"end\");\r\n                    let delta = this._getWheelSign(axis) * wheelStep * (end - start) * shiftY;\r\n                    let newStart = start - delta;\r\n                    let newEnd = end - delta;\r\n                    let se = this._fixWheel(newStart, newEnd);\r\n                    newStart = se[0];\r\n                    newEnd = se[1];\r\n                    if (newStart == start && newEnd == end) {\r\n                        prevent = false;\r\n                    }\r\n                    this._handleWheelAnimation(axis.zoom(newStart, newEnd));\r\n                }\r\n            });\r\n        }\r\n        if (prevent) {\r\n            wheelEvent.preventDefault();\r\n        }\r\n    }\r\n    _handleSetWheel() {\r\n        const wheelX = this.get(\"wheelX\");\r\n        const wheelY = this.get(\"wheelY\");\r\n        const plotContainer = this.plotContainer;\r\n        if (wheelX !== \"none\" || wheelY !== \"none\") {\r\n            this._wheelDp = plotContainer.events.on(\"wheel\", (event) => {\r\n                const wheelEvent = event.originalEvent;\r\n                if ((wheelX !== \"none\" && Math.abs(wheelEvent.deltaX) != 0) || (wheelY !== \"none\" && Math.abs(wheelEvent.deltaY) != 0)) {\r\n                    this.handleWheel(event);\r\n                }\r\n            });\r\n            this._disposers.push(this._wheelDp);\r\n        }\r\n        else {\r\n            if (this._wheelDp) {\r\n                this._wheelDp.dispose();\r\n            }\r\n        }\r\n    }\r\n    _getWheelSign(axis) {\r\n        let sign = 1;\r\n        if (axis.get(\"renderer\").get(\"inversed\")) {\r\n            sign = -1;\r\n        }\r\n        return sign;\r\n    }\r\n    _fixWheel(start, end) {\r\n        const diff = end - start;\r\n        if (start < 0) {\r\n            start = 0;\r\n            end = start + diff;\r\n        }\r\n        if (end > 1) {\r\n            end = 1;\r\n            start = end - diff;\r\n        }\r\n        return [start, end];\r\n    }\r\n    _handlePlotDown(event) {\r\n        const originalEvent = event.originalEvent;\r\n        if (originalEvent.button == 2) {\r\n            return;\r\n        }\r\n        const plotContainer = this.plotContainer;\r\n        let local = plotContainer.toLocal(event.point);\r\n        if (this.get(\"pinchZoomX\") || this.get(\"pinchZoomY\")) {\r\n            const pointerId = originalEvent.pointerId;\r\n            if (pointerId) {\r\n                if ($object.keys(plotContainer._downPoints).length > 0) {\r\n                    const xAxis = this.xAxes.getIndex(0);\r\n                    const yAxis = this.yAxes.getIndex(0);\r\n                    if (xAxis) {\r\n                        this._downStartX = xAxis.get(\"start\", 0);\r\n                        this._downEndX = xAxis.get(\"end\", 1);\r\n                    }\r\n                    if (yAxis) {\r\n                        this._downStartY = yAxis.get(\"start\", 0);\r\n                        this._downEndY = yAxis.get(\"end\", 1);\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        if (this.get(\"panX\") || this.get(\"panY\")) {\r\n            if (local.x >= 0 && local.y >= 0 && local.x <= plotContainer.width() && local.y <= this.height()) {\r\n                //this._downPoint = local;\r\n                this._downPoint = { x: originalEvent.clientX, y: originalEvent.clientY };\r\n                const panX = this.get(\"panX\");\r\n                const panY = this.get(\"panY\");\r\n                if (panX) {\r\n                    this.xAxes.each((axis) => {\r\n                        axis._panStart = axis.get(\"start\");\r\n                        axis._panEnd = axis.get(\"end\");\r\n                    });\r\n                }\r\n                if (panY) {\r\n                    this.yAxes.each((axis) => {\r\n                        axis._panStart = axis.get(\"start\");\r\n                        axis._panEnd = axis.get(\"end\");\r\n                    });\r\n                }\r\n                const eventType = \"panstarted\";\r\n                if (this.events.isEnabled(eventType)) {\r\n                    this.events.dispatch(eventType, { type: eventType, target: this, originalEvent: event.originalEvent });\r\n                }\r\n            }\r\n        }\r\n    }\r\n    _handleWheelAnimation(animation) {\r\n        if (animation) {\r\n            animation.events.on(\"stopped\", () => {\r\n                this._dispatchWheelAnimation();\r\n            });\r\n        }\r\n        else {\r\n            this._dispatchWheelAnimation();\r\n        }\r\n    }\r\n    _dispatchWheelAnimation() {\r\n        const eventType = \"wheelended\";\r\n        if (this.events.isEnabled(eventType)) {\r\n            this.events.dispatch(eventType, { type: eventType, target: this });\r\n        }\r\n    }\r\n    _handlePlotUp(event) {\r\n        const downPoint = this._downPoint;\r\n        if (downPoint) {\r\n            if (this.get(\"panX\") || this.get(\"panY\")) {\r\n                if (event.originalEvent.clientX == downPoint.x && event.originalEvent.clientY == downPoint.y) {\r\n                    const eventType = \"pancancelled\";\r\n                    if (this.events.isEnabled(eventType)) {\r\n                        this.events.dispatch(eventType, { type: eventType, target: this, originalEvent: event.originalEvent });\r\n                    }\r\n                }\r\n                const eventType = \"panended\";\r\n                if (this.events.isEnabled(eventType)) {\r\n                    this.events.dispatch(eventType, { type: eventType, target: this, originalEvent: event.originalEvent });\r\n                }\r\n            }\r\n        }\r\n        // TODO: handle multitouch\r\n        this._downPoint = undefined;\r\n        this.xAxes.each((xAxis) => {\r\n            xAxis._isPanning = false;\r\n        });\r\n        this.yAxes.each((yAxis) => {\r\n            yAxis._isPanning = false;\r\n        });\r\n    }\r\n    _handlePlotMove(event) {\r\n        const plotContainer = this.plotContainer;\r\n        if (this.get(\"pinchZoomX\") || this.get(\"pinchZoomY\")) {\r\n            const touchEvent = event.originalEvent;\r\n            const pointerId = touchEvent.pointerId;\r\n            if (pointerId) {\r\n                this._movePoints[pointerId] = event.point;\r\n                if ($object.keys(plotContainer._downPoints).length > 1) {\r\n                    this._handlePinch();\r\n                    return;\r\n                }\r\n            }\r\n        }\r\n        let downPoint = this._downPoint;\r\n        if (downPoint) {\r\n            downPoint = plotContainer.toLocal(this._root.documentPointToRoot(downPoint));\r\n            let local = plotContainer.toLocal(event.point);\r\n            const panX = this.get(\"panX\");\r\n            const panY = this.get(\"panY\");\r\n            if (panX) {\r\n                let scrollbarX = this.get(\"scrollbarX\");\r\n                if (scrollbarX) {\r\n                    scrollbarX.events.disableType(\"rangechanged\");\r\n                }\r\n                this.xAxes.each((axis) => {\r\n                    if (axis.get(\"panX\")) {\r\n                        axis._isPanning = true;\r\n                        //const maxDeviation = axis.get(\"maxDeviation\", 0);\r\n                        let panStart = axis._panStart;\r\n                        let panEnd = axis._panEnd;\r\n                        let difference = (panEnd - panStart);\r\n                        let deltaX = difference * (downPoint.x - local.x) / plotContainer.width();\r\n                        if (axis.get(\"renderer\").get(\"inversed\")) {\r\n                            deltaX *= -1;\r\n                        }\r\n                        let start = panStart + deltaX;\r\n                        let end = panEnd + deltaX;\r\n                        if (end - start < 1 + axis.get(\"maxDeviation\", 1) * 2) {\r\n                            axis.set(\"start\", start);\r\n                            axis.set(\"end\", end);\r\n                        }\r\n                    }\r\n                });\r\n                if (scrollbarX) {\r\n                    scrollbarX.events.enableType(\"rangechanged\");\r\n                }\r\n            }\r\n            if (panY) {\r\n                let scrollbarY = this.get(\"scrollbarY\");\r\n                if (scrollbarY) {\r\n                    scrollbarY.events.disableType(\"rangechanged\");\r\n                }\r\n                this.yAxes.each((axis) => {\r\n                    if (axis.get(\"panY\")) {\r\n                        axis._isPanning = true;\r\n                        //const maxDeviation = axis.get(\"maxDeviation\", 0);\r\n                        let panStart = axis._panStart;\r\n                        let panEnd = axis._panEnd;\r\n                        let difference = (panEnd - panStart);\r\n                        let deltaY = difference * (downPoint.y - local.y) / plotContainer.height();\r\n                        if (axis.get(\"renderer\").get(\"inversed\")) {\r\n                            deltaY *= -1;\r\n                        }\r\n                        let start = panStart - deltaY;\r\n                        let end = panEnd - deltaY;\r\n                        if (end - start < 1 + axis.get(\"maxDeviation\", 1) * 2) {\r\n                            axis.set(\"start\", start);\r\n                            axis.set(\"end\", end);\r\n                        }\r\n                    }\r\n                });\r\n                if (scrollbarY) {\r\n                    scrollbarY.events.enableType(\"rangechanged\");\r\n                }\r\n            }\r\n        }\r\n    }\r\n    _handlePinch() {\r\n        const plotContainer = this.plotContainer;\r\n        let i = 0;\r\n        let downPoints = [];\r\n        let movePoints = [];\r\n        $object.each(plotContainer._downPoints, (k, point) => {\r\n            downPoints[i] = point;\r\n            let movePoint = this._movePoints[k];\r\n            if (movePoint) {\r\n                movePoints[i] = movePoint;\r\n            }\r\n            i++;\r\n        });\r\n        if (downPoints.length > 1 && movePoints.length > 1) {\r\n            const w = plotContainer.width();\r\n            const h = plotContainer.height();\r\n            let downPoint0 = downPoints[0];\r\n            let downPoint1 = downPoints[1];\r\n            let movePoint0 = movePoints[0];\r\n            let movePoint1 = movePoints[1];\r\n            if (downPoint0 && downPoint1 && movePoint0 && movePoint1) {\r\n                movePoint0 = plotContainer.toLocal(movePoint0);\r\n                movePoint1 = plotContainer.toLocal(movePoint1);\r\n                downPoint0 = plotContainer.toLocal(downPoint0);\r\n                downPoint1 = plotContainer.toLocal(downPoint1);\r\n                if (this.get(\"pinchZoomX\")) {\r\n                    const downStartX = this._downStartX;\r\n                    const downEndX = this._downEndX;\r\n                    if (downStartX != null && downEndX != null) {\r\n                        if (downPoint0.x > downPoint1.x) {\r\n                            [downPoint0, downPoint1] = [downPoint1, downPoint0];\r\n                            [movePoint0, movePoint1] = [movePoint1, movePoint0];\r\n                        }\r\n                        let downPos0 = downStartX + (downPoint0.x / w) * (downEndX - downStartX);\r\n                        let downPos1 = downStartX + (downPoint1.x / w) * (downEndX - downStartX);\r\n                        let movePos0 = downStartX + (movePoint0.x / w) * (downEndX - downStartX);\r\n                        let movePos1 = downStartX + (movePoint1.x / w) * (downEndX - downStartX);\r\n                        let initialDistance = Math.max(0.001, downPos1 - downPos0);\r\n                        let currentDistance = Math.max(0.001, movePos1 - movePos0);\r\n                        let d = initialDistance / currentDistance;\r\n                        let s = downStartX * d + downPos0 - movePos0 * d;\r\n                        let e = downEndX * d + downPos1 - movePos1 * d;\r\n                        this.xAxes.each((xAxis) => {\r\n                            let sa = xAxis.fixPosition(s);\r\n                            let ea = xAxis.fixPosition(e);\r\n                            xAxis.zoom(sa, ea, 0);\r\n                        });\r\n                    }\r\n                }\r\n                if (this.get(\"pinchZoomY\")) {\r\n                    const downStartY = this._downStartY;\r\n                    const downEndY = this._downEndY;\r\n                    if (downStartY != null && downEndY != null) {\r\n                        if (downPoint0.y < downPoint1.y) {\r\n                            [downPoint0, downPoint1] = [downPoint1, downPoint0];\r\n                            [movePoint0, movePoint1] = [movePoint1, movePoint0];\r\n                        }\r\n                        let downPos0 = downStartY + (1 - downPoint0.y / h) * (downEndY - downStartY);\r\n                        let downPos1 = downStartY + (1 - downPoint1.y / h) * (downEndY - downStartY);\r\n                        let movePos0 = downStartY + (1 - movePoint0.y / h) * (downEndY - downStartY);\r\n                        let movePos1 = downStartY + (1 - movePoint1.y / h) * (downEndY - downStartY);\r\n                        let initialDistance = Math.max(0.001, downPos1 - downPos0);\r\n                        let currentDistance = Math.max(0.001, movePos1 - movePos0);\r\n                        let d = initialDistance / currentDistance;\r\n                        let s = downStartY * d + downPos0 - movePos0 * d;\r\n                        let e = downEndY * d + downPos1 - movePos1 * d;\r\n                        this.yAxes.each((yAxis) => {\r\n                            let sa = yAxis.fixPosition(s);\r\n                            let ea = yAxis.fixPosition(e);\r\n                            yAxis.zoom(sa, ea, 0);\r\n                        });\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n    _handleCursorPosition() {\r\n        const cursor = this.get(\"cursor\");\r\n        if (cursor) {\r\n            const cursorPoint = cursor.getPrivate(\"point\");\r\n            let snapToSeries = cursor.get(\"snapToSeries\");\r\n            if (cursor._downPoint) {\r\n                snapToSeries = undefined;\r\n            }\r\n            if (snapToSeries && cursorPoint) {\r\n                const snapToSeriesBy = cursor.get(\"snapToSeriesBy\");\r\n                const dataItems = [];\r\n                $array.each(snapToSeries, (series) => {\r\n                    if (!series.isHidden() && !series.isHiding()) {\r\n                        if (snapToSeriesBy != \"x!\" && snapToSeriesBy != \"y!\") {\r\n                            const startIndex = series.startIndex();\r\n                            const endIndex = series.endIndex();\r\n                            for (let i = startIndex; i < endIndex; i++) {\r\n                                const dataItem = series.dataItems[i];\r\n                                if (dataItem && !dataItem.isHidden()) {\r\n                                    dataItems.push(dataItem);\r\n                                }\r\n                            }\r\n                        }\r\n                        else {\r\n                            const tooltipDataItem = series.get(\"tooltipDataItem\");\r\n                            if (tooltipDataItem) {\r\n                                dataItems.push(tooltipDataItem);\r\n                            }\r\n                        }\r\n                    }\r\n                });\r\n                let minDistance = Infinity;\r\n                let closestItem;\r\n                $array.each(dataItems, (dataItem) => {\r\n                    const point = dataItem.get(\"point\");\r\n                    if (point) {\r\n                        let distance = 0;\r\n                        if (snapToSeriesBy == \"x\" || snapToSeriesBy == \"x!\") {\r\n                            distance = Math.abs(cursorPoint.x - point.x);\r\n                        }\r\n                        else if (snapToSeriesBy == \"y\" || snapToSeriesBy == \"y!\") {\r\n                            distance = Math.abs(cursorPoint.y - point.y);\r\n                        }\r\n                        else {\r\n                            distance = Math.hypot(cursorPoint.x - point.x, cursorPoint.y - point.y);\r\n                        }\r\n                        if (distance < minDistance) {\r\n                            minDistance = distance;\r\n                            closestItem = dataItem;\r\n                        }\r\n                    }\r\n                });\r\n                $array.each(snapToSeries, (series) => {\r\n                    const tooltip = series.get(\"tooltip\");\r\n                    if (tooltip) {\r\n                        tooltip._setDataItem(undefined);\r\n                    }\r\n                });\r\n                if (closestItem) {\r\n                    let series = closestItem.component;\r\n                    series.showDataItemTooltip(closestItem);\r\n                    series.setRaw(\"tooltipDataItem\", closestItem);\r\n                    const point = closestItem.get(\"point\");\r\n                    if (point) {\r\n                        // removing x and y to solve #72225\r\n                        cursor.handleMove(series.toGlobal({ x: point.x - series.x(), y: point.y - series.y() }), true);\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n    _updateCursor() {\r\n        let cursor = this.get(\"cursor\");\r\n        if (cursor) {\r\n            cursor.updateCursor();\r\n        }\r\n    }\r\n    _addCursor(cursor) {\r\n        this.plotContainer.children.push(cursor);\r\n    }\r\n    _prepareChildren() {\r\n        super._prepareChildren();\r\n        this.series.each((series) => {\r\n            this._colorize(series);\r\n        });\r\n        if (this.isDirty(\"wheelX\") || this.isDirty(\"wheelY\")) {\r\n            this._handleSetWheel();\r\n        }\r\n        if (this.isDirty(\"cursor\")) {\r\n            const previous = this._prevSettings.cursor;\r\n            const cursor = this.get(\"cursor\");\r\n            if (cursor !== previous) {\r\n                this._disposeProperty(\"cursor\");\r\n                if (previous) {\r\n                    previous.dispose();\r\n                }\r\n                if (cursor) {\r\n                    cursor._setChart(this);\r\n                    this._addCursor(cursor);\r\n                    this._pushPropertyDisposer(\"cursor\", cursor.events.on(\"selectended\", () => {\r\n                        this._handleCursorSelectEnd();\r\n                    }));\r\n                }\r\n                //this.setRaw(\"cursor\", cursor) // to reset previous value\r\n                this._prevSettings.cursor = cursor;\r\n            }\r\n        }\r\n        if (this.isDirty(\"scrollbarX\")) {\r\n            const previous = this._prevSettings.scrollbarX;\r\n            const scrollbarX = this.get(\"scrollbarX\");\r\n            if (scrollbarX !== previous) {\r\n                this._disposeProperty(\"scrollbarX\");\r\n                if (previous) {\r\n                    previous.dispose();\r\n                }\r\n                if (scrollbarX) {\r\n                    if (!scrollbarX.parent) {\r\n                        this.topAxesContainer.children.push(scrollbarX);\r\n                    }\r\n                    this._pushPropertyDisposer(\"scrollbarX\", scrollbarX.events.on(\"rangechanged\", (e) => {\r\n                        this._handleScrollbar(this.xAxes, e.start, e.end, e.grip);\r\n                    }));\r\n                    this._pushPropertyDisposer(\"scrollbarX\", scrollbarX.events.on(\"released\", () => {\r\n                        this.xAxes.each((axis) => {\r\n                            if (axis.get(\"zoomable\")) {\r\n                                this._handleAxisSelection(axis);\r\n                            }\r\n                        });\r\n                    }));\r\n                    // Used to populate `ariaLabel` with meaningful values\r\n                    scrollbarX.setPrivate(\"positionTextFunction\", (position) => {\r\n                        const axis = this.xAxes.getIndex(0);\r\n                        return axis ? axis.getTooltipText(position, false) || \"\" : \"\";\r\n                    });\r\n                }\r\n                this._prevSettings.scrollbarX = scrollbarX;\r\n            }\r\n        }\r\n        if (this.isDirty(\"scrollbarY\")) {\r\n            const previous = this._prevSettings.scrollbarY;\r\n            const scrollbarY = this.get(\"scrollbarY\");\r\n            if (scrollbarY !== previous) {\r\n                this._disposeProperty(\"scrollbarY\");\r\n                if (previous) {\r\n                    previous.dispose();\r\n                }\r\n                if (scrollbarY) {\r\n                    if (!scrollbarY.parent) {\r\n                        this.rightAxesContainer.children.push(scrollbarY);\r\n                    }\r\n                    this._pushPropertyDisposer(\"scrollbarY\", scrollbarY.events.on(\"rangechanged\", (e) => {\r\n                        this._handleScrollbar(this.yAxes, e.start, e.end, e.grip);\r\n                    }));\r\n                    this._pushPropertyDisposer(\"scrollbarY\", scrollbarY.events.on(\"released\", () => {\r\n                        this.yAxes.each((axis) => {\r\n                            if (axis.get(\"zoomable\")) {\r\n                                this._handleAxisSelection(axis);\r\n                            }\r\n                        });\r\n                    }));\r\n                    // Used to populate `ariaLabel` with meaningful values\r\n                    scrollbarY.setPrivate(\"positionTextFunction\", (position) => {\r\n                        const axis = this.yAxes.getIndex(0);\r\n                        return axis ? axis.getTooltipText(position, false) || \"\" : \"\";\r\n                    });\r\n                }\r\n                this._prevSettings.scrollbarY = scrollbarY;\r\n            }\r\n        }\r\n        this._handleZoomOut();\r\n    }\r\n    _processSeries(series) {\r\n        super._processSeries(series);\r\n        const xAxis = series.get(\"xAxis\");\r\n        const yAxis = series.get(\"yAxis\");\r\n        $array.move(xAxis.series, series);\r\n        $array.move(yAxis.series, series);\r\n        series._posXDp = series.addDisposer(xAxis.events.on(\"positionchanged\", () => {\r\n            series._fixPosition();\r\n        }));\r\n        series._posXDp = series.addDisposer(yAxis.events.on(\"positionchanged\", () => {\r\n            series._fixPosition();\r\n        }));\r\n        if (!series.get(\"baseAxis\")) {\r\n            if (yAxis.isType(\"CategoryAxis\") || yAxis.isType(\"DateAxis\")) {\r\n                series.set(\"baseAxis\", yAxis);\r\n            }\r\n            else {\r\n                series.set(\"baseAxis\", xAxis);\r\n            }\r\n        }\r\n        if (series.get(\"stacked\")) {\r\n            series._markDirtyKey(\"stacked\");\r\n            $array.each(series.dataItems, (dataItem) => {\r\n                dataItem.set(\"stackToItemY\", undefined);\r\n                dataItem.set(\"stackToItemX\", undefined);\r\n            });\r\n        }\r\n        series._markDirtyAxes();\r\n        yAxis.markDirtyExtremes();\r\n        xAxis.markDirtyExtremes();\r\n        xAxis._seriesAdded = true;\r\n        yAxis._seriesAdded = true;\r\n        this._colorize(series);\r\n    }\r\n    _colorize(series) {\r\n        const colorSet = this.get(\"colors\");\r\n        if (colorSet) {\r\n            if (series.get(\"fill\") == null) {\r\n                const color = colorSet.next();\r\n                series._setSoft(\"stroke\", color);\r\n                series._setSoft(\"fill\", color);\r\n            }\r\n        }\r\n        const patternSet = this.get(\"patterns\");\r\n        if (patternSet) {\r\n            if (series.get(\"fillPattern\") == null) {\r\n                const pattern = patternSet.next();\r\n                series._setSoft(\"fillPattern\", pattern);\r\n            }\r\n        }\r\n    }\r\n    _handleCursorSelectEnd() {\r\n        const cursor = this.get(\"cursor\");\r\n        const behavior = cursor.get(\"behavior\");\r\n        const downPositionX = cursor.getPrivate(\"downPositionX\", 0);\r\n        const downPositionY = cursor.getPrivate(\"downPositionY\", 0);\r\n        const positionX = Math.min(1, Math.max(0, cursor.getPrivate(\"positionX\", 0.5)));\r\n        const positionY = Math.min(1, Math.max(0, cursor.getPrivate(\"positionY\", 0.5)));\r\n        this.xAxes.each((axis) => {\r\n            if (behavior === \"zoomX\" || behavior === \"zoomXY\") {\r\n                let position0 = axis.toAxisPosition(downPositionX);\r\n                let position1 = axis.toAxisPosition(positionX);\r\n                axis.zoom(position0, position1);\r\n            }\r\n            axis.setPrivate(\"updateScrollbar\", true);\r\n        });\r\n        this.yAxes.each((axis) => {\r\n            if (behavior === \"zoomY\" || behavior === \"zoomXY\") {\r\n                let position0 = axis.toAxisPosition(downPositionY);\r\n                let position1 = axis.toAxisPosition(positionY);\r\n                axis.zoom(position0, position1);\r\n            }\r\n            axis.setPrivate(\"updateScrollbar\", true);\r\n        });\r\n    }\r\n    _handleScrollbar(axes, start, end, priority) {\r\n        axes.each((axis) => {\r\n            let axisStart = axis.fixPosition(start);\r\n            let axisEnd = axis.fixPosition(end);\r\n            let zoomAnimation = axis.zoom(axisStart, axisEnd, undefined, priority);\r\n            const updateScrollbar = \"updateScrollbar\";\r\n            axis.setPrivateRaw(updateScrollbar, false);\r\n            if (zoomAnimation) {\r\n                zoomAnimation.events.on(\"stopped\", () => {\r\n                    axis.setPrivateRaw(updateScrollbar, true);\r\n                });\r\n            }\r\n            else {\r\n                axis.setPrivateRaw(updateScrollbar, true);\r\n            }\r\n        });\r\n    }\r\n    _processAxis(axes, container) {\r\n        return axes.events.onAll((change) => {\r\n            if (change.type === \"clear\") {\r\n                $array.each(change.oldValues, (axis) => {\r\n                    this._removeAxis(axis);\r\n                });\r\n            }\r\n            else if (change.type === \"push\") {\r\n                container.children.push(change.newValue);\r\n                change.newValue.processChart(this);\r\n            }\r\n            else if (change.type === \"setIndex\") {\r\n                container.children.setIndex(change.index, change.newValue);\r\n                change.newValue.processChart(this);\r\n            }\r\n            else if (change.type === \"insertIndex\") {\r\n                container.children.insertIndex(change.index, change.newValue);\r\n                change.newValue.processChart(this);\r\n            }\r\n            else if (change.type === \"removeIndex\") {\r\n                this._removeAxis(change.oldValue);\r\n            }\r\n            else if (change.type === \"moveIndex\") {\r\n                container.children.moveValue(change.value, change.newIndex);\r\n                change.value.processChart(this);\r\n            }\r\n            else {\r\n                throw new Error(\"Unknown IListEvent type\");\r\n            }\r\n        });\r\n    }\r\n    _removeAxis(axis) {\r\n        if (!axis.isDisposed()) {\r\n            const axisParent = axis.parent;\r\n            if (axisParent) {\r\n                axisParent.children.removeValue(axis);\r\n            }\r\n            const gridContainer = axis.gridContainer;\r\n            const gridParent = gridContainer.parent;\r\n            if (gridParent) {\r\n                gridParent.children.removeValue(gridContainer);\r\n            }\r\n            const topGridContainer = axis.topGridContainer;\r\n            const topGridParent = topGridContainer.parent;\r\n            if (topGridParent) {\r\n                topGridParent.children.removeValue(topGridContainer);\r\n            }\r\n        }\r\n    }\r\n    _updateChartLayout() {\r\n        const left = this.leftAxesContainer.width();\r\n        const right = this.rightAxesContainer.width();\r\n        const bottomAxesContainer = this.bottomAxesContainer;\r\n        bottomAxesContainer.set(\"paddingLeft\", left);\r\n        bottomAxesContainer.set(\"paddingRight\", right);\r\n        const topAxesContainer = this.topAxesContainer;\r\n        topAxesContainer.set(\"paddingLeft\", left);\r\n        topAxesContainer.set(\"paddingRight\", right);\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    processAxis(axis) {\r\n        var cursor = this.get(\"cursor\");\r\n        if (cursor) {\r\n            this.addDisposer(axis.on(\"start\", () => {\r\n                this._updateCursor();\r\n            }));\r\n            this.addDisposer(axis.on(\"end\", () => {\r\n                this._updateCursor();\r\n            }));\r\n        }\r\n    }\r\n    _handleAxisSelection(axis, force) {\r\n        let start = axis.fixPosition(axis.get(\"start\", 0));\r\n        let end = axis.fixPosition(axis.get(\"end\", 1));\r\n        if (start > end) {\r\n            [start, end] = [end, start];\r\n        }\r\n        if (this.xAxes.indexOf(axis) != -1) {\r\n            if (force || axis.getPrivate(\"updateScrollbar\")) {\r\n                let scrollbarX = this.get(\"scrollbarX\");\r\n                if (scrollbarX && (!scrollbarX.getPrivate(\"isBusy\") || force)) {\r\n                    scrollbarX.setRaw(\"start\", start);\r\n                    scrollbarX.setRaw(\"end\", end);\r\n                    scrollbarX.updateGrips();\r\n                }\r\n            }\r\n        }\r\n        else if (this.yAxes.indexOf(axis) != -1) {\r\n            if (force || axis.getPrivate(\"updateScrollbar\")) {\r\n                let scrollbarY = this.get(\"scrollbarY\");\r\n                if (scrollbarY && (!scrollbarY.getPrivate(\"isBusy\") || force)) {\r\n                    scrollbarY.setRaw(\"start\", start);\r\n                    scrollbarY.setRaw(\"end\", end);\r\n                    scrollbarY.updateGrips();\r\n                }\r\n            }\r\n        }\r\n        this._handleZoomOut();\r\n    }\r\n    _handleZoomOut() {\r\n        let zoomOutButton = this.zoomOutButton;\r\n        if (zoomOutButton && zoomOutButton.parent) {\r\n            let visible = false;\r\n            this.xAxes.each((axis) => {\r\n                if (axis.get(\"zoomOut\", true)) {\r\n                    if ($math.round(axis.get(\"start\", 0), 5) != 0 || $math.round(axis.get(\"end\", 1), 5) != 1) {\r\n                        visible = true;\r\n                    }\r\n                }\r\n            });\r\n            this.yAxes.each((axis) => {\r\n                if (axis.get(\"zoomOut\", true)) {\r\n                    if ($math.round(axis.get(\"start\", 0), 5) != 0 || $math.round(axis.get(\"end\", 1), 5) != 1) {\r\n                        visible = true;\r\n                    }\r\n                }\r\n            });\r\n            if (visible) {\r\n                if (zoomOutButton.isHidden()) {\r\n                    zoomOutButton.show();\r\n                }\r\n            }\r\n            else {\r\n                zoomOutButton.hide();\r\n            }\r\n        }\r\n    }\r\n    /**\r\n     * Checks if point is within plot area.\r\n     *\r\n     * @param   point  Reference point\r\n     * @return         Is within plot area?\r\n     */\r\n    inPlot(point) {\r\n        const plotContainer = this.plotContainer;\r\n        const otherCharts = this.getPrivate(\"otherCharts\", this._otherCharts);\r\n        const global = plotContainer.toGlobal(point);\r\n        if (point.x >= -0.5 && point.y >= -0.5 && point.x <= plotContainer.width() + 0.5 && point.y <= plotContainer.height() + 0.5) {\r\n            return true;\r\n        }\r\n        if (otherCharts) {\r\n            for (let i = otherCharts.length - 1; i >= 0; i--) {\r\n                const chart = otherCharts[i];\r\n                if (chart != this) {\r\n                    const chartPlotContainer = chart.plotContainer;\r\n                    const documentPoint = this._root.rootPointToDocument(global);\r\n                    const chartRoot = chart._root.documentPointToRoot(documentPoint);\r\n                    const local = chartPlotContainer.toLocal(chartRoot);\r\n                    if (local.x >= -0.1 && local.y >= -0.1 && local.x <= chartPlotContainer.width() + 0.1 && local.y <= chartPlotContainer.height() + 0.1) {\r\n                        return true;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        return false;\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    arrangeTooltips() {\r\n        const plotContainer = this.plotContainer;\r\n        const w = plotContainer.width();\r\n        const h = plotContainer.height();\r\n        let hh = this.height();\r\n        const bounds = this._root.tooltipContainer.get(\"layerMargin\");\r\n        if (bounds) {\r\n            if (bounds.bottom > hh) {\r\n                hh = bounds.bottom;\r\n            }\r\n        }\r\n        let plotT = plotContainer._display.toGlobal({ x: 0, y: 0 });\r\n        let plotB = plotContainer._display.toGlobal({ x: w, y: h });\r\n        const tooltips = [];\r\n        let sum = 0;\r\n        let minDistance = Infinity;\r\n        let movePoint = this._movePoint;\r\n        let maxTooltipDistance = this.get(\"maxTooltipDistance\");\r\n        let maxTooltipDistanceBy = this.get(\"maxTooltipDistanceBy\", \"xy\");\r\n        let closest;\r\n        let closestPoint;\r\n        if ($type.isNumber(maxTooltipDistance)) {\r\n            this.series.each((series) => {\r\n                if (!series.isHidden()) {\r\n                    const tooltip = series.get(\"tooltip\");\r\n                    if (tooltip) {\r\n                        let point = tooltip.get(\"pointTo\");\r\n                        if (point) {\r\n                            let distance = Math.hypot(movePoint.x - point.x, movePoint.y - point.y);\r\n                            if (maxTooltipDistanceBy == \"x\") {\r\n                                distance = Math.abs(movePoint.x - point.x);\r\n                            }\r\n                            else if (maxTooltipDistanceBy == \"y\") {\r\n                                distance = Math.abs(movePoint.y - point.y);\r\n                            }\r\n                            if (distance < minDistance) {\r\n                                minDistance = distance;\r\n                                closest = series;\r\n                                closestPoint = point;\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n            });\r\n        }\r\n        const tooltipSeries = [];\r\n        this.series.each((series) => {\r\n            const tooltip = series.get(\"tooltip\");\r\n            if (tooltip && !tooltip.get(\"forceHidden\")) {\r\n                let hidden = false;\r\n                let point = tooltip.get(\"pointTo\");\r\n                if (point) {\r\n                    if (maxTooltipDistance >= 0) {\r\n                        let point = tooltip.get(\"pointTo\");\r\n                        if (point && closestPoint) {\r\n                            if (series != closest) {\r\n                                let distance = Math.hypot(closestPoint.x - point.x, closestPoint.y - point.y);\r\n                                if (maxTooltipDistanceBy == \"x\") {\r\n                                    distance = Math.abs(closestPoint.x - point.x);\r\n                                }\r\n                                else if (maxTooltipDistanceBy == \"y\") {\r\n                                    distance = Math.abs(closestPoint.y - point.y);\r\n                                }\r\n                                if (distance > maxTooltipDistance) {\r\n                                    hidden = true;\r\n                                }\r\n                            }\r\n                        }\r\n                    }\r\n                    else if (maxTooltipDistance == -1) {\r\n                        if (series != closest) {\r\n                            hidden = true;\r\n                        }\r\n                    }\r\n                    if (!this.inPlot(this._tooltipToLocal(point)) || !tooltip.dataItem) {\r\n                        hidden = true;\r\n                    }\r\n                    else {\r\n                        if (!hidden) {\r\n                            sum += point.y;\r\n                        }\r\n                    }\r\n                    if (hidden || series.isHidden() || series.isHiding()) {\r\n                        tooltip.hide(0);\r\n                    }\r\n                    else {\r\n                        tooltip.show();\r\n                        tooltips.push(tooltip);\r\n                        tooltipSeries.push(series);\r\n                    }\r\n                }\r\n            }\r\n        });\r\n        this.setPrivate(\"tooltipSeries\", tooltipSeries);\r\n        if (this.get(\"arrangeTooltips\")) {\r\n            let totalTooltipH = 0;\r\n            let tooltipCount = 0;\r\n            const tooltipContainer = this._root.tooltipContainer;\r\n            const count = tooltips.length;\r\n            const average = sum / count;\r\n            if (average > h / 2 + plotT.y) {\r\n                tooltips.sort((a, b) => $order.compareNumber(b.get(\"pointTo\").y, a.get(\"pointTo\").y));\r\n                let prevY = plotB.y;\r\n                $array.each(tooltips, (tooltip) => {\r\n                    let height = tooltip.height();\r\n                    tooltipCount++;\r\n                    totalTooltipH += height;\r\n                    let centerY = tooltip.get(\"centerY\");\r\n                    if (centerY instanceof Percent) {\r\n                        height *= centerY.value;\r\n                    }\r\n                    height += tooltip.get(\"marginBottom\", 0);\r\n                    tooltip.set(\"bounds\", { left: plotT.x, top: plotT.y, right: plotB.x, bottom: prevY });\r\n                    tooltip.setPrivate(\"customData\", { left: plotT.x, top: plotT.y, right: plotB.x, bottom: prevY });\r\n                    prevY = Math.min(prevY - height, tooltip._fy - height);\r\n                    if (tooltip.parent == tooltipContainer) {\r\n                        tooltipContainer.children.moveValue(tooltip, 0);\r\n                    }\r\n                });\r\n                if (prevY < 0) {\r\n                    tooltips.reverse();\r\n                    let prevBottom = prevY;\r\n                    $array.each(tooltips, (tooltip) => {\r\n                        tooltipCount++;\r\n                        let bounds = tooltip.get(\"bounds\");\r\n                        if (bounds) {\r\n                            let top = bounds.top - prevY;\r\n                            let bottom = bounds.bottom - prevY;\r\n                            if (top < prevBottom) {\r\n                                top = prevBottom;\r\n                                bottom = top + tooltip.height();\r\n                            }\r\n                            tooltip.set(\"bounds\", { left: bounds.left, top: top, right: bounds.right, bottom: bottom });\r\n                            prevBottom = bounds.bottom - prevY + tooltip.get(\"marginBottom\", 0);\r\n                        }\r\n                    });\r\n                }\r\n            }\r\n            else {\r\n                tooltips.reverse();\r\n                tooltips.sort((a, b) => $order.compareNumber(a.get(\"pointTo\").y, b.get(\"pointTo\").y));\r\n                let prevY = 0;\r\n                $array.each(tooltips, (tooltip) => {\r\n                    tooltipCount++;\r\n                    let height = tooltip.height();\r\n                    totalTooltipH += height;\r\n                    let centerY = tooltip.get(\"centerY\");\r\n                    if (centerY instanceof Percent) {\r\n                        height *= centerY.value;\r\n                    }\r\n                    height += tooltip.get(\"marginBottom\", 0);\r\n                    tooltip.set(\"bounds\", { left: plotT.x, top: prevY, right: plotB.x, bottom: Math.max(plotT.y + hh, prevY + height) });\r\n                    if (tooltip.parent == tooltipContainer) {\r\n                        tooltipContainer.children.moveValue(tooltip, 0);\r\n                    }\r\n                    prevY = Math.max(prevY + height, tooltip._fy + height);\r\n                });\r\n                if (prevY > hh) {\r\n                    tooltips.reverse();\r\n                    let prevBottom = hh;\r\n                    $array.each(tooltips, (tooltip) => {\r\n                        tooltipCount++;\r\n                        let bounds = tooltip.get(\"bounds\");\r\n                        if (bounds) {\r\n                            let top = bounds.top - (hh - prevY);\r\n                            let bottom = bounds.bottom - (hh - prevY);\r\n                            if (bottom > prevBottom) {\r\n                                bottom = prevBottom;\r\n                                top = bottom - tooltip.height();\r\n                            }\r\n                            tooltip.set(\"bounds\", { left: bounds.left, top: top, right: bounds.right, bottom: bottom });\r\n                            prevBottom = bottom - tooltip.height() - tooltip.get(\"marginBottom\", 0);\r\n                        }\r\n                    });\r\n                }\r\n            }\r\n            if (totalTooltipH == 0 && tooltipCount > 0) {\r\n                this._disposers.push(this.root.events.once(\"frameended\", () => {\r\n                    this.arrangeTooltips();\r\n                }));\r\n            }\r\n        }\r\n    }\r\n    _tooltipToLocal(point) {\r\n        return this.plotContainer.toLocal(point);\r\n    }\r\n    /**\r\n     * Fully zooms out the chart.\r\n     */\r\n    zoomOut() {\r\n        this.xAxes.each((axis) => {\r\n            if (axis.get(\"zoomOut\", true)) {\r\n                axis.setPrivate(\"updateScrollbar\", true);\r\n                axis.zoom(0, 1);\r\n            }\r\n        });\r\n        this.yAxes.each((axis) => {\r\n            if (axis.get(\"zoomOut\", true)) {\r\n                axis.setPrivate(\"updateScrollbar\", true);\r\n                axis.zoom(0, 1);\r\n            }\r\n        });\r\n    }\r\n    _dispose() {\r\n        super._dispose();\r\n        // Explicitly disposing cursor to avoid memory leak of cursor adding\r\n        // keyboard events after parent chart has been disposed\r\n        const cursor = this.get(\"cursor\");\r\n        if (cursor) {\r\n            cursor.dispose();\r\n        }\r\n    }\r\n}\r\nObject.defineProperty(XYChart, \"className\", {\r\n    enumerable: true,\r\n    configurable: true,\r\n    writable: true,\r\n    value: \"XYChart\"\r\n});\r\nObject.defineProperty(XYChart, \"classNames\", {\r\n    enumerable: true,\r\n    configurable: true,\r\n    writable: true,\r\n    value: SerialChart.classNames.concat([XYChart.className])\r\n});\r\n//# sourceMappingURL=XYChart.js.map","import { Graphics } from \"../../../core/render/Graphics\";\r\n/**\r\n * Creates an axis grid line.\r\n *\r\n * @see {@link https://www.amcharts.com/docs/v5/charts/xy-chart/axes/#Grid} for more info\r\n * @important\r\n */\r\nexport class Grid extends Graphics {\r\n    _beforeChanged() {\r\n        super._beforeChanged();\r\n        if (this.isPrivateDirty(\"width\") || this.isPrivateDirty(\"height\")) {\r\n            this._clear = true;\r\n        }\r\n    }\r\n}\r\nObject.defineProperty(Grid, \"className\", {\r\n    enumerable: true,\r\n    configurable: true,\r\n    writable: true,\r\n    value: \"Grid\"\r\n});\r\nObject.defineProperty(Grid, \"classNames\", {\r\n    enumerable: true,\r\n    configurable: true,\r\n    writable: true,\r\n    value: Graphics.classNames.concat([Grid.className])\r\n});\r\n//# sourceMappingURL=Grid.js.map","import { __awaiter } from \"tslib\";\r\nimport { DataItem } from \"../../../core/render/Component\";\r\nimport { Series } from \"../../../core/render/Series\";\r\nimport { List } from \"../../../core/util/List\";\r\nimport { Container } from \"../../../core/render/Container\";\r\nimport { Graphics } from \"../../../core/render/Graphics\";\r\nimport * as $type from \"../../../core/util/Type\";\r\nimport * as $object from \"../../../core/util/Object\";\r\nimport * as $array from \"../../../core/util/Array\";\r\nimport * as $utils from \"../../../core/util/Utils\";\r\n/**\r\n * @ignore\r\n */\r\nfunction min(left, right) {\r\n    if (left == null) {\r\n        return right;\r\n    }\r\n    else if (right == null) {\r\n        return left;\r\n    }\r\n    else if (right < left) {\r\n        return right;\r\n    }\r\n    else {\r\n        return left;\r\n    }\r\n}\r\n/**\r\n * @ignore\r\n */\r\nfunction max(left, right) {\r\n    if (left == null) {\r\n        return right;\r\n    }\r\n    else if (right == null) {\r\n        return left;\r\n    }\r\n    else if (right > left) {\r\n        return right;\r\n    }\r\n    else {\r\n        return left;\r\n    }\r\n}\r\n/**\r\n * A base class for all XY chart series.\r\n *\r\n * @see {@link https://www.amcharts.com/docs/v5/charts/xy-chart/series/} for more info\r\n */\r\nexport class XYSeries extends Series {\r\n    constructor() {\r\n        super(...arguments);\r\n        Object.defineProperty(this, \"_xField\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_yField\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_xOpenField\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_yOpenField\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_xLowField\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_xHighField\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_yLowField\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_yHighField\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_axesDirty\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: false\r\n        });\r\n        Object.defineProperty(this, \"_stackDirty\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: false\r\n        });\r\n        Object.defineProperty(this, \"_selectionProcessed\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: false\r\n        });\r\n        Object.defineProperty(this, \"_dataSets\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: {}\r\n        });\r\n        Object.defineProperty(this, \"_mainContainerMask\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_x\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: 0\r\n        });\r\n        Object.defineProperty(this, \"_y\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: 0\r\n        });\r\n        Object.defineProperty(this, \"_bullets\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: {}\r\n        });\r\n        /**\r\n         * A [[Container]] that us used to put series' elements in.\r\n         *\r\n         * @default Container.new()\r\n         */\r\n        Object.defineProperty(this, \"mainContainer\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: this.children.push(Container.new(this._root, {}))\r\n        });\r\n        /**\r\n         * A list of axis ranges that affect the series.\r\n         *\r\n         * @see {@link https://www.amcharts.com/docs/v5/charts/xy-chart/axes/axis-ranges/} for more info\r\n         */\r\n        Object.defineProperty(this, \"axisRanges\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: new List()\r\n        });\r\n        Object.defineProperty(this, \"_skipped\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: false\r\n        });\r\n        Object.defineProperty(this, \"_couldStackTo\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: []\r\n        });\r\n        Object.defineProperty(this, \"_reallyStackedTo\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: {}\r\n        });\r\n        Object.defineProperty(this, \"_stackedSeries\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: {}\r\n        });\r\n        Object.defineProperty(this, \"_aLocationX0\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: 0\r\n        });\r\n        Object.defineProperty(this, \"_aLocationX1\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: 1\r\n        });\r\n        Object.defineProperty(this, \"_aLocationY0\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: 0\r\n        });\r\n        Object.defineProperty(this, \"_aLocationY1\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: 1\r\n        });\r\n        Object.defineProperty(this, \"_showBullets\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: true\r\n        });\r\n        Object.defineProperty(this, \"valueXFields\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: [\r\n                \"valueX\",\r\n                \"openValueX\",\r\n                \"lowValueX\",\r\n                \"highValueX\"\r\n            ]\r\n        });\r\n        Object.defineProperty(this, \"valueYFields\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: [\r\n                \"valueY\",\r\n                \"openValueY\",\r\n                \"lowValueY\",\r\n                \"highValueY\"\r\n            ]\r\n        });\r\n        Object.defineProperty(this, \"_valueXFields\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_valueYFields\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        // used for full min/max\r\n        Object.defineProperty(this, \"_valueXShowFields\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_valueYShowFields\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        // used for selection (uses working)\r\n        Object.defineProperty(this, \"__valueXShowFields\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"__valueYShowFields\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_emptyDataItem\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: new DataItem(this, undefined, {})\r\n        });\r\n        Object.defineProperty(this, \"_dataSetId\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_tooltipFieldX\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_tooltipFieldY\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_posXDp\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_posYDp\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n    }\r\n    _afterNew() {\r\n        this.fields.push(\"categoryX\", \"categoryY\", \"openCategoryX\", \"openCategoryY\");\r\n        this.valueFields.push(\"valueX\", \"valueY\", \"openValueX\", \"openValueY\", \"lowValueX\", \"lowValueY\", \"highValueX\", \"highValueY\");\r\n        this._setRawDefault(\"vcx\", 1);\r\n        this._setRawDefault(\"vcy\", 1);\r\n        // this can't go to themes, as data might be parsed before theme\r\n        this._setRawDefault(\"valueXShow\", \"valueXWorking\");\r\n        this._setRawDefault(\"valueYShow\", \"valueYWorking\");\r\n        this._setRawDefault(\"openValueXShow\", \"openValueXWorking\");\r\n        this._setRawDefault(\"openValueYShow\", \"openValueYWorking\");\r\n        this._setRawDefault(\"lowValueXShow\", \"lowValueXWorking\");\r\n        this._setRawDefault(\"lowValueYShow\", \"lowValueYWorking\");\r\n        this._setRawDefault(\"highValueXShow\", \"highValueXWorking\");\r\n        this._setRawDefault(\"highValueYShow\", \"highValueYWorking\");\r\n        this._setRawDefault(\"lowValueXGrouped\", \"low\");\r\n        this._setRawDefault(\"lowValueYGrouped\", \"low\");\r\n        this._setRawDefault(\"highValueXGrouped\", \"high\");\r\n        this._setRawDefault(\"highValueYGrouped\", \"high\");\r\n        super._afterNew();\r\n        this.set(\"maskContent\", true);\r\n        this._disposers.push(this.axisRanges.events.onAll((change) => {\r\n            if (change.type === \"clear\") {\r\n                $array.each(change.oldValues, (axisRange) => {\r\n                    this._removeAxisRange(axisRange);\r\n                });\r\n            }\r\n            else if (change.type === \"push\") {\r\n                this._processAxisRange(change.newValue);\r\n            }\r\n            else if (change.type === \"setIndex\") {\r\n                this._processAxisRange(change.newValue);\r\n            }\r\n            else if (change.type === \"insertIndex\") {\r\n                this._processAxisRange(change.newValue);\r\n            }\r\n            else if (change.type === \"removeIndex\") {\r\n                this._removeAxisRange(change.oldValue);\r\n            }\r\n            else if (change.type === \"moveIndex\") {\r\n                this._processAxisRange(change.value);\r\n            }\r\n            else {\r\n                throw new Error(\"Unknown IStreamEvent type\");\r\n            }\r\n        }));\r\n        this.states.create(\"hidden\", { opacity: 1, visible: false });\r\n        this.onPrivate(\"startIndex\", () => {\r\n            this.root.events.once(\"frameended\", () => {\r\n                this.updateLegendValue();\r\n            });\r\n        });\r\n        this.onPrivate(\"endIndex\", () => {\r\n            this.root.events.once(\"frameended\", () => {\r\n                this.updateLegendValue();\r\n            });\r\n        });\r\n        this._makeFieldNames();\r\n    }\r\n    _processAxisRange(axisRange) {\r\n        const container = Container.new(this._root, {});\r\n        axisRange.container = container;\r\n        this.children.push(container);\r\n        axisRange.series = this;\r\n        const axisDataItem = axisRange.axisDataItem;\r\n        axisDataItem.setRaw(\"isRange\", true);\r\n        const axis = axisDataItem.component;\r\n        if (axis) {\r\n            axis._processAxisRange(axisDataItem, [\"range\", \"series\"]);\r\n            const bullet = axisDataItem.get(\"bullet\");\r\n            if (bullet) {\r\n                const sprite = bullet.get(\"sprite\");\r\n                if (sprite) {\r\n                    sprite.setPrivate(\"visible\", false);\r\n                }\r\n            }\r\n            const axisFill = axisDataItem.get(\"axisFill\");\r\n            if (axisFill) {\r\n                container.set(\"mask\", axisFill);\r\n            }\r\n            axis._seriesAxisRanges.push(axisDataItem);\r\n        }\r\n    }\r\n    _onDataClear() {\r\n        super._onDataClear();\r\n        $object.each(this._dataSets, (_key, dataItems) => {\r\n            $array.each(dataItems, (dataItem) => {\r\n                dataItem.dispose();\r\n            });\r\n            dataItems.length = 0;\r\n        });\r\n    }\r\n    _removeAxisRange(axisRange) {\r\n        const axisDataItem = axisRange.axisDataItem;\r\n        const axis = axisDataItem.component;\r\n        axisDataItem.dispose();\r\n        $array.remove(axis._seriesAxisRanges, axisDataItem);\r\n        const container = axisRange.container;\r\n        if (container) {\r\n            container.dispose();\r\n        }\r\n    }\r\n    _updateFields() {\r\n        super._updateFields();\r\n        this._valueXFields = [];\r\n        this._valueYFields = [];\r\n        this._valueXShowFields = [];\r\n        this._valueYShowFields = [];\r\n        this.__valueXShowFields = [];\r\n        this.__valueYShowFields = [];\r\n        if (this.valueXFields) {\r\n            $array.each(this.valueXFields, (key) => {\r\n                const field = this.get((key + \"Field\"));\r\n                if (field) {\r\n                    this._valueXFields.push(key);\r\n                    let field = this.get((key + \"Show\"));\r\n                    this.__valueXShowFields.push(field);\r\n                    if (field.indexOf(\"Working\") != -1) {\r\n                        this._valueXShowFields.push(field.split(\"Working\")[0]);\r\n                    }\r\n                    else {\r\n                        this._valueXShowFields.push(field);\r\n                    }\r\n                }\r\n            });\r\n        }\r\n        if (this.valueYFields) {\r\n            $array.each(this.valueYFields, (key) => {\r\n                const field = this.get((key + \"Field\"));\r\n                if (field) {\r\n                    this._valueYFields.push(key);\r\n                    let field = this.get((key + \"Show\"));\r\n                    this.__valueYShowFields.push(field);\r\n                    if (field.indexOf(\"Working\") != -1) {\r\n                        this._valueYShowFields.push(field.split(\"Working\")[0]);\r\n                    }\r\n                    else {\r\n                        this._valueYShowFields.push(field);\r\n                    }\r\n                }\r\n            });\r\n        }\r\n    }\r\n    _dispose() {\r\n        super._dispose();\r\n        this._bullets = {};\r\n        const chart = this.chart;\r\n        if (chart) {\r\n            chart.series.removeValue(this);\r\n        }\r\n        $array.removeFirst(this.get(\"xAxis\").series, this);\r\n        $array.removeFirst(this.get(\"yAxis\").series, this);\r\n    }\r\n    // TODO use  SelectKeys<this[\"_privateSettings\"], number | undefined>\r\n    _min(key, value) {\r\n        let newValue = min(this.getPrivate(key), value);\r\n        this.setPrivate(key, newValue);\r\n    }\r\n    // TODO use  SelectKeys<this[\"_privateSettings\"], number | undefined>\r\n    _max(key, value) {\r\n        let newValue = max(this.getPrivate(key), value);\r\n        this.setPrivate(key, newValue);\r\n    }\r\n    _shouldMakeBullet(dataItem) {\r\n        const xAxis = this.get(\"xAxis\");\r\n        const yAxis = this.get(\"yAxis\");\r\n        const baseAxis = this.get(\"baseAxis\");\r\n        if (!xAxis.inited || !yAxis.inited) {\r\n            return false;\r\n        }\r\n        const minBulletDistance = this.get(\"minBulletDistance\", 0);\r\n        if (minBulletDistance > 0) {\r\n            let startIndex = this.startIndex();\r\n            let endIndex = this.endIndex();\r\n            let count = endIndex - startIndex;\r\n            if (xAxis == baseAxis) {\r\n                if (xAxis.get(\"renderer\").axisLength() / count < minBulletDistance / 5) {\r\n                    return false;\r\n                }\r\n            }\r\n            else if (yAxis == baseAxis) {\r\n                if (yAxis.get(\"renderer\").axisLength() / count < minBulletDistance / 5) {\r\n                    return false;\r\n                }\r\n            }\r\n        }\r\n        if (dataItem.get(this._xField) != null && dataItem.get(this._yField) != null) {\r\n            return true;\r\n        }\r\n        return false;\r\n    }\r\n    _makeFieldNames() {\r\n        const xAxis = this.get(\"xAxis\");\r\n        const yAxis = this.get(\"yAxis\");\r\n        const xName = xAxis.getPrivate(\"name\");\r\n        const xCapName = $utils.capitalizeFirst(xName);\r\n        const yName = yAxis.getPrivate(\"name\");\r\n        const yCapName = $utils.capitalizeFirst(yName);\r\n        const xLetter = xAxis.get(\"renderer\").getPrivate(\"letter\");\r\n        const yLetter = yAxis.get(\"renderer\").getPrivate(\"letter\");\r\n        const open = \"open\";\r\n        const low = \"low\";\r\n        const high = \"high\";\r\n        const show = \"Show\";\r\n        if (xAxis.className === \"ValueAxis\") {\r\n            this._xField = this.get((xName + xLetter + show));\r\n            this._xOpenField = this.get((open + xCapName + xLetter + show));\r\n            this._xLowField = this.get((low + xCapName + xLetter + show));\r\n            this._xHighField = this.get((high + xCapName + xLetter + show));\r\n        }\r\n        else {\r\n            this._xField = (xName + xLetter);\r\n            this._xOpenField = (open + xCapName + xLetter);\r\n            this._xLowField = (low + xCapName + xLetter);\r\n            this._xHighField = (high + xCapName + xLetter);\r\n        }\r\n        if (yAxis.className === \"ValueAxis\") {\r\n            this._yField = this.get((yName + yLetter + show));\r\n            this._yOpenField = this.get((open + yCapName + yLetter + show));\r\n            this._yLowField = this.get((low + yCapName + yLetter + show));\r\n            this._yHighField = this.get((high + yCapName + yLetter + show));\r\n        }\r\n        else {\r\n            this._yField = (yName + yLetter);\r\n            this._yOpenField = (open + yCapName + yLetter);\r\n            this._yLowField = (low + yCapName + yLetter);\r\n            this._yHighField = (high + yCapName + yLetter);\r\n        }\r\n    }\r\n    _fixVC() {\r\n        const xAxis = this.get(\"xAxis\");\r\n        const yAxis = this.get(\"yAxis\");\r\n        const baseAxis = this.get(\"baseAxis\");\r\n        const hiddenState = this.states.lookup(\"hidden\");\r\n        const sequencedInterpolation = this.get(\"sequencedInterpolation\");\r\n        if (hiddenState) {\r\n            let value = 0;\r\n            if (sequencedInterpolation) {\r\n                value = 0.999999999999; // makes animate, good for stacked\r\n            }\r\n            if (xAxis === baseAxis) {\r\n                hiddenState.set(\"vcy\", value);\r\n            }\r\n            else if (yAxis === baseAxis) {\r\n                hiddenState.set(\"vcx\", value);\r\n            }\r\n            else {\r\n                hiddenState.set(\"vcy\", value);\r\n                hiddenState.set(\"vcx\", value);\r\n            }\r\n        }\r\n    }\r\n    _handleMaskBullets() {\r\n        if (this.isDirty(\"maskBullets\")) {\r\n            this.bulletsContainer.set(\"maskContent\", this.get(\"maskBullets\"));\r\n        }\r\n    }\r\n    _fixPosition() {\r\n        const xAxis = this.get(\"xAxis\");\r\n        const yAxis = this.get(\"yAxis\");\r\n        this.set(\"x\", xAxis.x() - $utils.relativeToValue(xAxis.get(\"centerX\", 0), xAxis.width()) - xAxis.parent.get(\"paddingLeft\", 0));\r\n        this.set(\"y\", yAxis.y() - $utils.relativeToValue(yAxis.get(\"centerY\", 0), yAxis.height()) - yAxis.parent.get(\"paddingTop\", 0));\r\n        this.bulletsContainer.set(\"y\", this.y());\r\n        this.bulletsContainer.set(\"x\", this.x());\r\n    }\r\n    _prepareChildren() {\r\n        super._prepareChildren();\r\n        this._bullets = {};\r\n        if (this.isDirty(\"valueYShow\") || this.isDirty(\"valueXShow\") || this.isDirty(\"openValueYShow\") || this.isDirty(\"openValueXShow\") || this.isDirty(\"lowValueYShow\") || this.isDirty(\"lowValueXShow\") || this.isDirty(\"highValueYShow\") || this.isDirty(\"highValueXShow\")) {\r\n            this._updateFields();\r\n            this._makeFieldNames();\r\n            this._valuesDirty = true;\r\n        }\r\n        if (this.isDirty(\"xAxis\") || this.isDirty(\"yAxis\")) {\r\n            this._valuesDirty = true;\r\n        }\r\n        this.set(\"width\", this.get(\"xAxis\").width());\r\n        this.set(\"height\", this.get(\"yAxis\").height());\r\n        this._handleMaskBullets();\r\n        const xAxis = this.get(\"xAxis\");\r\n        const yAxis = this.get(\"yAxis\");\r\n        const baseAxis = this.get(\"baseAxis\");\r\n        const tooltipPositionX = this.get(\"tooltipPositionX\");\r\n        let tooltipFieldX;\r\n        switch (tooltipPositionX) {\r\n            case \"open\":\r\n                tooltipFieldX = this._xOpenField;\r\n                break;\r\n            case \"low\":\r\n                tooltipFieldX = this._xLowField;\r\n                break;\r\n            case \"high\":\r\n                tooltipFieldX = this._xHighField;\r\n                break;\r\n            default:\r\n                tooltipFieldX = this._xField;\r\n        }\r\n        this._tooltipFieldX = tooltipFieldX;\r\n        const tooltipPositionY = this.get(\"tooltipPositionY\");\r\n        let tooltipFieldY;\r\n        switch (tooltipPositionY) {\r\n            case \"open\":\r\n                tooltipFieldY = this._yOpenField;\r\n                break;\r\n            case \"low\":\r\n                tooltipFieldY = this._yLowField;\r\n                break;\r\n            case \"high\":\r\n                tooltipFieldY = this._yHighField;\r\n                break;\r\n            default:\r\n                tooltipFieldY = this._yField;\r\n        }\r\n        this._tooltipFieldY = tooltipFieldY;\r\n        if (this.isDirty(\"baseAxis\")) {\r\n            this._fixVC();\r\n        }\r\n        this._fixPosition();\r\n        const stacked = this.get(\"stacked\");\r\n        if (this.isDirty(\"stacked\")) {\r\n            if (stacked) {\r\n                if (this._valuesDirty && !this._dataProcessed) {\r\n                }\r\n                else {\r\n                    this._stack();\r\n                }\r\n            }\r\n            else {\r\n                this._unstack();\r\n            }\r\n        }\r\n        if (this._valuesDirty && !this._dataProcessed) {\r\n            this._dataProcessed = true;\r\n            if (stacked) {\r\n                this._stack();\r\n            }\r\n            $array.each(this.dataItems, (dataItem) => {\r\n                $array.each(this._valueXShowFields, (key) => {\r\n                    let value = dataItem.get(key);\r\n                    if (value != null) {\r\n                        if (stacked) {\r\n                            value += this.getStackedXValue(dataItem, key);\r\n                        }\r\n                        this._min(\"minX\", value);\r\n                        this._max(\"maxX\", value);\r\n                    }\r\n                });\r\n                $array.each(this._valueYShowFields, (key) => {\r\n                    let value = dataItem.get(key);\r\n                    if (value != null) {\r\n                        if (stacked) {\r\n                            value += this.getStackedYValue(dataItem, key);\r\n                        }\r\n                        this._min(\"minY\", value);\r\n                        this._max(\"maxY\", value);\r\n                    }\r\n                });\r\n                xAxis.processSeriesDataItem(dataItem, this._valueXFields);\r\n                yAxis.processSeriesDataItem(dataItem, this._valueYFields);\r\n            });\r\n            xAxis._seriesValuesDirty = true;\r\n            yAxis._seriesValuesDirty = true;\r\n            if (!this.get(\"ignoreMinMax\")) {\r\n                if (this.isPrivateDirty(\"minX\") || this.isPrivateDirty(\"maxX\")) {\r\n                    xAxis.markDirtyExtremes();\r\n                }\r\n                if (this.isPrivateDirty(\"minY\") || this.isPrivateDirty(\"maxY\")) {\r\n                    yAxis.markDirtyExtremes();\r\n                }\r\n            }\r\n            this._markStakedDirtyStack();\r\n            //this.updateLegendMarker(undefined); // causes legend marker to change color instantly when on\r\n            if (!this.get(\"tooltipDataItem\")) {\r\n                this.updateLegendValue(undefined);\r\n            }\r\n        }\r\n        if (this.isDirty(\"vcx\") || this.isDirty(\"vcy\")) {\r\n            this._markStakedDirtyStack();\r\n        }\r\n        if (!this._dataGrouped) {\r\n            xAxis._groupSeriesData(this);\r\n            yAxis._groupSeriesData(this);\r\n            this._dataGrouped = true;\r\n        }\r\n        if (this._valuesDirty || this.isPrivateDirty(\"startIndex\") || this.isPrivateDirty(\"adjustedStartIndex\") || this.isPrivateDirty(\"endIndex\") || this.isDirty(\"vcx\") || this.isDirty(\"vcy\") || this._stackDirty || this._sizeDirty) {\r\n            let startIndex = this.startIndex();\r\n            let endIndex = this.endIndex();\r\n            let minBulletDistance = this.get(\"minBulletDistance\", 0);\r\n            if (minBulletDistance > 0 && baseAxis) {\r\n                if (baseAxis.get(\"renderer\").axisLength() / (endIndex - startIndex) > minBulletDistance) {\r\n                    this._showBullets = true;\r\n                }\r\n                else {\r\n                    this._showBullets = false;\r\n                }\r\n            }\r\n            if ((this._psi != startIndex || this._pei != endIndex || this.isDirty(\"vcx\") || this.isDirty(\"vcy\") || this.isPrivateDirty(\"adjustedStartIndex\") || this._stackDirty || this._valuesDirty) && !this._selectionProcessed) {\r\n                this._selectionProcessed = true;\r\n                const vcx = this.get(\"vcx\", 1);\r\n                const vcy = this.get(\"vcy\", 1);\r\n                const stacked = this.get(\"stacked\", false);\r\n                const outOfSelection = this.getPrivate(\"outOfSelection\");\r\n                if (baseAxis === xAxis || !baseAxis) {\r\n                    yAxis._calculateTotals();\r\n                    this.setPrivateRaw(\"selectionMinY\", undefined);\r\n                    this.setPrivateRaw(\"selectionMaxY\", undefined);\r\n                    if (!outOfSelection) {\r\n                        for (let i = startIndex; i < endIndex; i++) {\r\n                            this.processYSelectionDataItem(this.dataItems[i], vcy, stacked);\r\n                        }\r\n                    }\r\n                    else {\r\n                        yAxis.markDirtySelectionExtremes();\r\n                    }\r\n                }\r\n                if (baseAxis === yAxis || !baseAxis) {\r\n                    xAxis._calculateTotals();\r\n                    this.setPrivateRaw(\"selectionMinX\", undefined);\r\n                    this.setPrivateRaw(\"selectionMaxX\", undefined);\r\n                    if (!outOfSelection) {\r\n                        for (let i = startIndex; i < endIndex; i++) {\r\n                            this.processXSelectionDataItem(this.dataItems[i], vcx, stacked);\r\n                        }\r\n                    }\r\n                    else {\r\n                        yAxis.markDirtySelectionExtremes();\r\n                    }\r\n                }\r\n                if (baseAxis === xAxis || !baseAxis) {\r\n                    if (this.get(\"valueYShow\") !== \"valueYWorking\" || this.get(\"useSelectionExtremes\")) {\r\n                        const selectionMinY = this.getPrivate(\"selectionMinY\");\r\n                        if (selectionMinY != null) {\r\n                            this.setPrivateRaw(\"minY\", selectionMinY);\r\n                            yAxis.markDirtyExtremes();\r\n                        }\r\n                        const selectionMaxY = this.getPrivate(\"selectionMaxY\");\r\n                        if (selectionMaxY != null) {\r\n                            this.setPrivateRaw(\"maxY\", selectionMaxY);\r\n                            yAxis.markDirtyExtremes();\r\n                        }\r\n                    }\r\n                }\r\n                if (baseAxis === yAxis || !baseAxis) {\r\n                    if (this.get(\"valueXShow\") !== \"valueXWorking\" || this.get(\"useSelectionExtremes\")) {\r\n                        const selectionMinX = this.getPrivate(\"selectionMinX\");\r\n                        if (selectionMinX != null) {\r\n                            this.setPrivateRaw(\"minX\", selectionMinX);\r\n                            yAxis.markDirtyExtremes();\r\n                        }\r\n                        const selectionMaxX = this.getPrivate(\"selectionMaxX\");\r\n                        if (selectionMaxX != null) {\r\n                            this.setPrivateRaw(\"maxX\", selectionMaxX);\r\n                            xAxis.markDirtyExtremes();\r\n                        }\r\n                    }\r\n                }\r\n                if (this.isPrivateDirty(\"selectionMinX\") || this.isPrivateDirty(\"selectionMaxX\")) {\r\n                    xAxis.markDirtySelectionExtremes();\r\n                }\r\n                if (this.isPrivateDirty(\"selectionMinY\") || this.isPrivateDirty(\"selectionMaxY\")) {\r\n                    yAxis.markDirtySelectionExtremes();\r\n                }\r\n                // this.updateLegendValue(undefined); flickers while panning\r\n            }\r\n        }\r\n    }\r\n    _makeRangeMask() {\r\n        if (this.axisRanges.length > 0) {\r\n            let mainContainerMask = this._mainContainerMask;\r\n            if (mainContainerMask == null) {\r\n                mainContainerMask = this.children.push(Graphics.new(this._root, {}));\r\n                this._mainContainerMask = mainContainerMask;\r\n                mainContainerMask.set(\"draw\", (display, target) => {\r\n                    const parent = this.parent;\r\n                    if (parent) {\r\n                        const w = this._root.container.width();\r\n                        const h = this._root.container.height();\r\n                        display.moveTo(-w, -h);\r\n                        display.lineTo(-w, h * 2);\r\n                        display.lineTo(w * 2, h * 2);\r\n                        display.lineTo(w * 2, -h);\r\n                        display.lineTo(-w, -h);\r\n                        this.axisRanges.each((axisRange) => {\r\n                            const fill = axisRange.axisDataItem.get(\"axisFill\");\r\n                            if (parent) {\r\n                                if (fill) {\r\n                                    let draw = fill.get(\"draw\");\r\n                                    if (draw) {\r\n                                        draw(display, target);\r\n                                    }\r\n                                }\r\n                            }\r\n                        });\r\n                    }\r\n                    this.mainContainer._display.mask = mainContainerMask._display;\r\n                });\r\n            }\r\n            mainContainerMask.markDirty();\r\n            mainContainerMask._markDirtyKey(\"fill\");\r\n        }\r\n        else {\r\n            this.mainContainer._display.mask = null;\r\n        }\r\n    }\r\n    _updateChildren() {\r\n        super._updateChildren();\r\n        // save for performance\r\n        this._x = this.x();\r\n        this._y = this.y();\r\n        this._makeRangeMask();\r\n    }\r\n    _stack() {\r\n        const chart = this.chart;\r\n        if (chart) {\r\n            const seriesIndex = chart.series.indexOf(this);\r\n            this._couldStackTo = [];\r\n            if (seriesIndex > 0) {\r\n                let series;\r\n                for (let i = seriesIndex - 1; i >= 0; i--) {\r\n                    series = chart.series.getIndex(i);\r\n                    if (series.get(\"xAxis\") === this.get(\"xAxis\") && series.get(\"yAxis\") === this.get(\"yAxis\") && series.className === this.className) {\r\n                        this._couldStackTo.push(series);\r\n                        if (!series.get(\"stacked\")) {\r\n                            break;\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n            this._stackDataItems();\r\n        }\r\n    }\r\n    _unstack() {\r\n        $object.each(this._reallyStackedTo, (_key, value) => {\r\n            delete (value._stackedSeries[this.uid]);\r\n        });\r\n        this._reallyStackedTo = {};\r\n        $array.each(this.dataItems, (dataItem) => {\r\n            dataItem.setRaw(\"stackToItemY\", undefined);\r\n            dataItem.setRaw(\"stackToItemX\", undefined);\r\n        });\r\n    }\r\n    _handleRemoved() {\r\n        const xAxis = this.get(\"xAxis\");\r\n        if (xAxis) {\r\n            xAxis._handleSeriesRemoved();\r\n        }\r\n        const yAxis = this.get(\"yAxis\");\r\n        if (yAxis) {\r\n            yAxis._handleSeriesRemoved();\r\n        }\r\n    }\r\n    _stackDataItems() {\r\n        // this works only with the same number of data @todo: search by date/category?\r\n        const baseAxis = this.get(\"baseAxis\");\r\n        const xAxis = this.get(\"xAxis\");\r\n        const yAxis = this.get(\"yAxis\");\r\n        let field;\r\n        let stackToItemKey;\r\n        if (baseAxis === xAxis) {\r\n            field = \"valueY\";\r\n            stackToItemKey = \"stackToItemY\";\r\n        }\r\n        else if (baseAxis === yAxis) {\r\n            field = \"valueX\";\r\n            stackToItemKey = \"stackToItemX\";\r\n        }\r\n        let len = this._couldStackTo.length;\r\n        let index = 0;\r\n        const stackToNegative = this.get(\"stackToNegative\");\r\n        this._reallyStackedTo = {};\r\n        $array.each(this.dataItems, (dataItem) => {\r\n            for (let s = 0; s < len; s++) {\r\n                let stackToSeries = this._couldStackTo[s];\r\n                let stackToItem = stackToSeries.dataItems[index];\r\n                let value = dataItem.get(field);\r\n                if (stackToItem) {\r\n                    let stackValue = stackToItem.get(field);\r\n                    if (stackToNegative) {\r\n                        if ($type.isNumber(value)) {\r\n                            if ($type.isNumber(stackValue)) {\r\n                                if (s == len - 1) {\r\n                                    dataItem.setRaw(stackToItemKey, undefined);\r\n                                }\r\n                                if (value >= 0 && stackValue >= 0) {\r\n                                    dataItem.setRaw(stackToItemKey, stackToItem);\r\n                                    this._reallyStackedTo[stackToSeries.uid] = stackToSeries;\r\n                                    stackToSeries._stackedSeries[this.uid] = this;\r\n                                    break;\r\n                                }\r\n                                if (value < 0 && stackValue < 0) {\r\n                                    dataItem.setRaw(stackToItemKey, stackToItem);\r\n                                    this._reallyStackedTo[stackToSeries.uid] = stackToSeries;\r\n                                    stackToSeries._stackedSeries[this.uid] = this;\r\n                                    break;\r\n                                }\r\n                            }\r\n                        }\r\n                        else {\r\n                            break;\r\n                        }\r\n                    }\r\n                    else {\r\n                        if ($type.isNumber(value) && $type.isNumber(stackValue)) {\r\n                            dataItem.setRaw(stackToItemKey, stackToItem);\r\n                            this._reallyStackedTo[stackToSeries.uid] = stackToSeries;\r\n                            stackToSeries._stackedSeries[this.uid] = this;\r\n                            break;\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n            index++;\r\n        });\r\n    }\r\n    processXSelectionDataItem(dataItem, vcx, stacked) {\r\n        $array.each(this.__valueXShowFields, (key) => {\r\n            let value = dataItem.get(key);\r\n            if (value != null) {\r\n                if (stacked) {\r\n                    value += this.getStackedXValueWorking(dataItem, key);\r\n                }\r\n                this._min(\"selectionMinX\", value);\r\n                this._max(\"selectionMaxX\", value * vcx);\r\n            }\r\n        });\r\n    }\r\n    processYSelectionDataItem(dataItem, vcy, stacked) {\r\n        $array.each(this.__valueYShowFields, (key) => {\r\n            let value = dataItem.get(key);\r\n            if (value != null) {\r\n                if (stacked) {\r\n                    value += this.getStackedYValueWorking(dataItem, key);\r\n                }\r\n                this._min(\"selectionMinY\", value);\r\n                this._max(\"selectionMaxY\", value * vcy);\r\n            }\r\n        });\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    getStackedYValueWorking(dataItem, key) {\r\n        const stackToItem = dataItem.get(\"stackToItemY\");\r\n        if (stackToItem) {\r\n            const stackedToSeries = stackToItem.component;\r\n            return stackToItem.get(key, 0) * stackedToSeries.get(\"vcy\", 1) + this.getStackedYValueWorking(stackToItem, key);\r\n        }\r\n        return 0;\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    getStackedXValueWorking(dataItem, key) {\r\n        const stackToItem = dataItem.get(\"stackToItemX\");\r\n        if (stackToItem) {\r\n            const stackedToSeries = stackToItem.component;\r\n            return stackToItem.get(key, 0) * stackedToSeries.get(\"vcx\", 1) + this.getStackedXValueWorking(stackToItem, key);\r\n        }\r\n        return 0;\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    getStackedYValue(dataItem, key) {\r\n        const stackToItem = dataItem.get(\"stackToItemY\");\r\n        if (stackToItem) {\r\n            return stackToItem.get(key, 0) + this.getStackedYValue(stackToItem, key);\r\n        }\r\n        return 0;\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    getStackedXValue(dataItem, key) {\r\n        const stackToItem = dataItem.get(\"stackToItemX\");\r\n        if (stackToItem) {\r\n            return stackToItem.get(key, 0) + this.getStackedXValue(stackToItem, key);\r\n        }\r\n        return 0;\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    createLegendMarker(_dataItem) {\r\n        this.updateLegendMarker();\r\n    }\r\n    _markDirtyAxes() {\r\n        this._axesDirty = true;\r\n        this.markDirty();\r\n    }\r\n    _markDataSetDirty() {\r\n        this._afterDataChange();\r\n        this._valuesDirty = true;\r\n        this._dataProcessed = false;\r\n        this._aggregatesCalculated = false;\r\n        this.markDirty();\r\n    }\r\n    _clearDirty() {\r\n        super._clearDirty();\r\n        this._axesDirty = false;\r\n        this._selectionProcessed = false;\r\n        this._stackDirty = false;\r\n        this._dataProcessed = false;\r\n    }\r\n    _positionBullet(bullet) {\r\n        let sprite = bullet.get(\"sprite\");\r\n        if (sprite) {\r\n            let dataItem = sprite.dataItem;\r\n            let locationX = bullet.get(\"locationX\", dataItem.get(\"locationX\", 0.5));\r\n            let locationY = bullet.get(\"locationY\", dataItem.get(\"locationY\", 0.5));\r\n            let xAxis = this.get(\"xAxis\");\r\n            let yAxis = this.get(\"yAxis\");\r\n            let exactLocationX = this.get(\"exactLocationX\", false);\r\n            let exactLocationY = this.get(\"exactLocationY\", false);\r\n            let positionX = xAxis.getDataItemPositionX(dataItem, this._xField, locationX, this.get(\"vcx\", 1), exactLocationX);\r\n            let positionY = yAxis.getDataItemPositionY(dataItem, this._yField, locationY, this.get(\"vcy\", 1), exactLocationY);\r\n            let point = this.getPoint(positionX, positionY);\r\n            let left = dataItem.get(\"left\", point.x);\r\n            let right = dataItem.get(\"right\", point.x);\r\n            let top = dataItem.get(\"top\", point.y);\r\n            let bottom = dataItem.get(\"bottom\", point.y);\r\n            let x = 0;\r\n            let y = 0;\r\n            let w = right - left;\r\n            let h = bottom - top;\r\n            if (this._shouldShowBullet(positionX, positionY)) {\r\n                sprite.setPrivate(\"visible\", !bullet.getPrivate(\"hidden\"));\r\n                let field = bullet.get(\"field\");\r\n                const baseAxis = this.get(\"baseAxis\");\r\n                const xAxis = this.get(\"xAxis\");\r\n                const yAxis = this.get(\"yAxis\");\r\n                if (field != undefined) {\r\n                    let realField;\r\n                    if (baseAxis == xAxis) {\r\n                        if (field == \"value\") {\r\n                            realField = this._yField;\r\n                        }\r\n                        else if (field == \"open\") {\r\n                            realField = this._yOpenField;\r\n                        }\r\n                        else if (field == \"high\") {\r\n                            realField = this._yHighField;\r\n                        }\r\n                        else if (field == \"low\") {\r\n                            realField = this._yLowField;\r\n                        }\r\n                        if (realField) {\r\n                            positionY = yAxis.getDataItemPositionY(dataItem, realField, 0, this.get(\"vcy\", 1), exactLocationY);\r\n                            point = yAxis.get(\"renderer\").positionToPoint(positionY);\r\n                            y = point.y;\r\n                            x = left + w * locationX;\r\n                        }\r\n                    }\r\n                    else {\r\n                        if (field == \"value\") {\r\n                            realField = this._xField;\r\n                        }\r\n                        else if (field == \"open\") {\r\n                            realField = this._xOpenField;\r\n                        }\r\n                        else if (field == \"high\") {\r\n                            realField = this._xHighField;\r\n                        }\r\n                        else if (field == \"low\") {\r\n                            realField = this._xLowField;\r\n                        }\r\n                        if (realField) {\r\n                            positionX = xAxis.getDataItemPositionX(dataItem, realField, 0, this.get(\"vcx\", 1), exactLocationX);\r\n                            point = xAxis.get(\"renderer\").positionToPoint(positionX);\r\n                            x = point.x;\r\n                            y = bottom - h * locationY;\r\n                        }\r\n                    }\r\n                }\r\n                else {\r\n                    x = left + w * locationX;\r\n                    y = bottom - h * locationY;\r\n                }\r\n                const stacked = bullet.get(\"stacked\");\r\n                if (stacked) {\r\n                    const chart = this.chart;\r\n                    if (baseAxis == xAxis) {\r\n                        let previousBullet = this._bullets[positionX + \"_\" + positionY];\r\n                        if (previousBullet) {\r\n                            let previousBounds = previousBullet.bounds();\r\n                            let bounds = sprite.localBounds();\r\n                            let yo = y;\r\n                            y = previousBounds.top;\r\n                            if (stacked == \"down\") {\r\n                                y = previousBounds.bottom - bounds.top;\r\n                            }\r\n                            else if (stacked == \"auto\") {\r\n                                if (chart) {\r\n                                    if (yo < chart.plotContainer.height() / 2) {\r\n                                        y = previousBounds.bottom - bounds.top;\r\n                                    }\r\n                                    else {\r\n                                        y += bounds.bottom;\r\n                                    }\r\n                                }\r\n                            }\r\n                            else {\r\n                                y += bounds.bottom;\r\n                            }\r\n                        }\r\n                        this._bullets[positionX + \"_\" + positionY] = sprite;\r\n                    }\r\n                    else {\r\n                        let previousBullet = this._bullets[positionX + \"_\" + positionY];\r\n                        if (previousBullet) {\r\n                            let previousBounds = previousBullet.bounds();\r\n                            let bounds = sprite.localBounds();\r\n                            let xo = x;\r\n                            x = previousBounds.right;\r\n                            if (stacked == \"down\") {\r\n                                x = previousBounds.left - bounds.right;\r\n                            }\r\n                            else if (stacked == \"auto\") {\r\n                                if (chart) {\r\n                                    if (xo < chart.plotContainer.width() / 2) {\r\n                                        x = previousBounds.left - bounds.right;\r\n                                    }\r\n                                    else {\r\n                                        x -= bounds.left;\r\n                                    }\r\n                                }\r\n                            }\r\n                            else {\r\n                                x -= bounds.left;\r\n                            }\r\n                        }\r\n                        this._bullets[positionX + \"_\" + positionY] = sprite;\r\n                    }\r\n                }\r\n                if (sprite.isType(\"Label\")) {\r\n                    sprite.setPrivate(\"maxWidth\", Math.abs(w));\r\n                    sprite.setPrivate(\"maxHeight\", Math.abs(h));\r\n                }\r\n                sprite.setAll({ x, y });\r\n            }\r\n            else {\r\n                sprite.setPrivate(\"visible\", false);\r\n            }\r\n        }\r\n    }\r\n    _shouldShowBullet(_positionX, _positionY) {\r\n        return this._showBullets;\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    setDataSet(id) {\r\n        if (this._dataSets[id]) {\r\n            this._handleDataSetChange();\r\n            this._dataItems = this._dataSets[id];\r\n            this._markDataSetDirty();\r\n            this._dataSetId = id;\r\n            const type = \"datasetchanged\";\r\n            if (this.events.isEnabled(type)) {\r\n                this.events.dispatch(type, { type: type, target: this, id: id });\r\n            }\r\n        }\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    resetGrouping() {\r\n        $object.each(this._dataSets, (_key, dataSet) => {\r\n            if (dataSet != this._mainDataItems) {\r\n                $array.each(dataSet, (dataItem) => {\r\n                    dataItem.dispose();\r\n                });\r\n            }\r\n        });\r\n        this._dataSets = {};\r\n        this._dataItems = this.mainDataItems;\r\n    }\r\n    _handleDataSetChange() {\r\n        $array.each(this._dataItems, (dataItem) => {\r\n            let bullets = dataItem.bullets;\r\n            if (bullets) {\r\n                $array.each(bullets, (bullet) => {\r\n                    if (bullet) {\r\n                        let sprite = bullet.get(\"sprite\");\r\n                        if (sprite) {\r\n                            sprite.setPrivate(\"visible\", false);\r\n                        }\r\n                    }\r\n                });\r\n            }\r\n        });\r\n        this._selectionProcessed = false; // for totals to be calculated\r\n    }\r\n    /**\r\n     * Shows hidden series.\r\n     *\r\n     * @param   duration  Duration of animation in milliseconds\r\n     * @return            Animation promise\r\n     */\r\n    show(duration) {\r\n        const _super = Object.create(null, {\r\n            show: { get: () => super.show }\r\n        });\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            this._fixVC();\r\n            let promises = [];\r\n            promises.push(_super.show.call(this, duration).then(() => {\r\n                this._isShowing = false;\r\n                let xAxis = this.get(\"xAxis\");\r\n                let yAxis = this.get(\"yAxis\");\r\n                let baseAxis = this.get(\"baseAxis\");\r\n                if (yAxis !== baseAxis) {\r\n                    yAxis.markDirtySelectionExtremes();\r\n                }\r\n                if (xAxis !== baseAxis) {\r\n                    xAxis.markDirtySelectionExtremes();\r\n                }\r\n            }));\r\n            promises.push(this.bulletsContainer.show(duration));\r\n            promises.push(this._sequencedShowHide(true, duration));\r\n            yield Promise.all(promises);\r\n        });\r\n    }\r\n    /**\r\n     * Hides series.\r\n     *\r\n     * @param   duration  Duration of animation in milliseconds\r\n     * @return            Animation promise\r\n     */\r\n    hide(duration) {\r\n        const _super = Object.create(null, {\r\n            hide: { get: () => super.hide }\r\n        });\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            this._fixVC();\r\n            let promises = [];\r\n            promises.push(_super.hide.call(this, duration).then(() => {\r\n                this._isHiding = false;\r\n            }));\r\n            promises.push(this.bulletsContainer.hide(duration));\r\n            promises.push(this._sequencedShowHide(false, duration));\r\n            yield Promise.all(promises);\r\n        });\r\n    }\r\n    /**\r\n     * Shows series's data item.\r\n     *\r\n     * @param   dataItem  Data item\r\n     * @param   duration  Animation duration in milliseconds\r\n     * @return            Promise\r\n     */\r\n    showDataItem(dataItem, duration) {\r\n        const _super = Object.create(null, {\r\n            showDataItem: { get: () => super.showDataItem }\r\n        });\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            const promises = [_super.showDataItem.call(this, dataItem, duration)];\r\n            if (!$type.isNumber(duration)) {\r\n                duration = this.get(\"stateAnimationDuration\", 0);\r\n            }\r\n            const easing = this.get(\"stateAnimationEasing\");\r\n            $array.each(this._valueFields, (key) => {\r\n                promises.push(dataItem.animate({ key: key + \"Working\", to: dataItem.get(key), duration: duration, easing: easing }).waitForStop());\r\n            });\r\n            yield Promise.all(promises);\r\n        });\r\n    }\r\n    /**\r\n     * Hides series's data item.\r\n     *\r\n     * @param   dataItem  Data item\r\n     * @param   duration  Animation duration in milliseconds\r\n     * @return            Promise\r\n     */\r\n    hideDataItem(dataItem, duration) {\r\n        const _super = Object.create(null, {\r\n            hideDataItem: { get: () => super.hideDataItem }\r\n        });\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            const promises = [_super.hideDataItem.call(this, dataItem, duration)];\r\n            let hiddenState = this.states.lookup(\"hidden\");\r\n            if (!hiddenState) {\r\n                hiddenState = this.states.create(\"hidden\", {});\r\n            }\r\n            if (!$type.isNumber(duration)) {\r\n                duration = hiddenState.get(\"stateAnimationDuration\", this.get(\"stateAnimationDuration\", 0));\r\n            }\r\n            const easing = hiddenState.get(\"stateAnimationEasing\", this.get(\"stateAnimationEasing\"));\r\n            const xAxis = this.get(\"xAxis\");\r\n            const yAxis = this.get(\"yAxis\");\r\n            const baseAxis = this.get(\"baseAxis\");\r\n            const stacked = this.get(\"stacked\");\r\n            if (baseAxis === xAxis || !baseAxis) {\r\n                $array.each(this._valueYFields, (key) => {\r\n                    let min = yAxis.getPrivate(\"min\");\r\n                    let baseValue = yAxis.baseValue();\r\n                    if ($type.isNumber(min) && min > baseValue) {\r\n                        baseValue = min;\r\n                    }\r\n                    if (stacked) {\r\n                        baseValue = 0;\r\n                    }\r\n                    let value = dataItem.get(key);\r\n                    if (value != null) {\r\n                        promises.push(dataItem.animate({ key: key + \"Working\", to: baseValue, duration: duration, easing: easing }).waitForStop());\r\n                    }\r\n                });\r\n            }\r\n            if (baseAxis === yAxis || !baseAxis) {\r\n                let min = xAxis.getPrivate(\"min\");\r\n                let baseValue = xAxis.baseValue();\r\n                if ($type.isNumber(min) && min > baseValue) {\r\n                    baseValue = min;\r\n                }\r\n                if (stacked) {\r\n                    baseValue = 0;\r\n                }\r\n                $array.each(this._valueXFields, (key) => {\r\n                    let value = dataItem.get(key);\r\n                    if (value != null) {\r\n                        promises.push(dataItem.animate({ key: key + \"Working\", to: baseValue, duration: duration, easing: easing }).waitForStop());\r\n                    }\r\n                });\r\n            }\r\n            yield Promise.all(promises);\r\n        });\r\n    }\r\n    _markDirtyStack() {\r\n        this._stackDirty = true;\r\n        this.markDirty();\r\n        this._markStakedDirtyStack();\r\n    }\r\n    _markStakedDirtyStack() {\r\n        const stackedSeries = this._stackedSeries;\r\n        if (stackedSeries) {\r\n            $object.each(stackedSeries, (_key, value) => {\r\n                if (!value._stackDirty) {\r\n                    value._markDirtyStack();\r\n                }\r\n            });\r\n        }\r\n    }\r\n    _afterChanged() {\r\n        super._afterChanged();\r\n        if (this._skipped) {\r\n            this._markDirtyAxes();\r\n            this._skipped = false;\r\n        }\r\n    }\r\n    /**\r\n     * Shows a tooltip for specific data item.\r\n     *\r\n     * @param  dataItem  Data item\r\n     */\r\n    showDataItemTooltip(dataItem) {\r\n        if (!this.getPrivate(\"doNotUpdateLegend\")) {\r\n            this.updateLegendMarker(dataItem);\r\n            this.updateLegendValue(dataItem);\r\n        }\r\n        const tooltip = this.get(\"tooltip\");\r\n        const exactLocationX = this.get(\"exactLocationX\", false);\r\n        const exactLocationY = this.get(\"exactLocationY\", false);\r\n        if (tooltip) {\r\n            if (!this.isHidden() && this.get(\"visible\")) {\r\n                tooltip._setDataItem(dataItem);\r\n                if (dataItem) {\r\n                    let locationX = this.get(\"locationX\", 0);\r\n                    let locationY = this.get(\"locationY\", 1);\r\n                    let itemLocationX = dataItem.get(\"locationX\", locationX);\r\n                    let itemLocationY = dataItem.get(\"locationY\", locationY);\r\n                    const xAxis = this.get(\"xAxis\");\r\n                    const yAxis = this.get(\"yAxis\");\r\n                    const vcx = this.get(\"vcx\", 1);\r\n                    const vcy = this.get(\"vcy\", 1);\r\n                    const xPos = xAxis.getDataItemPositionX(dataItem, this._tooltipFieldX, this._aLocationX0 + (this._aLocationX1 - this._aLocationX0) * itemLocationX, vcx, exactLocationX);\r\n                    const yPos = yAxis.getDataItemPositionY(dataItem, this._tooltipFieldY, this._aLocationY0 + (this._aLocationY1 - this._aLocationY0) * itemLocationY, vcy, exactLocationY);\r\n                    const point = this.getPoint(xPos, yPos);\r\n                    let show = true;\r\n                    $array.each(this._valueFields, (field) => {\r\n                        if (dataItem.get(field) == null) {\r\n                            show = false;\r\n                        }\r\n                    });\r\n                    if (show) {\r\n                        const chart = this.chart;\r\n                        if (chart && chart.inPlot(point)) {\r\n                            tooltip.label.text.markDirtyText();\r\n                            tooltip.set(\"tooltipTarget\", this._getTooltipTarget(dataItem));\r\n                            tooltip.set(\"pointTo\", this._display.toGlobal({ x: point.x, y: point.y }));\r\n                        }\r\n                        else {\r\n                            tooltip._setDataItem(undefined);\r\n                        }\r\n                    }\r\n                    else {\r\n                        tooltip._setDataItem(undefined);\r\n                    }\r\n                }\r\n            }\r\n            else {\r\n                this.hideTooltip();\r\n            }\r\n        }\r\n    }\r\n    hideTooltip() {\r\n        const tooltip = this.get(\"tooltip\");\r\n        if (tooltip) {\r\n            tooltip.set(\"tooltipTarget\", this);\r\n        }\r\n        return super.hideTooltip();\r\n    }\r\n    _getTooltipTarget(dataItem) {\r\n        if (this.get(\"seriesTooltipTarget\") == \"bullet\") {\r\n            const bullets = dataItem.bullets;\r\n            if (bullets && bullets.length > 0) {\r\n                const bullet = bullets[0];\r\n                const sprite = bullet.get(\"sprite\");\r\n                if (sprite) {\r\n                    return sprite;\r\n                }\r\n            }\r\n        }\r\n        return this;\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    updateLegendValue(dataItem) {\r\n        const legendDataItem = this.get(\"legendDataItem\");\r\n        if (legendDataItem) {\r\n            const label = legendDataItem.get(\"label\");\r\n            if (label) {\r\n                let txt = \"\";\r\n                if (dataItem) {\r\n                    label._setDataItem(dataItem);\r\n                    txt = this.get(\"legendLabelText\", label.get(\"text\", this.get(\"name\", \"\")));\r\n                }\r\n                else {\r\n                    label._setDataItem(this._emptyDataItem);\r\n                    txt = this.get(\"legendRangeLabelText\", this.get(\"legendLabelText\", label.get(\"text\", this.get(\"name\", \"\"))));\r\n                }\r\n                label.set(\"text\", txt);\r\n            }\r\n            const valueLabel = legendDataItem.get(\"valueLabel\");\r\n            if (valueLabel) {\r\n                let txt = \"\";\r\n                if (dataItem) {\r\n                    valueLabel._setDataItem(dataItem);\r\n                    txt = this.get(\"legendValueText\", valueLabel.get(\"text\", \"\"));\r\n                }\r\n                else {\r\n                    valueLabel._setDataItem(this._emptyDataItem);\r\n                    txt = this.get(\"legendRangeValueText\", valueLabel.get(\"text\", \"\"));\r\n                }\r\n                valueLabel.set(\"text\", txt);\r\n            }\r\n        }\r\n    }\r\n    _getItemReaderLabel() {\r\n        let text = \"X: {\" + this._xField;\r\n        if (this.get(\"xAxis\").isType(\"DateAxis\")) {\r\n            text += \".formatDate()\";\r\n        }\r\n        text += \"}; Y: {\" + this._yField;\r\n        if (this.get(\"yAxis\").isType(\"DateAxis\")) {\r\n            text += \".formatDate()\";\r\n        }\r\n        text += \"}\";\r\n        return text;\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    getPoint(positionX, positionY) {\r\n        let x = this.get(\"xAxis\").get(\"renderer\").positionToCoordinate(positionX);\r\n        let y = this.get(\"yAxis\").get(\"renderer\").positionToCoordinate(positionY);\r\n        // if coordinate is super big, canvas fails to draw line, capping to some big number (won't make any visual difference)\r\n        let max = 999999999;\r\n        if (y < -max) {\r\n            y = -max;\r\n        }\r\n        if (y > max) {\r\n            y = max;\r\n        }\r\n        if (x < -max) {\r\n            x = -max;\r\n        }\r\n        if (x > max) {\r\n            x = max;\r\n        }\r\n        return { x: x, y: y };\r\n    }\r\n    _shouldInclude(_position) {\r\n        return true;\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    handleCursorHide() {\r\n        this.hideTooltip();\r\n        this.updateLegendValue(undefined);\r\n        this.updateLegendMarker(undefined);\r\n    }\r\n    _afterDataChange() {\r\n        super._afterDataChange();\r\n        this.get(\"xAxis\")._markDirtyKey(\"start\");\r\n        this.get(\"yAxis\")._markDirtyKey(\"start\");\r\n        this.resetExtremes();\r\n    }\r\n    /**\r\n     * Resets cached axis scale values.\r\n     */\r\n    resetExtremes() {\r\n        this.setPrivate(\"selectionMinX\", undefined);\r\n        this.setPrivate(\"selectionMaxX\", undefined);\r\n        this.setPrivate(\"selectionMinY\", undefined);\r\n        this.setPrivate(\"selectionMaxY\", undefined);\r\n        this.setPrivate(\"minX\", undefined);\r\n        this.setPrivate(\"minY\", undefined);\r\n        this.setPrivate(\"maxX\", undefined);\r\n        this.setPrivate(\"maxY\", undefined);\r\n    }\r\n    /**\r\n     * Creates and returns an axis range object.\r\n     *\r\n     * @see {@link https://www.amcharts.com/docs/v5/charts/xy-chart/axes/axis-ranges/} for more info\r\n     * @param   axisDataItem  Axis data item\r\n     * @return                Axis range\r\n     */\r\n    createAxisRange(axisDataItem) {\r\n        return this.axisRanges.push({\r\n            axisDataItem: axisDataItem\r\n        });\r\n    }\r\n    /**\r\n     * A list of series's main (ungrouped) data items.\r\n     *\r\n     * @return  Data items\r\n     */\r\n    get mainDataItems() {\r\n        return this._mainDataItems;\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    _adjustStartIndex(index) {\r\n        const xAxis = this.get(\"xAxis\");\r\n        const baseAxis = this.get(\"baseAxis\");\r\n        if (baseAxis == xAxis && xAxis.isType(\"DateAxis\")) {\r\n            const baseDuration = xAxis.baseDuration();\r\n            const minSelection = xAxis.getPrivate(\"selectionMin\", xAxis.getPrivate(\"min\", 0));\r\n            const dl = baseDuration * this.get(\"locationX\", 0.5);\r\n            let value = -Infinity;\r\n            while (value < minSelection) {\r\n                const dataItem = this.dataItems[index];\r\n                if (dataItem) {\r\n                    const open = dataItem.open;\r\n                    if (open) {\r\n                        value = open[\"valueX\"];\r\n                    }\r\n                    else {\r\n                        value = dataItem.get(\"valueX\", 0);\r\n                    }\r\n                    value += dl;\r\n                    if (value < minSelection) {\r\n                        index++;\r\n                    }\r\n                    else {\r\n                        break;\r\n                    }\r\n                }\r\n                else {\r\n                    break;\r\n                }\r\n            }\r\n        }\r\n        return index;\r\n    }\r\n}\r\nObject.defineProperty(XYSeries, \"className\", {\r\n    enumerable: true,\r\n    configurable: true,\r\n    writable: true,\r\n    value: \"XYSeries\"\r\n});\r\nObject.defineProperty(XYSeries, \"classNames\", {\r\n    enumerable: true,\r\n    configurable: true,\r\n    writable: true,\r\n    value: Series.classNames.concat([XYSeries.className])\r\n});\r\n//# sourceMappingURL=XYSeries.js.map","import { __awaiter } from \"tslib\";\r\nimport { XYSeries } from \"./XYSeries\";\r\nimport { Percent } from \"../../../core/util/Percent\";\r\nimport { visualSettings } from \"../../../core/render/Graphics\";\r\nimport * as $array from \"../../../core/util/Array\";\r\nimport * as $type from \"../../../core/util/Type\";\r\n/**\r\n * Base class for all \"column-based\" series\r\n */\r\nexport class BaseColumnSeries extends XYSeries {\r\n    constructor() {\r\n        super(...arguments);\r\n        Object.defineProperty(this, \"_ph\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: 0\r\n        });\r\n        Object.defineProperty(this, \"_pw\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: 0\r\n        });\r\n        Object.defineProperty(this, \"_columnsUpdated\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: false\r\n        });\r\n    }\r\n    _makeGraphics(listTemplate, dataItem) {\r\n        return this.makeColumn(dataItem, listTemplate);\r\n    }\r\n    _makeFieldNames() {\r\n        super._makeFieldNames();\r\n        const xAxis = this.get(\"xAxis\");\r\n        const yAxis = this.get(\"yAxis\");\r\n        const categoryAxis = \"CategoryAxis\";\r\n        const valueAxis = \"ValueAxis\";\r\n        if (xAxis.isType(categoryAxis)) {\r\n            if (!this.get(\"openCategoryXField\")) {\r\n                this._xOpenField = this._xField;\r\n            }\r\n        }\r\n        if (xAxis.isType(valueAxis)) {\r\n            if (!this.get(\"openValueXField\")) {\r\n                this._xOpenField = this._xField;\r\n            }\r\n        }\r\n        if (yAxis.isType(categoryAxis)) {\r\n            if (!this.get(\"openCategoryYField\")) {\r\n                this._yOpenField = this._yField;\r\n            }\r\n        }\r\n        if (yAxis.isType(valueAxis)) {\r\n            if (!this.get(\"openValueYField\")) {\r\n                this._yOpenField = this._yField;\r\n            }\r\n        }\r\n    }\r\n    _prepareChildren() {\r\n        super._prepareChildren();\r\n        const xAxis = this.get(\"xAxis\");\r\n        const yAxis = this.get(\"yAxis\");\r\n        const len = this.dataItems.length;\r\n        const startIndex = Math.max(0, this.startIndex() - 2);\r\n        const endIndex = Math.min(this.endIndex() + 2, len - 1);\r\n        if (xAxis.inited && yAxis.inited) {\r\n            for (let i = startIndex; i <= endIndex; i++) {\r\n                let dataItem = this.dataItems[i];\r\n                this._createGraphics(dataItem);\r\n            }\r\n        }\r\n    }\r\n    _updateChildren() {\r\n        const chart = this.chart;\r\n        if (chart) {\r\n            this._ph = chart.plotContainer.height();\r\n            this._pw = chart.plotContainer.width();\r\n        }\r\n        const xAxis = this.get(\"xAxis\");\r\n        const yAxis = this.get(\"yAxis\");\r\n        const baseAxis = this.get(\"baseAxis\");\r\n        const columnsTemplate = this.columns.template;\r\n        if (this.isDirty(\"fill\")) {\r\n            if (columnsTemplate.get(\"fill\") == null) {\r\n                columnsTemplate.set(\"fill\", this.get(\"fill\"));\r\n            }\r\n        }\r\n        if (this.isDirty(\"fillPattern\")) {\r\n            if (columnsTemplate.get(\"fillPattern\") == null) {\r\n                columnsTemplate.set(\"fillPattern\", this.get(\"fillPattern\"));\r\n            }\r\n        }\r\n        if (this.isDirty(\"stroke\")) {\r\n            if (columnsTemplate.get(\"stroke\") == null) {\r\n                columnsTemplate.set(\"stroke\", this.get(\"stroke\"));\r\n            }\r\n        }\r\n        let index = 0;\r\n        let clusterCount = 0;\r\n        let i = 0;\r\n        $array.each(baseAxis.series, (series) => {\r\n            if (series instanceof BaseColumnSeries) {\r\n                const stacked = series.get(\"stacked\");\r\n                if (stacked && i == 0) {\r\n                    clusterCount++;\r\n                }\r\n                if (!stacked && series.get(\"clustered\")) {\r\n                    clusterCount++;\r\n                }\r\n            }\r\n            if (series === this) {\r\n                index = clusterCount - 1;\r\n            }\r\n            i++;\r\n        });\r\n        if (!this.get(\"clustered\")) {\r\n            index = 0;\r\n            clusterCount = 1;\r\n        }\r\n        if (clusterCount === 0) {\r\n            clusterCount = 1;\r\n            index = 0;\r\n        }\r\n        const xRenderer = xAxis.get(\"renderer\");\r\n        const yRenderer = yAxis.get(\"renderer\");\r\n        const cellStartLocation = \"cellStartLocation\";\r\n        const cellEndLocation = \"cellEndLocation\";\r\n        const cellLocationX0 = xRenderer.get(cellStartLocation, 0);\r\n        const cellLocationX1 = xRenderer.get(cellEndLocation, 1);\r\n        const cellLocationY0 = yRenderer.get(cellStartLocation, 0);\r\n        const cellLocationY1 = yRenderer.get(cellEndLocation, 1);\r\n        this._aLocationX0 = cellLocationX0 + (index / clusterCount) * (cellLocationX1 - cellLocationX0);\r\n        this._aLocationX1 = cellLocationX0 + (index + 1) / clusterCount * (cellLocationX1 - cellLocationX0);\r\n        ;\r\n        this._aLocationY0 = cellLocationY0 + (index / clusterCount) * (cellLocationY1 - cellLocationY0);\r\n        this._aLocationY1 = cellLocationY0 + (index + 1) / clusterCount * (cellLocationY1 - cellLocationY0);\r\n        if (xAxis.inited && yAxis.inited) {\r\n            if (this._axesDirty || this._valuesDirty || this._stackDirty || this.isDirty(\"vcx\") || this.isDirty(\"vcy\") || this._sizeDirty) {\r\n                const len = this.dataItems.length;\r\n                let startIndex = Math.max(0, this.startIndex() - 2);\r\n                let endIndex = Math.min(this.endIndex() + 2, len - 1);\r\n                for (let i = 0; i < startIndex; i++) {\r\n                    this._toggleColumn(this.dataItems[i], false);\r\n                }\r\n                let previous = this.dataItems[startIndex];\r\n                for (let i = startIndex; i <= endIndex; i++) {\r\n                    let dataItem = this.dataItems[i];\r\n                    if (dataItem.get(\"valueX\") != null && dataItem.get(\"valueY\") != null) {\r\n                        previous = dataItem;\r\n                        if (i > 0 && startIndex > 0) {\r\n                            for (let j = i - 1; j >= 0; j--) {\r\n                                let dataItem = this.dataItems[j];\r\n                                if (dataItem.get(\"valueX\") != null && dataItem.get(\"valueY\") != null) {\r\n                                    previous = dataItem;\r\n                                    break;\r\n                                }\r\n                            }\r\n                        }\r\n                        break;\r\n                    }\r\n                    else {\r\n                        this._toggleColumn(dataItem, false);\r\n                    }\r\n                }\r\n                this._beforeColumnsDraw();\r\n                let axisCase = 0;\r\n                if (yAxis.isType(\"CategoryAxis\") && xAxis.isType(\"CategoryAxis\")) {\r\n                    axisCase = 2;\r\n                }\r\n                else if (xAxis === baseAxis) {\r\n                    axisCase = 0;\r\n                }\r\n                else if (yAxis === baseAxis) {\r\n                    axisCase = 1;\r\n                }\r\n                for (let i = startIndex; i <= endIndex; i++) {\r\n                    let dataItem = this.dataItems[i];\r\n                    this._updateGraphics(dataItem, previous, axisCase);\r\n                    if (dataItem.get(\"valueX\") != null && dataItem.get(\"valueY\") != null) {\r\n                        previous = dataItem;\r\n                    }\r\n                }\r\n                this._afterColumnsDraw();\r\n                for (let i = endIndex + 1; i < len; i++) {\r\n                    this._toggleColumn(this.dataItems[i], false);\r\n                }\r\n                this._columnsUpdated = true;\r\n            }\r\n        }\r\n        else {\r\n            this._skipped = true;\r\n        }\r\n        if (!this.getPrivate(\"doNotUpdateLegend\")) {\r\n            this.updateLegendMarker(this.get(\"tooltipDataItem\"));\r\n        }\r\n        super._updateChildren();\r\n    }\r\n    _afterChanged() {\r\n        super._afterChanged();\r\n        this._columnsUpdated = false;\r\n    }\r\n    _beforeColumnsDraw() {\r\n    }\r\n    _afterColumnsDraw() {\r\n    }\r\n    _createGraphics(dataItem) {\r\n        let graphics = dataItem.get(\"graphics\");\r\n        if (!graphics) {\r\n            graphics = this._makeGraphics(this.columns, dataItem);\r\n            dataItem.set(\"graphics\", graphics);\r\n            graphics._setDataItem(dataItem);\r\n            const legendDataItem = dataItem.get(\"legendDataItem\");\r\n            if (legendDataItem) {\r\n                const markerRectangle = legendDataItem.get(\"markerRectangle\");\r\n                if (markerRectangle) {\r\n                    const ds = markerRectangle.states.lookup(\"default\");\r\n                    $array.each(visualSettings, (setting) => {\r\n                        const value = graphics.get(setting, this.get(setting));\r\n                        markerRectangle.set(setting, value);\r\n                        ds.set(setting, value);\r\n                    });\r\n                }\r\n            }\r\n            let graphicsArray = dataItem.get(\"rangeGraphics\");\r\n            if (graphicsArray) {\r\n                $array.each(graphicsArray, (graphics) => {\r\n                    graphics.dispose();\r\n                });\r\n            }\r\n            graphicsArray = [];\r\n            dataItem.setRaw(\"rangeGraphics\", graphicsArray);\r\n            this.axisRanges.each((axisRange) => {\r\n                const container = axisRange.container;\r\n                const rangeGraphics = this._makeGraphics(axisRange.columns, dataItem);\r\n                if (graphicsArray) {\r\n                    graphicsArray.push(rangeGraphics);\r\n                }\r\n                rangeGraphics.setPrivate(\"list\", axisRange.columns);\r\n                container.children.push(rangeGraphics);\r\n            });\r\n        }\r\n    }\r\n    createAxisRange(axisDataItem) {\r\n        $array.each(this.dataItems, (dataItem) => {\r\n            const graphics = dataItem.get(\"graphics\");\r\n            if (graphics) {\r\n                graphics.dispose();\r\n                dataItem.set(\"graphics\", undefined);\r\n            }\r\n        });\r\n        return super.createAxisRange(axisDataItem);\r\n    }\r\n    _updateGraphics(dataItem, previousDataItem, axisCase) {\r\n        let graphics = dataItem.get(\"graphics\");\r\n        //if (!graphics) {\r\n        //\tthis._createGraphics(dataItem);\r\n        //\tgraphics = dataItem.get(\"graphics\")!;\r\n        //}\r\n        const xField = this._xField;\r\n        const yField = this._yField;\r\n        const valueX = dataItem.get(xField);\r\n        const valueY = dataItem.get(yField);\r\n        const exactLocationX = this.get(\"exactLocationX\", false);\r\n        //const exactLocationY = this.get(\"exactLocationY\", false);\t\t\r\n        if (valueX != null && valueY != null) {\r\n            const xOpenField = this._xOpenField;\r\n            const yOpenField = this._yOpenField;\r\n            const locationX = this.get(\"locationX\", dataItem.get(\"locationX\", 0.5));\r\n            const locationY = this.get(\"locationY\", dataItem.get(\"locationY\", 0.5));\r\n            const openLocationX = this.get(\"openLocationX\", dataItem.get(\"openLocationX\", locationX));\r\n            const openLocationY = this.get(\"openLocationY\", dataItem.get(\"openLocationY\", locationY));\r\n            const width = graphics.get(\"width\");\r\n            const height = graphics.get(\"height\");\r\n            const stacked = this.get(\"stacked\");\r\n            const xAxis = this.get(\"xAxis\");\r\n            const yAxis = this.get(\"yAxis\");\r\n            const xStart = xAxis.get(\"start\");\r\n            const xEnd = xAxis.get(\"end\");\r\n            const yStart = yAxis.get(\"start\");\r\n            const yEnd = yAxis.get(\"end\");\r\n            let l;\r\n            let r;\r\n            let t;\r\n            let b;\r\n            let vcy = this.get(\"vcy\", 1);\r\n            let vcx = this.get(\"vcx\", 1);\r\n            let fitW = false;\r\n            let fitH = false;\r\n            if (axisCase == 0) {\r\n                let startLocation = this._aLocationX0 + openLocationX - 0.5;\r\n                let endLocation = this._aLocationX1 + locationX - 0.5;\r\n                if (width instanceof Percent) {\r\n                    let offset = (endLocation - startLocation) * (1 - width.value) / 2;\r\n                    startLocation += offset;\r\n                    endLocation -= offset;\r\n                }\r\n                l = xAxis.getDataItemPositionX(dataItem, xOpenField, startLocation, vcx, exactLocationX);\r\n                r = xAxis.getDataItemPositionX(dataItem, xField, endLocation, vcx, exactLocationX);\r\n                t = yAxis.getDataItemPositionY(dataItem, yField, locationY, vcy);\r\n                if (this._yOpenField !== this._yField) {\r\n                    b = yAxis.getDataItemPositionY(dataItem, yOpenField, openLocationY, vcy);\r\n                }\r\n                else {\r\n                    if (stacked) {\r\n                        let stackToItemY = dataItem.get(\"stackToItemY\");\r\n                        if (stackToItemY) {\r\n                            b = yAxis.getDataItemPositionY(stackToItemY, yField, openLocationY, stackToItemY.component.get(\"vcy\"));\r\n                        }\r\n                        else {\r\n                            b = yAxis.basePosition();\r\n                        }\r\n                    }\r\n                    else {\r\n                        b = yAxis.basePosition();\r\n                    }\r\n                }\r\n                dataItem.setRaw(\"point\", { x: l + (r - l) / 2, y: t });\r\n                fitH = true;\r\n            }\r\n            else if (axisCase == 1) {\r\n                let startLocation = this._aLocationY0 + openLocationY - 0.5;\r\n                let endLocation = this._aLocationY1 + locationY - 0.5;\r\n                if (height instanceof Percent) {\r\n                    let offset = (endLocation - startLocation) * (1 - height.value) / 2;\r\n                    startLocation += offset;\r\n                    endLocation -= offset;\r\n                }\r\n                t = yAxis.getDataItemPositionY(dataItem, yOpenField, startLocation, vcy);\r\n                b = yAxis.getDataItemPositionY(dataItem, yField, endLocation, vcy);\r\n                r = xAxis.getDataItemPositionX(dataItem, xField, locationX, vcx, exactLocationX);\r\n                if (this._xOpenField !== this._xField) {\r\n                    l = xAxis.getDataItemPositionX(dataItem, xOpenField, openLocationX, vcx, exactLocationX);\r\n                }\r\n                else {\r\n                    if (stacked) {\r\n                        let stackToItemX = dataItem.get(\"stackToItemX\");\r\n                        if (stackToItemX) {\r\n                            l = xAxis.getDataItemPositionX(stackToItemX, xField, openLocationX, stackToItemX.component.get(\"vcx\"), exactLocationX);\r\n                        }\r\n                        else {\r\n                            l = xAxis.basePosition();\r\n                        }\r\n                    }\r\n                    else {\r\n                        l = xAxis.basePosition();\r\n                    }\r\n                }\r\n                fitW = true;\r\n                dataItem.setRaw(\"point\", { x: r, y: t + (b - t) / 2 });\r\n            }\r\n            else if (axisCase == 2) {\r\n                let startLocation = this._aLocationX0 + openLocationX - 0.5;\r\n                let endLocation = this._aLocationX1 + locationX - 0.5;\r\n                if (width instanceof Percent) {\r\n                    let offset = (endLocation - startLocation) * (1 - width.value) / 2;\r\n                    startLocation += offset;\r\n                    endLocation -= offset;\r\n                }\r\n                l = xAxis.getDataItemPositionX(dataItem, xOpenField, startLocation, vcx);\r\n                r = xAxis.getDataItemPositionX(dataItem, xField, endLocation, vcx);\r\n                startLocation = this._aLocationY0 + openLocationY - 0.5;\r\n                endLocation = this._aLocationY1 + locationY - 0.5;\r\n                if (height instanceof Percent) {\r\n                    let offset = (endLocation - startLocation) * (1 - height.value) / 2;\r\n                    startLocation += offset;\r\n                    endLocation -= offset;\r\n                }\r\n                t = yAxis.getDataItemPositionY(dataItem, yOpenField, startLocation, vcy);\r\n                b = yAxis.getDataItemPositionY(dataItem, yField, endLocation, vcy);\r\n                dataItem.setRaw(\"point\", { x: l + (r - l) / 2, y: t + (b - t) / 2 });\r\n            }\r\n            this._applyGraphicsStates(dataItem, previousDataItem);\r\n            this._updateSeriesGraphics(dataItem, graphics, l, r, t, b, fitW, fitH);\r\n            if ((l < xStart && r < xStart) || (l > xEnd && r > xEnd) || (t < yStart && b <= yStart) || (t >= yEnd && b > yEnd) || $type.isNaN(l) || $type.isNaN(t)) {\r\n                this._toggleColumn(dataItem, false);\r\n            }\r\n            else {\r\n                this._toggleColumn(dataItem, true);\r\n            }\r\n            let rangeGraphics = dataItem.get(\"rangeGraphics\");\r\n            if (rangeGraphics) {\r\n                $array.each(rangeGraphics, (graphics) => {\r\n                    this._updateSeriesGraphics(dataItem, graphics, l, r, t, b, fitW, fitH);\r\n                });\r\n            }\r\n        }\r\n        else {\r\n            this._toggleColumn(dataItem, false);\r\n        }\r\n    }\r\n    _updateSeriesGraphics(dataItem, graphics, l, r, t, b, fitW, fitH) {\r\n        const width = graphics.get(\"width\");\r\n        const height = graphics.get(\"height\");\r\n        const maxWidth = graphics.get(\"maxWidth\");\r\n        const maxHeight = graphics.get(\"maxHeight\");\r\n        const ptl = this.getPoint(l, t);\r\n        const pbr = this.getPoint(r, b);\r\n        const tooltipPoint = dataItem.get(\"point\");\r\n        if (tooltipPoint) {\r\n            const point = this.getPoint(tooltipPoint.x, tooltipPoint.y);\r\n            tooltipPoint.x = point.x + this._x;\r\n            tooltipPoint.y = point.y + this._y;\r\n        }\r\n        l = ptl.x;\r\n        r = pbr.x;\r\n        t = ptl.y;\r\n        b = pbr.y;\r\n        if ($type.isNumber(width)) {\r\n            const offset = ((r - l) - width) / 2;\r\n            l += offset;\r\n            r -= offset;\r\n        }\r\n        if ($type.isNumber(maxWidth) && maxWidth < Math.abs(r - l)) {\r\n            const offset = ((r - l) - maxWidth) / 2;\r\n            l += offset;\r\n            r -= offset;\r\n        }\r\n        if ($type.isNumber(height)) {\r\n            const offset = ((b - t) - height) / 2;\r\n            t += offset;\r\n            b -= offset;\r\n        }\r\n        if ($type.isNumber(maxHeight) && maxHeight < Math.abs(b - t)) {\r\n            const offset = ((b - t) - maxHeight) / 2;\r\n            t += offset;\r\n            b -= offset;\r\n        }\r\n        if (this.get(\"adjustBulletPosition\")) {\r\n            if (fitW) {\r\n                r = Math.min(Math.max(0, r), this._pw);\r\n                l = Math.min(Math.max(0, l), this._pw);\r\n            }\r\n            if (fitH) {\r\n                t = Math.min(Math.max(0, t), this._ph);\r\n                b = Math.min(Math.max(0, b), this._ph);\r\n            }\r\n        }\r\n        dataItem.setRaw(\"left\", l);\r\n        dataItem.setRaw(\"right\", r);\r\n        dataItem.setRaw(\"top\", t);\r\n        dataItem.setRaw(\"bottom\", b);\r\n        graphics.setPrivate(\"width\", r - l);\r\n        graphics.setPrivate(\"height\", b - t);\r\n        graphics.set(\"x\", l);\r\n        graphics.set(\"y\", b - (b - t));\r\n    }\r\n    _handleDataSetChange() {\r\n        super._handleDataSetChange();\r\n        $array.each(this._dataItems, (dataItem) => {\r\n            this._toggleColumn(dataItem, false);\r\n        });\r\n    }\r\n    _applyGraphicsStates(dataItem, previousDataItem) {\r\n        const graphics = dataItem.get(\"graphics\");\r\n        const dropFromOpen = graphics.states.lookup(\"dropFromOpen\");\r\n        const riseFromOpen = graphics.states.lookup(\"riseFromOpen\");\r\n        const dropFromPrevious = graphics.states.lookup(\"dropFromPrevious\");\r\n        const riseFromPrevious = graphics.states.lookup(\"riseFromPrevious\");\r\n        if (dropFromOpen || dropFromPrevious || riseFromOpen || riseFromPrevious) {\r\n            const xAxis = this.get(\"xAxis\");\r\n            const yAxis = this.get(\"yAxis\");\r\n            const baseAxis = this.get(\"baseAxis\");\r\n            let open;\r\n            let close;\r\n            let previousClose;\r\n            if (baseAxis === xAxis && yAxis.isType(\"ValueAxis\")) {\r\n                open = dataItem.get(this._yOpenField);\r\n                close = dataItem.get(this._yField);\r\n                previousClose = previousDataItem.get(this._yField);\r\n            }\r\n            else if (baseAxis === yAxis && xAxis.isType(\"ValueAxis\")) {\r\n                open = dataItem.get(this._xOpenField);\r\n                close = dataItem.get(this._xField);\r\n                previousClose = previousDataItem.get(this._xField);\r\n            }\r\n            if ($type.isNumber(open) && $type.isNumber(close)) {\r\n                if (close < open) {\r\n                    if (dropFromOpen) {\r\n                        dropFromOpen.apply();\r\n                    }\r\n                }\r\n                else {\r\n                    if (riseFromOpen) {\r\n                        riseFromOpen.apply();\r\n                    }\r\n                }\r\n                if ($type.isNumber(previousClose)) {\r\n                    if (close < previousClose) {\r\n                        if (dropFromPrevious) {\r\n                            dropFromPrevious.apply();\r\n                        }\r\n                    }\r\n                    else {\r\n                        if (riseFromPrevious) {\r\n                            riseFromPrevious.apply();\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    disposeDataItem(dataItem) {\r\n        super.disposeDataItem(dataItem);\r\n        const graphics = dataItem.get(\"graphics\");\r\n        if (graphics) {\r\n            this.columns.removeValue(graphics);\r\n            graphics.dispose();\r\n        }\r\n        const rangeGraphics = dataItem.get(\"rangeGraphics\");\r\n        if (rangeGraphics) {\r\n            $array.each(rangeGraphics, (graphics) => {\r\n                const list = graphics.getPrivate(\"list\");\r\n                if (list) {\r\n                    list.removeValue(graphics);\r\n                }\r\n                graphics.dispose();\r\n            });\r\n        }\r\n    }\r\n    /**\r\n     * Hides series's data item.\r\n     *\r\n     * @param   dataItem  Data item\r\n     * @param   duration  Animation duration in milliseconds\r\n     * @return            Promise\r\n     */\r\n    hideDataItem(dataItem, duration) {\r\n        const _super = Object.create(null, {\r\n            hideDataItem: { get: () => super.hideDataItem }\r\n        });\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            const promises = [_super.hideDataItem.call(this, dataItem, duration)];\r\n            const graphics = dataItem.get(\"graphics\");\r\n            if (graphics) {\r\n                promises.push(graphics.hide(duration));\r\n            }\r\n            const rangeGraphics = dataItem.get(\"rangeGraphics\");\r\n            if (rangeGraphics) {\r\n                $array.each(rangeGraphics, (graphics) => {\r\n                    promises.push(graphics.hide(duration));\r\n                });\r\n            }\r\n            yield Promise.all(promises);\r\n        });\r\n    }\r\n    _toggleColumn(dataItem, visible) {\r\n        const graphics = dataItem.get(\"graphics\");\r\n        if (graphics) {\r\n            graphics.setPrivate(\"visible\", visible);\r\n        }\r\n        const rangeGraphics = dataItem.get(\"rangeGraphics\");\r\n        if (rangeGraphics) {\r\n            $array.each(rangeGraphics, (graphics) => {\r\n                graphics.setPrivate(\"visible\", visible);\r\n            });\r\n        }\r\n        const bullets = dataItem.bullets;\r\n        if (bullets) {\r\n            $array.each(bullets, (bullet) => {\r\n                bullet.setPrivate(\"hidden\", !visible);\r\n            });\r\n        }\r\n    }\r\n    /**\r\n     * Shows series's data item.\r\n     *\r\n     * @param   dataItem  Data item\r\n     * @param   duration  Animation duration in milliseconds\r\n     * @return            Promise\r\n     */\r\n    showDataItem(dataItem, duration) {\r\n        const _super = Object.create(null, {\r\n            showDataItem: { get: () => super.showDataItem }\r\n        });\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            const promises = [_super.showDataItem.call(this, dataItem, duration)];\r\n            const graphics = dataItem.get(\"graphics\");\r\n            if (graphics) {\r\n                promises.push(graphics.show(duration));\r\n            }\r\n            const rangeGraphics = dataItem.get(\"rangeGraphics\");\r\n            if (rangeGraphics) {\r\n                $array.each(rangeGraphics, (graphics) => {\r\n                    promises.push(graphics.show(duration));\r\n                });\r\n            }\r\n            yield Promise.all(promises);\r\n        });\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    updateLegendMarker(dataItem) {\r\n        let legendDataItem = this.get(\"legendDataItem\");\r\n        if (this.get(\"useLastColorForLegendMarker\")) {\r\n            if (!dataItem) {\r\n                const lastDataItem = this.dataItems[this.endIndex() - 1];\r\n                if (lastDataItem) {\r\n                    dataItem = lastDataItem;\r\n                }\r\n            }\r\n        }\r\n        if (legendDataItem) {\r\n            let graphics = this.columns.template;\r\n            if (dataItem) {\r\n                let column = dataItem.get(\"graphics\");\r\n                if (column) {\r\n                    graphics = column;\r\n                }\r\n            }\r\n            const markerRectangle = legendDataItem.get(\"markerRectangle\");\r\n            if (markerRectangle) {\r\n                if (!legendDataItem.get(\"itemContainer\").get(\"disabled\")) {\r\n                    const ds = markerRectangle.states.lookup(\"default\");\r\n                    $array.each(visualSettings, (setting) => {\r\n                        const value = graphics.get(setting, this.get(setting));\r\n                        markerRectangle.set(setting, value);\r\n                        ds.set(setting, value);\r\n                    });\r\n                }\r\n            }\r\n        }\r\n    }\r\n    _getTooltipTarget(dataItem) {\r\n        if (this.get(\"seriesTooltipTarget\") == \"bullet\") {\r\n            return super._getTooltipTarget(dataItem);\r\n        }\r\n        let column = dataItem.get(\"graphics\");\r\n        if (column) {\r\n            return column;\r\n        }\r\n        return this;\r\n    }\r\n}\r\nObject.defineProperty(BaseColumnSeries, \"className\", {\r\n    enumerable: true,\r\n    configurable: true,\r\n    writable: true,\r\n    value: \"BaseColumnSeries\"\r\n});\r\nObject.defineProperty(BaseColumnSeries, \"classNames\", {\r\n    enumerable: true,\r\n    configurable: true,\r\n    writable: true,\r\n    value: XYSeries.classNames.concat([BaseColumnSeries.className])\r\n});\r\n//# sourceMappingURL=BaseColumnSeries.js.map","import { DataItem } from \"../../../core/render/Component\";\r\nimport { Component } from \"../../../core/render/Component\";\r\nimport { Container } from \"../../../core/render/Container\";\r\nimport { p100 } from \"../../../core/util/Percent\";\r\nimport { List } from \"../../../core/util/List\";\r\nimport { Rectangle } from \"../../../core/render/Rectangle\";\r\nimport * as $array from \"../../../core/util/Array\";\r\nimport * as $type from \"../../../core/util/Type\";\r\nimport * as $utils from \"../../../core/util/Utils\";\r\n/**\r\n * A base class for all axes.\r\n *\r\n * @see {@link https://www.amcharts.com/docs/v5/charts/xy-chart/#Adding_axes} for more info\r\n */\r\nexport class Axis extends Component {\r\n    constructor() {\r\n        super(...arguments);\r\n        Object.defineProperty(this, \"_series\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: []\r\n        });\r\n        Object.defineProperty(this, \"_isPanning\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: false\r\n        });\r\n        /**\r\n         * Array of minor data items.\r\n         */\r\n        Object.defineProperty(this, \"minorDataItems\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: []\r\n        });\r\n        /**\r\n         * A [[Container]] that holds all the axis label elements.\r\n         *\r\n         * @default Container.new()\r\n         */\r\n        Object.defineProperty(this, \"labelsContainer\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: this.children.push(Container.new(this._root, {}))\r\n        });\r\n        /**\r\n         * A [[Container]] that holds all the axis grid and fill elements.\r\n         *\r\n         * @default Container.new()\r\n         */\r\n        Object.defineProperty(this, \"gridContainer\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: Container.new(this._root, { width: p100, height: p100 })\r\n        });\r\n        /**\r\n         * A [[Container]] that holds axis grid elements which goes above the series.\r\n         *\r\n         * @default Container.new()\r\n         */\r\n        Object.defineProperty(this, \"topGridContainer\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: Container.new(this._root, { width: p100, height: p100 })\r\n        });\r\n        /**\r\n         * A [[Container]] that holds all the axis bullet elements.\r\n         *\r\n         * @default new Container\r\n         */\r\n        Object.defineProperty(this, \"bulletsContainer\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: this.children.push(Container.new(this._root, { isMeasured: false, width: p100, height: p100, position: \"absolute\" }))\r\n        });\r\n        /**\r\n         * A referenece to the the chart the axis belongs to.\r\n         */\r\n        Object.defineProperty(this, \"chart\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_rangesDirty\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: false\r\n        });\r\n        Object.defineProperty(this, \"_panStart\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: 0\r\n        });\r\n        Object.defineProperty(this, \"_panEnd\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: 1\r\n        });\r\n        Object.defineProperty(this, \"_sAnimation\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_eAnimation\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_skipSync\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: false\r\n        });\r\n        /**\r\n         * A list of axis ranges.\r\n         *\r\n         * @see {@link https://www.amcharts.com/docs/v5/charts/xy-chart/axes/axis-ranges/} for more info\r\n         * @default new List()\r\n         */\r\n        Object.defineProperty(this, \"axisRanges\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: new List()\r\n        });\r\n        Object.defineProperty(this, \"_seriesAxisRanges\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: []\r\n        });\r\n        /**\r\n         * A control label that is invisible but is used to keep width the width of\r\n         * the axis constant.\r\n         *\r\n         * @see {@link https://www.amcharts.com/docs/v5/charts/xy-chart/axes/value-axis/#Ghost_label} for more info\r\n         */\r\n        Object.defineProperty(this, \"ghostLabel\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_cursorPosition\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: -1\r\n        });\r\n        Object.defineProperty(this, \"_snapToSeries\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_seriesValuesDirty\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: false\r\n        });\r\n        Object.defineProperty(this, \"_seriesAdded\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: false\r\n        });\r\n        /**\r\n         * A container above the axis that can be used to add additional stuff into\r\n         * it. For example a legend, label, or an icon.\r\n         *\r\n         * @see {@link https://www.amcharts.com/docs/v5/charts/xy-chart/axes/axis-headers/} for more info\r\n         * @default new Container\r\n         */\r\n        Object.defineProperty(this, \"axisHeader\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: this.children.push(Container.new(this._root, {\r\n                themeTags: [\"axis\", \"header\"],\r\n                position: \"absolute\",\r\n                background: Rectangle.new(this._root, {\r\n                    themeTags: [\"header\", \"background\"],\r\n                    fill: this._root.interfaceColors.get(\"background\")\r\n                })\r\n            }))\r\n        });\r\n        Object.defineProperty(this, \"_bullets\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: {}\r\n        });\r\n    }\r\n    _dispose() {\r\n        // these could be in other parents, so disposing just in case\r\n        this.gridContainer.dispose();\r\n        this.topGridContainer.dispose();\r\n        this.bulletsContainer.dispose();\r\n        this.labelsContainer.dispose();\r\n        this.axisHeader.dispose();\r\n        super._dispose();\r\n    }\r\n    _afterNew() {\r\n        super._afterNew();\r\n        this.setPrivate(\"updateScrollbar\", true);\r\n        this._disposers.push(this.axisRanges.events.onAll((change) => {\r\n            if (change.type === \"clear\") {\r\n                $array.each(change.oldValues, (dataItem) => {\r\n                    dataItem.dispose();\r\n                });\r\n            }\r\n            else if (change.type === \"push\") {\r\n                this._processAxisRange(change.newValue, [\"range\"]);\r\n            }\r\n            else if (change.type === \"setIndex\") {\r\n                this._processAxisRange(change.newValue, [\"range\"]);\r\n            }\r\n            else if (change.type === \"insertIndex\") {\r\n                this._processAxisRange(change.newValue, [\"range\"]);\r\n            }\r\n            else if (change.type === \"removeIndex\") {\r\n                this.disposeDataItem(change.oldValue);\r\n            }\r\n            else if (change.type === \"moveIndex\") {\r\n                this._processAxisRange(change.value, [\"range\"]);\r\n            }\r\n            else {\r\n                throw new Error(\"Unknown IStreamEvent type\");\r\n            }\r\n        }));\r\n        const renderer = this.get(\"renderer\");\r\n        if (renderer) {\r\n            renderer.axis = this;\r\n            renderer.processAxis();\r\n        }\r\n        this.children.push(renderer);\r\n        this._createGhostLabel();\r\n    }\r\n    _createGhostLabel() {\r\n        const renderer = this.get(\"renderer\");\r\n        const ghostLabel = renderer.makeLabel(new DataItem(this, undefined, {}), []);\r\n        ghostLabel.adapters.disable(\"text\");\r\n        ghostLabel.setAll({ opacity: 0, tooltipText: undefined, tooltipHTML: undefined, interactive: false });\r\n        ghostLabel.events.disable();\r\n        this.ghostLabel = ghostLabel;\r\n    }\r\n    _updateFinals(_start, _end) {\r\n    }\r\n    /**\r\n     * Zooms the axis to relative locations.\r\n     *\r\n     * Both `start` and `end` are relative: 0 means start of the axis, 1 - end.\r\n     *\r\n     * @param   start     Relative start\r\n     * @param   end       Relative end\r\n     * @param   duration  Duration of the zoom animation in milliseconds\r\n     * @return            Zoom animation\r\n     */\r\n    zoom(start, end, duration, priority) {\r\n        if (this.get(\"zoomable\", true)) {\r\n            this._updateFinals(start, end);\r\n            if (this.get(\"start\") !== start || this.get(\"end\") != end) {\r\n                let sAnimation = this._sAnimation;\r\n                let eAnimation = this._eAnimation;\r\n                if (start > end) {\r\n                    [start, end] = [end, start];\r\n                }\r\n                let maxDeviation = this.get(\"maxDeviation\", 0.5) * Math.min(1, (end - start));\r\n                if (start < -maxDeviation) {\r\n                    start = -maxDeviation;\r\n                }\r\n                if (end > 1 + maxDeviation) {\r\n                    end = 1 + maxDeviation;\r\n                }\r\n                let maxZoomFactor = this.getPrivate(\"maxZoomFactor\", this.get(\"maxZoomFactor\", 100));\r\n                let maxZoomFactorReal = maxZoomFactor;\r\n                if (!$type.isNumber(duration)) {\r\n                    duration = this.get(\"interpolationDuration\", 0);\r\n                }\r\n                if (!priority) {\r\n                    priority = \"end\";\r\n                }\r\n                if (end === 1 && start !== 0) {\r\n                    if (start < this.get(\"start\", 0)) {\r\n                        priority = \"start\";\r\n                    }\r\n                    else {\r\n                        priority = \"end\";\r\n                    }\r\n                }\r\n                if (start === 0 && end !== 1) {\r\n                    if (end > this.get(\"end\", 1)) {\r\n                        priority = \"end\";\r\n                    }\r\n                    else {\r\n                        priority = \"start\";\r\n                    }\r\n                }\r\n                let minZoomCount = this.get(\"minZoomCount\", 0);\r\n                const dataItems = this.dataItems;\r\n                if (dataItems && dataItems.length < minZoomCount) {\r\n                    minZoomCount = dataItems.length;\r\n                }\r\n                let maxZoomCount = this.get(\"maxZoomCount\", Infinity);\r\n                if ($type.isNumber(minZoomCount)) {\r\n                    maxZoomFactor = maxZoomFactorReal / minZoomCount;\r\n                }\r\n                let minZoomFactor = 1;\r\n                if ($type.isNumber(maxZoomCount)) {\r\n                    minZoomFactor = maxZoomFactorReal / maxZoomCount;\r\n                }\r\n                // need one more\r\n                if (start > end) {\r\n                    [start, end] = [end, start];\r\n                }\r\n                // most likely we are dragging left scrollbar grip here, so we tend to modify end\r\n                if (priority === \"start\") {\r\n                    if (maxZoomCount > 0) {\r\n                        // add to the end\r\n                        if (1 / (end - start) < minZoomFactor) {\r\n                            end = start + 1 / minZoomFactor;\r\n                        }\r\n                    }\r\n                    // add to the end\r\n                    if (1 / (end - start) > maxZoomFactor) {\r\n                        end = start + 1 / maxZoomFactor;\r\n                    }\r\n                    //unless end is > 0\r\n                    if (end > 1 && end - start < 1 / maxZoomFactor) {\r\n                        //end = 1;\r\n                        start = end - 1 / maxZoomFactor;\r\n                    }\r\n                }\r\n                // most likely we are dragging right, so we modify left\r\n                else {\r\n                    if (maxZoomCount > 0) {\r\n                        // add to the end\r\n                        if (1 / (end - start) < minZoomFactor) {\r\n                            start = end - 1 / minZoomFactor;\r\n                        }\r\n                    }\r\n                    // remove from start\r\n                    if (1 / (end - start) > maxZoomFactor) {\r\n                        start = end - 1 / maxZoomFactor;\r\n                    }\r\n                    if (start < 0 && end - start < 1 / maxZoomFactor) {\r\n                        //start = 0;\r\n                        end = start + 1 / maxZoomFactor;\r\n                    }\r\n                }\r\n                if (1 / (end - start) > maxZoomFactor) {\r\n                    end = start + 1 / maxZoomFactor;\r\n                }\r\n                if (1 / (end - start) > maxZoomFactor) {\r\n                    start = end - 1 / maxZoomFactor;\r\n                }\r\n                if (maxZoomCount != null && minZoomCount != null && (start == this.get(\"start\") && end == this.get(\"end\"))) {\r\n                    const chart = this.chart;\r\n                    if (chart) {\r\n                        chart._handleAxisSelection(this, true);\r\n                    }\r\n                }\r\n                if (((sAnimation && sAnimation.playing && sAnimation.to == start) || this.get(\"start\") == start) && ((eAnimation && eAnimation.playing && eAnimation.to == end) || this.get(\"end\") == end)) {\r\n                    return;\r\n                }\r\n                if (duration > 0) {\r\n                    let easing = this.get(\"interpolationEasing\");\r\n                    let sAnimation, eAnimation;\r\n                    if (this.get(\"start\") != start) {\r\n                        sAnimation = this.animate({ key: \"start\", to: start, duration: duration, easing: easing });\r\n                    }\r\n                    if (this.get(\"end\") != end) {\r\n                        eAnimation = this.animate({ key: \"end\", to: end, duration: duration, easing: easing });\r\n                    }\r\n                    this._sAnimation = sAnimation;\r\n                    this._eAnimation = eAnimation;\r\n                    if (sAnimation) {\r\n                        return sAnimation;\r\n                    }\r\n                    else if (eAnimation) {\r\n                        return eAnimation;\r\n                    }\r\n                }\r\n                else {\r\n                    this.set(\"start\", start);\r\n                    this.set(\"end\", end);\r\n                    this.root.events.once(\"frameended\", () => {\r\n                        this.markDirtyKey(\"start\");\r\n                    });\r\n                }\r\n            }\r\n            else {\r\n                if (this._sAnimation) {\r\n                    this._sAnimation.stop();\r\n                }\r\n                if (this._eAnimation) {\r\n                    this._eAnimation.stop();\r\n                }\r\n            }\r\n        }\r\n    }\r\n    /**\r\n     * A list of series using this axis.\r\n     *\r\n     * @return Series\r\n     */\r\n    get series() {\r\n        return this._series;\r\n    }\r\n    _processAxisRange(dataItem, themeTags) {\r\n        dataItem.setRaw(\"isRange\", true);\r\n        this._createAssets(dataItem, themeTags);\r\n        this._rangesDirty = true;\r\n        this._prepareDataItem(dataItem);\r\n        const above = dataItem.get(\"above\");\r\n        const container = this.topGridContainer;\r\n        const grid = dataItem.get(\"grid\");\r\n        if (above && grid) {\r\n            container.children.moveValue(grid);\r\n        }\r\n        const fill = dataItem.get(\"axisFill\");\r\n        if (above && fill) {\r\n            container.children.moveValue(fill);\r\n        }\r\n    }\r\n    _prepareDataItem(_dataItem, _index) { }\r\n    /**\r\n     * @ignore\r\n     */\r\n    markDirtyExtremes() {\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    markDirtySelectionExtremes() {\r\n    }\r\n    _calculateTotals() {\r\n    }\r\n    _updateAxisRanges() {\r\n        this._bullets = {};\r\n        this.axisRanges.each((axisRange) => {\r\n            this._prepareDataItem(axisRange);\r\n        });\r\n        $array.each(this._seriesAxisRanges, (axisRange) => {\r\n            this._prepareDataItem(axisRange);\r\n        });\r\n    }\r\n    _prepareChildren() {\r\n        super._prepareChildren();\r\n        const ghostLabel = this.ghostLabel;\r\n        if (ghostLabel) {\r\n            if (this.get(\"fixAxisSize\")) {\r\n                ghostLabel.set(\"visible\", true);\r\n            }\r\n            else {\r\n                ghostLabel.set(\"visible\", false);\r\n            }\r\n        }\r\n        if (this.isDirty(\"start\") || this.isDirty(\"end\")) {\r\n            const chart = this.chart;\r\n            if (chart) {\r\n                chart._updateCursor();\r\n            }\r\n            let start = this.get(\"start\", 0);\r\n            let end = this.get(\"end\", 1);\r\n            let maxDeviation = this.get(\"maxDeviation\", 0.5) * Math.min(1, (end - start));\r\n            if (start < -maxDeviation) {\r\n                let delta = start + maxDeviation;\r\n                start = -maxDeviation;\r\n                this.setRaw(\"start\", start);\r\n                if (this.isDirty(\"end\")) {\r\n                    this.setRaw(\"end\", end - delta);\r\n                }\r\n            }\r\n            if (end > 1 + maxDeviation) {\r\n                let delta = end - 1 - maxDeviation;\r\n                end = 1 + maxDeviation;\r\n                this.setRaw(\"end\", end);\r\n                if (this.isDirty(\"start\")) {\r\n                    this.setRaw(\"start\", start - delta);\r\n                }\r\n            }\r\n        }\r\n        const renderer = this.get(\"renderer\");\r\n        renderer._start = this.get(\"start\");\r\n        renderer._end = this.get(\"end\");\r\n        renderer._inversed = renderer.get(\"inversed\", false);\r\n        renderer._axisLength = renderer.axisLength() / (renderer._end - renderer._start);\r\n        renderer._updateLC();\r\n        if (this.isDirty(\"tooltip\")) {\r\n            const tooltip = this.get(\"tooltip\");\r\n            if (tooltip) {\r\n                const rendererTags = renderer.get(\"themeTags\");\r\n                tooltip.addTag(\"axis\");\r\n                tooltip.addTag(this.className.toLowerCase());\r\n                tooltip._applyThemes();\r\n                if (rendererTags) {\r\n                    tooltip.set(\"themeTags\", $utils.mergeTags(tooltip.get(\"themeTags\"), rendererTags));\r\n                    tooltip.label._applyThemes();\r\n                }\r\n            }\r\n        }\r\n    }\r\n    _updateTooltipBounds() {\r\n        const tooltip = this.get(\"tooltip\");\r\n        if (tooltip) {\r\n            this.get(\"renderer\").updateTooltipBounds(tooltip);\r\n        }\r\n    }\r\n    _updateBounds() {\r\n        super._updateBounds();\r\n        this._updateTooltipBounds();\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    processChart(chart) {\r\n        this.chart = chart;\r\n        const renderer = this.get(\"renderer\");\r\n        renderer.chart = chart;\r\n        chart.gridContainer.children.push(this.gridContainer);\r\n        chart.topGridContainer.children.push(this.topGridContainer);\r\n        chart.axisHeadersContainer.children.push(this.axisHeader);\r\n        this.on(\"start\", () => {\r\n            chart._handleAxisSelection(this);\r\n        });\r\n        this.on(\"end\", () => {\r\n            chart._handleAxisSelection(this);\r\n        });\r\n        chart.plotContainer.onPrivate(\"width\", () => {\r\n            this.markDirtySize();\r\n        });\r\n        chart.plotContainer.onPrivate(\"height\", () => {\r\n            this.markDirtySize();\r\n        });\r\n        chart.processAxis(this);\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    hideDataItem(dataItem) {\r\n        this._toggleFHDataItem(dataItem, true);\r\n        return super.hideDataItem(dataItem);\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    showDataItem(dataItem) {\r\n        this._toggleFHDataItem(dataItem, false);\r\n        return super.showDataItem(dataItem);\r\n    }\r\n    _toggleFHDataItem(dataItem, forceHidden) {\r\n        const fh = \"forceHidden\";\r\n        const label = dataItem.get(\"label\");\r\n        if (label) {\r\n            label.set(fh, forceHidden);\r\n        }\r\n        const grid = dataItem.get(\"grid\");\r\n        if (grid) {\r\n            grid.set(fh, forceHidden);\r\n        }\r\n        const tick = dataItem.get(\"tick\");\r\n        if (tick) {\r\n            tick.set(fh, forceHidden);\r\n        }\r\n        const axisFill = dataItem.get(\"axisFill\");\r\n        if (axisFill) {\r\n            axisFill.set(fh, forceHidden);\r\n        }\r\n        const bullet = dataItem.get(\"bullet\");\r\n        if (bullet) {\r\n            const sprite = bullet.get(\"sprite\");\r\n            if (sprite) {\r\n                sprite.set(fh, forceHidden);\r\n            }\r\n        }\r\n    }\r\n    _toggleDataItem(dataItem, visible) {\r\n        const label = dataItem.get(\"label\");\r\n        const v = \"visible\";\r\n        if (label) {\r\n            label.setPrivate(v, visible);\r\n        }\r\n        const grid = dataItem.get(\"grid\");\r\n        if (grid) {\r\n            grid.setPrivate(v, visible);\r\n        }\r\n        const tick = dataItem.get(\"tick\");\r\n        if (tick) {\r\n            tick.setPrivate(v, visible);\r\n        }\r\n        const axisFill = dataItem.get(\"axisFill\");\r\n        if (axisFill) {\r\n            axisFill.setPrivate(v, visible);\r\n        }\r\n        const bullet = dataItem.get(\"bullet\");\r\n        if (bullet) {\r\n            const sprite = bullet.get(\"sprite\");\r\n            if (sprite) {\r\n                sprite.setPrivate(v, visible);\r\n            }\r\n        }\r\n    }\r\n    _createAssets(dataItem, tags, minor) {\r\n        var _a, _b, _c;\r\n        const renderer = this.get(\"renderer\");\r\n        let m = \"minor\";\r\n        const label = dataItem.get(\"label\");\r\n        if (!label) {\r\n            renderer.makeLabel(dataItem, tags);\r\n        }\r\n        else {\r\n            let themeTags = label.get(\"themeTags\");\r\n            let remove = false;\r\n            if (minor) {\r\n                if ((themeTags === null || themeTags === void 0 ? void 0 : themeTags.indexOf(m)) == -1) {\r\n                    remove = true;\r\n                }\r\n            }\r\n            else {\r\n                if ((themeTags === null || themeTags === void 0 ? void 0 : themeTags.indexOf(m)) != -1) {\r\n                    remove = true;\r\n                }\r\n            }\r\n            if (remove) {\r\n                (_a = label.parent) === null || _a === void 0 ? void 0 : _a.children.removeValue(label);\r\n                renderer.makeLabel(dataItem, tags);\r\n                label.dispose();\r\n                renderer.labels.removeValue(label);\r\n            }\r\n        }\r\n        const grid = dataItem.get(\"grid\");\r\n        if (!grid) {\r\n            renderer.makeGrid(dataItem, tags);\r\n        }\r\n        else {\r\n            let themeTags = grid.get(\"themeTags\");\r\n            let remove = false;\r\n            if (minor) {\r\n                if ((themeTags === null || themeTags === void 0 ? void 0 : themeTags.indexOf(m)) == -1) {\r\n                    remove = true;\r\n                }\r\n            }\r\n            else {\r\n                if ((themeTags === null || themeTags === void 0 ? void 0 : themeTags.indexOf(m)) != -1) {\r\n                    remove = true;\r\n                }\r\n            }\r\n            if (remove) {\r\n                (_b = grid.parent) === null || _b === void 0 ? void 0 : _b.children.removeValue(grid);\r\n                renderer.makeGrid(dataItem, tags);\r\n                grid.dispose();\r\n                renderer.grid.removeValue(grid);\r\n            }\r\n        }\r\n        const tick = dataItem.get(\"tick\");\r\n        if (!tick) {\r\n            renderer.makeTick(dataItem, tags);\r\n        }\r\n        else {\r\n            let remove = false;\r\n            let themeTags = tick.get(\"themeTags\");\r\n            if (minor) {\r\n                if ((themeTags === null || themeTags === void 0 ? void 0 : themeTags.indexOf(m)) == -1) {\r\n                    remove = true;\r\n                }\r\n            }\r\n            else {\r\n                if ((themeTags === null || themeTags === void 0 ? void 0 : themeTags.indexOf(m)) != -1) {\r\n                    remove = true;\r\n                }\r\n            }\r\n            if (remove) {\r\n                (_c = tick.parent) === null || _c === void 0 ? void 0 : _c.children.removeValue(tick);\r\n                renderer.makeTick(dataItem, tags);\r\n                tick.dispose();\r\n                renderer.ticks.removeValue(tick);\r\n            }\r\n        }\r\n        if (!minor && !dataItem.get(\"axisFill\")) {\r\n            renderer.makeAxisFill(dataItem, tags);\r\n        }\r\n        else if (minor && !dataItem.get(\"axisFill\") && this.get(\"minorAxisFillsEnabled\")) {\r\n            renderer.makeAxisFill(dataItem, tags);\r\n        }\r\n        this._processBullet(dataItem);\r\n    }\r\n    _processBullet(dataItem) {\r\n        let bullet = dataItem.get(\"bullet\");\r\n        let axisBullet = this.get(\"bullet\");\r\n        if (!bullet && axisBullet && !dataItem.get(\"isRange\")) {\r\n            bullet = axisBullet(this._root, this, dataItem);\r\n        }\r\n        if (bullet) {\r\n            bullet.axis = this;\r\n            const sprite = bullet.get(\"sprite\");\r\n            if (sprite) {\r\n                sprite._setDataItem(dataItem);\r\n                dataItem.setRaw(\"bullet\", bullet);\r\n                if (!sprite.parent) {\r\n                    this.bulletsContainer.children.push(sprite);\r\n                }\r\n            }\r\n        }\r\n    }\r\n    _afterChanged() {\r\n        super._afterChanged();\r\n        const chart = this.chart;\r\n        if (chart) {\r\n            chart._updateChartLayout();\r\n            chart.axisHeadersContainer.markDirtySize();\r\n        }\r\n        this.get(\"renderer\")._updatePositions();\r\n        this._seriesAdded = false;\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    disposeDataItem(dataItem) {\r\n        super.disposeDataItem(dataItem);\r\n        const renderer = this.get(\"renderer\");\r\n        const label = dataItem.get(\"label\");\r\n        if (label) {\r\n            renderer.labels.removeValue(label);\r\n            label.dispose();\r\n        }\r\n        const tick = dataItem.get(\"tick\");\r\n        if (tick) {\r\n            renderer.ticks.removeValue(tick);\r\n            tick.dispose();\r\n        }\r\n        const grid = dataItem.get(\"grid\");\r\n        if (grid) {\r\n            renderer.grid.removeValue(grid);\r\n            grid.dispose();\r\n        }\r\n        const axisFill = dataItem.get(\"axisFill\");\r\n        if (axisFill) {\r\n            renderer.axisFills.removeValue(axisFill);\r\n            axisFill.dispose();\r\n        }\r\n        const bullet = dataItem.get(\"bullet\");\r\n        if (bullet) {\r\n            bullet.dispose();\r\n        }\r\n    }\r\n    _updateGhost() {\r\n        this.setPrivate(\"cellWidth\", this.getCellWidthPosition() * this.get(\"renderer\").axisLength());\r\n        const ghostLabel = this.ghostLabel;\r\n        if (ghostLabel) {\r\n            if (!ghostLabel.isHidden()) {\r\n                const bounds = ghostLabel.localBounds();\r\n                const gWidth = Math.ceil(bounds.right - bounds.left);\r\n                let text = ghostLabel.get(\"text\");\r\n                $array.each(this.dataItems, (dataItem) => {\r\n                    const label = dataItem.get(\"label\");\r\n                    if (label && !label.isHidden()) {\r\n                        const bounds = label.localBounds();\r\n                        const w = Math.ceil(bounds.right - bounds.left);\r\n                        if (w > gWidth) {\r\n                            text = label.text._getText();\r\n                        }\r\n                    }\r\n                });\r\n                ghostLabel.set(\"text\", text);\r\n            }\r\n            let start = this.get(\"start\", 0);\r\n            let end = this.get(\"end\", 1);\r\n            this.get(\"renderer\").updateLabel(ghostLabel, start + (end - start) * 0.5);\r\n        }\r\n    }\r\n    _handleCursorPosition(position, snapToSeries) {\r\n        const renderer = this.get(\"renderer\");\r\n        position = renderer.toAxisPosition(position);\r\n        this._cursorPosition = position;\r\n        this._snapToSeries = snapToSeries;\r\n        this.updateTooltip();\r\n    }\r\n    /**\r\n     * Can be called when axis zoom changes and you need to update tooltip\r\n     * position.\r\n     */\r\n    updateTooltip() {\r\n        const snapToSeries = this._snapToSeries;\r\n        let position = this._cursorPosition;\r\n        const tooltip = this.get(\"tooltip\");\r\n        const renderer = this.get(\"renderer\");\r\n        if ($type.isNumber(position)) {\r\n            $array.each(this.series, (series) => {\r\n                if (series.get(\"baseAxis\") === this) {\r\n                    const dataItem = this.getSeriesItem(series, position, this.get(\"tooltipLocation\"));\r\n                    if (snapToSeries && snapToSeries.indexOf(series) != -1) {\r\n                        series.updateLegendMarker(dataItem);\r\n                        series.updateLegendValue(dataItem);\r\n                        series._settings.tooltipDataItem = dataItem;\r\n                    }\r\n                    else {\r\n                        series.showDataItemTooltip(dataItem);\r\n                        series.setRaw(\"tooltipDataItem\", dataItem);\r\n                    }\r\n                }\r\n            });\r\n            if (this.get(\"snapTooltip\")) {\r\n                position = this.roundAxisPosition(position, this.get(\"tooltipLocation\", 0.5));\r\n            }\r\n            this.setPrivateRaw(\"tooltipPosition\", position);\r\n            if (tooltip) {\r\n                renderer.updateTooltipBounds(tooltip);\r\n                if (!$type.isNaN(position)) {\r\n                    this._updateTooltipText(tooltip, position);\r\n                    renderer.positionTooltip(tooltip, position);\r\n                    if (position < this.get(\"start\", 0) || position > this.get(\"end\", 1)) {\r\n                        tooltip.hide(0);\r\n                    }\r\n                    else {\r\n                        tooltip.show(0);\r\n                    }\r\n                }\r\n                else {\r\n                    tooltip.hide(0);\r\n                }\r\n            }\r\n        }\r\n    }\r\n    _updateTooltipText(tooltip, position) {\r\n        tooltip.label.set(\"text\", this.getTooltipText(position));\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    roundAxisPosition(position, _location) {\r\n        return position;\r\n    }\r\n    _handleSeriesRemoved() {\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    handleCursorShow() {\r\n        let tooltip = this.get(\"tooltip\");\r\n        if (tooltip) {\r\n            tooltip.show();\r\n        }\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    handleCursorHide() {\r\n        let tooltip = this.get(\"tooltip\");\r\n        if (tooltip) {\r\n            tooltip.hide();\r\n        }\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    processSeriesDataItem(_dataItem, _fields) {\r\n    }\r\n    _clearDirty() {\r\n        super._clearDirty();\r\n        this._sizeDirty = false;\r\n        this._rangesDirty = false;\r\n    }\r\n    /**\r\n     * Converts pixel coordinate to a relative position on axis.\r\n     *\r\n     * @param   coordinate  Coordinate\r\n     * @return              Relative position\r\n     */\r\n    coordinateToPosition(coordinate) {\r\n        const renderer = this.get(\"renderer\");\r\n        return renderer.toAxisPosition(coordinate / renderer.axisLength());\r\n    }\r\n    /**\r\n     * Converts relative position of the plot area to relative position of the\r\n     * axis with zoom taken into account.\r\n     *\r\n     * @param position Position\r\n     * @return Relative position\r\n     */\r\n    toAxisPosition(position) {\r\n        return this.get(\"renderer\").toAxisPosition(position);\r\n    }\r\n    /**\r\n     * Converts relative position of the axis to a global position taking current\r\n     * zoom into account (opposite to what `toAxisPosition` does).\r\n     *\r\n     * @since 5.4.2\r\n     * @param position Position\r\n     * @return Global position\r\n     */\r\n    toGlobalPosition(position) {\r\n        return this.get(\"renderer\").toGlobalPosition(position);\r\n    }\r\n    /**\r\n     * Adjusts position with inversed taken into account.\r\n     *\r\n     * @ignore\r\n     */\r\n    fixPosition(position) {\r\n        return this.get(\"renderer\").fixPosition(position);\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    shouldGap(_dataItem, _nextItem, _autoGapCount, _fieldName) {\r\n        return false;\r\n    }\r\n    /**\r\n     * Creates and returns an axis range object.\r\n     *\r\n     * @see {@link https://www.amcharts.com/docs/v5/charts/xy-chart/axes/axis-ranges/} for more info\r\n     * @param   axisDataItem  Axis data item\r\n     * @return                Axis range\r\n     */\r\n    createAxisRange(axisDataItem) {\r\n        return this.axisRanges.push(axisDataItem);\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    _groupSeriesData(_series) { }\r\n    /**\r\n     * Returns relative position between two grid lines of the axis.\r\n     *\r\n     * @return Position\r\n     */\r\n    getCellWidthPosition() {\r\n        return 0.05;\r\n    }\r\n}\r\nObject.defineProperty(Axis, \"className\", {\r\n    enumerable: true,\r\n    configurable: true,\r\n    writable: true,\r\n    value: \"Axis\"\r\n});\r\nObject.defineProperty(Axis, \"classNames\", {\r\n    enumerable: true,\r\n    configurable: true,\r\n    writable: true,\r\n    value: Component.classNames.concat([Axis.className])\r\n});\r\n//# sourceMappingURL=Axis.js.map","import { DataItem } from \"../../../core/render/Component\";\r\nimport { Axis } from \"./Axis\";\r\nimport { MultiDisposer } from \"../../../core/util/Disposer\";\r\nimport * as $type from \"../../../core/util/Type\";\r\nimport * as $array from \"../../../core/util/Array\";\r\nimport * as $math from \"../../../core/util/Math\";\r\nimport * as $utils from \"../../../core/util/Utils\";\r\n/**\r\n * Creates a value axis.\r\n *\r\n * @see {@link https://www.amcharts.com/docs/v5/charts/xy-chart/axes/value-axis/} for more info\r\n * @important\r\n */\r\nexport class ValueAxis extends Axis {\r\n    constructor() {\r\n        super(...arguments);\r\n        Object.defineProperty(this, \"_dirtyExtremes\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: false\r\n        });\r\n        Object.defineProperty(this, \"_dirtySelectionExtremes\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: false\r\n        });\r\n        Object.defineProperty(this, \"_dseHandled\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: false\r\n        });\r\n        Object.defineProperty(this, \"_deltaMinMax\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: 1\r\n        });\r\n        Object.defineProperty(this, \"_minReal\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_maxReal\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_minRealLog\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_baseValue\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: 0\r\n        });\r\n        Object.defineProperty(this, \"_syncDp\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_minLogAdjusted\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: 1\r\n        });\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    markDirtyExtremes() {\r\n        this._dirtyExtremes = true;\r\n        this.markDirty();\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    markDirtySelectionExtremes() {\r\n        this._dirtySelectionExtremes = true;\r\n        this.markDirty();\r\n    }\r\n    _afterNew() {\r\n        this._settings.themeTags = $utils.mergeTags(this._settings.themeTags, [\"axis\"]);\r\n        this.setPrivateRaw(\"name\", \"value\");\r\n        this.addTag(\"value\");\r\n        super._afterNew();\r\n    }\r\n    _prepareChildren() {\r\n        var _a;\r\n        super._prepareChildren();\r\n        if (this.isDirty(\"syncWithAxis\")) {\r\n            let previousValue = this._prevSettings.syncWithAxis;\r\n            if (previousValue) {\r\n                if (this._syncDp) {\r\n                    this._syncDp.dispose();\r\n                }\r\n            }\r\n            let syncWithAxis = this.get(\"syncWithAxis\");\r\n            if (syncWithAxis) {\r\n                this._syncDp = new MultiDisposer([\r\n                    syncWithAxis.onPrivate(\"selectionMinFinal\", () => {\r\n                        this._dirtySelectionExtremes = true;\r\n                    }),\r\n                    syncWithAxis.onPrivate(\"selectionMaxFinal\", () => {\r\n                        this._dirtySelectionExtremes = true;\r\n                    })\r\n                ]);\r\n            }\r\n        }\r\n        let someDirty = false;\r\n        if (this.isDirty(\"min\") || this.isDirty(\"max\") || this.isDirty(\"maxPrecision\") || this.isDirty(\"numberFormat\")) {\r\n            someDirty = true;\r\n            (_a = this.ghostLabel) === null || _a === void 0 ? void 0 : _a.set(\"text\", \"\");\r\n        }\r\n        //if (this._dirtyExtremes || this.isPrivateDirty(\"width\") || this.isPrivateDirty(\"height\") || this.isDirty(\"min\") || this.isDirty(\"max\") || this.isDirty(\"extraMin\") || this.isDirty(\"extraMax\") || this.isDirty(\"logarithmic\") || this.isDirty(\"treatZeroAs\") || this.isDirty(\"baseValue\") || this.isDirty(\"strictMinMax\") || this.isDirty(\"maxPrecision\")) {\r\n        if (this._sizeDirty || this._dirtyExtremes || this._valuesDirty || someDirty || this.isPrivateDirty(\"width\") || this.isPrivateDirty(\"height\") || this.isDirty(\"extraMin\") || this.isDirty(\"extraMax\") || this.isDirty(\"logarithmic\") || this.isDirty(\"treatZeroAs\") || this.isDirty(\"baseValue\") || this.isDirty(\"strictMinMax\") || this.isDirty(\"strictMinMaxSelection\")) {\r\n            this._getMinMax();\r\n            this._dirtyExtremes = false;\r\n        }\r\n        this._handleSizeDirty();\r\n        if (this._dirtySelectionExtremes && !this._isPanning && this.get(\"autoZoom\", true)) {\r\n            const chart = this.chart;\r\n            let getMM = false;\r\n            // #1563\r\n            if (chart) {\r\n                const letter = this.get(\"renderer\").getPrivate(\"letter\");\r\n                if (letter == \"Y\") {\r\n                    chart.xAxes.each((axis) => {\r\n                        if (axis.className != \"ValueAxis\") {\r\n                            getMM = true;\r\n                        }\r\n                    });\r\n                }\r\n                else if (letter == \"X\") {\r\n                    chart.yAxes.each((axis) => {\r\n                        if (axis.className != \"ValueAxis\") {\r\n                            getMM = true;\r\n                        }\r\n                    });\r\n                }\r\n            }\r\n            if (getMM) {\r\n                this._getSelectionMinMax();\r\n            }\r\n            this._dirtySelectionExtremes = false;\r\n        }\r\n        this._groupData();\r\n        if (this._sizeDirty || this._valuesDirty || this.isDirty(\"start\") || this.isDirty(\"end\") || this.isPrivateDirty(\"min\") || this.isPrivateDirty(\"selectionMax\") || this.isPrivateDirty(\"selectionMin\") || this.isPrivateDirty(\"max\") || this.isPrivateDirty(\"step\") || this.isPrivateDirty(\"width\") || this.isPrivateDirty(\"height\") || this.isDirty(\"logarithmic\")) {\r\n            this._handleRangeChange();\r\n            this._prepareAxisItems();\r\n            this._updateAxisRanges();\r\n        }\r\n        this._baseValue = this.baseValue();\r\n    }\r\n    _handleSizeDirty() {\r\n        if (this._sizeDirty && !this._dseHandled) {\r\n            this._dirtySelectionExtremes = true;\r\n            this._dseHandled = true;\r\n            if (this.getPrivate(\"selectionMinFinal\") != this.getPrivate(\"selectionMin\") || this.getPrivate(\"selectionMaxFinal\") != this.getPrivate(\"selectionMax\")) {\r\n                this._dirtySelectionExtremes = false;\r\n            }\r\n        }\r\n    }\r\n    _clearDirty() {\r\n        super._clearDirty();\r\n        this._dseHandled = false;\r\n    }\r\n    _groupData() {\r\n    }\r\n    _formatText(value) {\r\n        const numberFormat = this.get(\"numberFormat\");\r\n        const formatter = this.getNumberFormatter();\r\n        let text = \"\";\r\n        if (numberFormat) {\r\n            text = formatter.format(value, numberFormat);\r\n        }\r\n        else {\r\n            text = formatter.format(value, undefined, this.getPrivate(\"stepDecimalPlaces\"));\r\n        }\r\n        return text;\r\n    }\r\n    _prepareAxisItems() {\r\n        const min = this.getPrivate(\"min\");\r\n        const max = this.getPrivate(\"max\");\r\n        if ($type.isNumber(min) && $type.isNumber(max)) {\r\n            const logarithmic = this.get(\"logarithmic\");\r\n            const step = this.getPrivate(\"step\");\r\n            const selectionMin = this.getPrivate(\"selectionMin\");\r\n            const selectionMax = this.getPrivate(\"selectionMax\") + step;\r\n            let value = selectionMin - step;\r\n            let differencePower = 1;\r\n            let minLog = min;\r\n            if (logarithmic) {\r\n                value = this._minLogAdjusted;\r\n                if (value < selectionMin) {\r\n                    while (value < selectionMin) {\r\n                        value += step;\r\n                    }\r\n                }\r\n                minLog = value;\r\n                if (minLog <= 0) {\r\n                    let minRealLog = this._minRealLog;\r\n                    if (!$type.isNumber(minRealLog)) {\r\n                        minRealLog = 1;\r\n                    }\r\n                    minLog = Math.pow(10, Math.log(minRealLog) * Math.LOG10E);\r\n                    if (step < 1) {\r\n                        if ($type.isNumber(this._minRealLog)) {\r\n                            minLog = this._minRealLog;\r\n                        }\r\n                        else {\r\n                            minLog = Math.pow(10, -50);\r\n                        }\r\n                    }\r\n                }\r\n                differencePower = Math.log(selectionMax - step) * Math.LOG10E - Math.log(minLog) * Math.LOG10E;\r\n                if (differencePower > 2) {\r\n                    value = Math.pow(10, Math.log(minLog) * Math.LOG10E - 50);\r\n                }\r\n            }\r\n            /// minor grid\r\n            const renderer = this.get(\"renderer\");\r\n            const minorLabelsEnabled = renderer.get(\"minorLabelsEnabled\");\r\n            const minorGridEnabled = renderer.get(\"minorGridEnabled\", minorLabelsEnabled);\r\n            let stepPower = Math.pow(10, Math.floor(Math.log(Math.abs(step)) * Math.LOG10E));\r\n            const stepAdjusted = Math.round(step / stepPower);\r\n            let minorGridCount = 2;\r\n            if ($math.round(stepAdjusted / 5, 10) % 1 == 0) {\r\n                minorGridCount = 5;\r\n            }\r\n            if ($math.round(stepAdjusted / 10, 10) % 1 == 0) {\r\n                minorGridCount = 10;\r\n            }\r\n            let minorStep = step / minorGridCount;\r\n            // end of minor grid\r\n            let i = 0;\r\n            let m = 0;\r\n            let previous = -Infinity;\r\n            while (value < selectionMax) {\r\n                let dataItem;\r\n                if (this.dataItems.length < i + 1) {\r\n                    dataItem = new DataItem(this, undefined, {});\r\n                    this._dataItems.push(dataItem);\r\n                    this.processDataItem(dataItem);\r\n                }\r\n                else {\r\n                    dataItem = this.dataItems[i];\r\n                }\r\n                this._createAssets(dataItem, []);\r\n                this._toggleDataItem(dataItem, true);\r\n                dataItem.setRaw(\"value\", value);\r\n                const label = dataItem.get(\"label\");\r\n                if (label) {\r\n                    label.set(\"text\", this._formatText(value));\r\n                }\r\n                this._prepareDataItem(dataItem);\r\n                let nextValue = value;\r\n                if (!logarithmic) {\r\n                    nextValue += step;\r\n                }\r\n                else {\r\n                    if (differencePower > 2) {\r\n                        nextValue = Math.pow(10, Math.log(minLog) * Math.LOG10E + i - 50);\r\n                    }\r\n                    else {\r\n                        nextValue += step;\r\n                    }\r\n                }\r\n                // minor grid\r\n                if (minorGridEnabled) {\r\n                    let minorValue = value + minorStep;\r\n                    if (logarithmic) {\r\n                        if (differencePower > 2) {\r\n                            let minorMinMaxStep = this._adjustMinMax(value, nextValue, 10);\r\n                            minorStep = minorMinMaxStep.step;\r\n                        }\r\n                        minorValue = value + minorStep;\r\n                    }\r\n                    while (minorValue < nextValue - step * 0.00000000001) {\r\n                        let minorDataItem;\r\n                        if (this.minorDataItems.length < m + 1) {\r\n                            minorDataItem = new DataItem(this, undefined, {});\r\n                            this.minorDataItems.push(minorDataItem);\r\n                            this.processDataItem(minorDataItem);\r\n                        }\r\n                        else {\r\n                            minorDataItem = this.minorDataItems[m];\r\n                        }\r\n                        this._createAssets(minorDataItem, [\"minor\"], true);\r\n                        this._toggleDataItem(minorDataItem, true);\r\n                        minorDataItem.setRaw(\"value\", minorValue);\r\n                        const minorLabel = minorDataItem.get(\"label\");\r\n                        if (minorLabel) {\r\n                            if (minorLabelsEnabled) {\r\n                                minorLabel.set(\"text\", this._formatText(minorValue));\r\n                            }\r\n                            else {\r\n                                minorLabel.setPrivate(\"visible\", false);\r\n                            }\r\n                        }\r\n                        this._prepareDataItem(minorDataItem);\r\n                        minorValue += minorStep;\r\n                        m++;\r\n                    }\r\n                }\r\n                value = nextValue;\r\n                if (previous == value) {\r\n                    break;\r\n                }\r\n                let stepPower = Math.pow(10, Math.floor(Math.log(Math.abs(step)) * Math.LOG10E));\r\n                if (stepPower < 1 && !logarithmic) {\r\n                    // exponent is less then 1 too. Count decimals of exponent\r\n                    let decCount = Math.round(Math.abs(Math.log(Math.abs(stepPower)) * Math.LOG10E)) + 2;\r\n                    // round value to avoid floating point issues\r\n                    value = $math.round(value, decCount);\r\n                }\r\n                i++;\r\n                // #103520\r\n                if (logarithmic && differencePower <= 2) {\r\n                    if (value - step < step) {\r\n                        value = step;\r\n                    }\r\n                }\r\n                previous = value;\r\n            }\r\n            for (let j = i; j < this.dataItems.length; j++) {\r\n                this._toggleDataItem(this.dataItems[j], false);\r\n            }\r\n            for (let j = m; j < this.minorDataItems.length; j++) {\r\n                this._toggleDataItem(this.minorDataItems[j], false);\r\n            }\r\n            $array.each(this.series, (series) => {\r\n                if (series.inited) {\r\n                    series._markDirtyAxes();\r\n                }\r\n            });\r\n            this._updateGhost();\r\n        }\r\n    }\r\n    _prepareDataItem(dataItem, count) {\r\n        let renderer = this.get(\"renderer\");\r\n        let value = dataItem.get(\"value\");\r\n        let endValue = dataItem.get(\"endValue\");\r\n        let position = this.valueToPosition(value);\r\n        let endPosition = position;\r\n        let fillEndPosition = this.valueToPosition(value + this.getPrivate(\"step\"));\r\n        if ($type.isNumber(endValue)) {\r\n            endPosition = this.valueToPosition(endValue);\r\n            fillEndPosition = endPosition;\r\n        }\r\n        if (dataItem.get(\"isRange\")) {\r\n            if (endValue == null) {\r\n                fillEndPosition = position;\r\n            }\r\n        }\r\n        let labelEndPosition = endPosition;\r\n        let labelEndValue = dataItem.get(\"labelEndValue\");\r\n        if (labelEndValue != null) {\r\n            labelEndPosition = this.valueToPosition(labelEndValue);\r\n        }\r\n        renderer.updateLabel(dataItem.get(\"label\"), position, labelEndPosition, count);\r\n        const grid = dataItem.get(\"grid\");\r\n        renderer.updateGrid(grid, position, endPosition);\r\n        if (grid) {\r\n            if (value == this.get(\"baseValue\", 0)) {\r\n                grid.addTag(\"base\");\r\n                grid._applyThemes();\r\n            }\r\n            else if (grid.hasTag(\"base\")) {\r\n                grid.removeTag(\"base\");\r\n                grid._applyThemes();\r\n            }\r\n        }\r\n        renderer.updateTick(dataItem.get(\"tick\"), position, labelEndPosition, count);\r\n        renderer.updateFill(dataItem.get(\"axisFill\"), position, fillEndPosition);\r\n        this._processBullet(dataItem);\r\n        renderer.updateBullet(dataItem.get(\"bullet\"), position, endPosition);\r\n        if (!dataItem.get(\"isRange\")) {\r\n            const fillRule = this.get(\"fillRule\");\r\n            if (fillRule) {\r\n                fillRule(dataItem);\r\n            }\r\n        }\r\n    }\r\n    _handleRangeChange() {\r\n        let selectionMin = this.positionToValue(this.get(\"start\", 0));\r\n        let selectionMax = this.positionToValue(this.get(\"end\", 1));\r\n        const gridCount = this.get(\"renderer\").gridCount();\r\n        let minMaxStep = this._adjustMinMax(selectionMin, selectionMax, gridCount, true);\r\n        let stepDecimalPlaces = $utils.decimalPlaces(minMaxStep.step);\r\n        this.setPrivateRaw(\"stepDecimalPlaces\", stepDecimalPlaces);\r\n        selectionMin = $math.round(selectionMin, stepDecimalPlaces);\r\n        selectionMax = $math.round(selectionMax, stepDecimalPlaces);\r\n        minMaxStep = this._adjustMinMax(selectionMin, selectionMax, gridCount, true);\r\n        let step = minMaxStep.step;\r\n        selectionMin = minMaxStep.min;\r\n        selectionMax = minMaxStep.max;\r\n        if (this.getPrivate(\"selectionMin\") !== selectionMin || this.getPrivate(\"selectionMax\") !== selectionMax || this.getPrivate(\"step\") !== step) {\r\n            // do not change to setPrivate, will cause SO\r\n            this.setPrivateRaw(\"selectionMin\", selectionMin);\r\n            this.setPrivateRaw(\"selectionMax\", selectionMax);\r\n            this.setPrivateRaw(\"step\", step);\r\n        }\r\n    }\r\n    /**\r\n     * Converts a relative position to a corresponding numeric value from axis\r\n     * scale.\r\n     *\r\n     * @param   position  Relative position\r\n     * @return            Value\r\n     */\r\n    positionToValue(position) {\r\n        const min = this.getPrivate(\"min\");\r\n        const max = this.getPrivate(\"max\");\r\n        if (!this.get(\"logarithmic\")) {\r\n            return position * (max - min) + min;\r\n        }\r\n        else {\r\n            return Math.pow(Math.E, (position * ((Math.log(max) * Math.LOG10E - Math.log(min) * Math.LOG10E)) + Math.log(min) * Math.LOG10E) / Math.LOG10E);\r\n        }\r\n    }\r\n    /**\r\n     * Convers value to a relative position on axis.\r\n     *\r\n     * @param   value  Value\r\n     * @return         Relative position\r\n     */\r\n    valueToPosition(value) {\r\n        const min = this.getPrivate(\"min\");\r\n        const max = this.getPrivate(\"max\");\r\n        if (!this.get(\"logarithmic\")) {\r\n            return (value - min) / (max - min);\r\n        }\r\n        else {\r\n            if (value <= 0) {\r\n                let treatZeroAs = this.get(\"treatZeroAs\");\r\n                if ($type.isNumber(treatZeroAs)) {\r\n                    value = treatZeroAs;\r\n                }\r\n            }\r\n            return (Math.log(value) * Math.LOG10E - Math.log(min) * Math.LOG10E) / ((Math.log(max) * Math.LOG10E - Math.log(min) * Math.LOG10E));\r\n        }\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    valueToFinalPosition(value) {\r\n        const min = this.getPrivate(\"minFinal\");\r\n        const max = this.getPrivate(\"maxFinal\");\r\n        if (!this.get(\"logarithmic\")) {\r\n            return (value - min) / (max - min);\r\n        }\r\n        else {\r\n            if (value <= 0) {\r\n                let treatZeroAs = this.get(\"treatZeroAs\");\r\n                if ($type.isNumber(treatZeroAs)) {\r\n                    value = treatZeroAs;\r\n                }\r\n            }\r\n            return (Math.log(value) * Math.LOG10E - Math.log(min) * Math.LOG10E) / ((Math.log(max) * Math.LOG10E - Math.log(min) * Math.LOG10E));\r\n        }\r\n    }\r\n    /**\r\n     * Returns X coordinate in pixels corresponding to specific value.\r\n     *\r\n     * @param   value     Numeric value\r\n     * @param   location  Location\r\n     * @param   baseValue Base value\r\n     * @return            X coordinate\r\n     */\r\n    getX(value, location, baseValue) {\r\n        value = baseValue + (value - baseValue) * location;\r\n        const position = this.valueToPosition(value);\r\n        return this._settings.renderer.positionToCoordinate(position);\r\n    }\r\n    /**\r\n     * Returns X coordinate in pixels corresponding to specific value.\r\n     *\r\n     * @param   value     Numeric value\r\n     * @param   location  Location\r\n     * @param   baseValue Base value\r\n     * @return            X coordinate\r\n     */\r\n    getY(value, location, baseValue) {\r\n        value = baseValue + (value - baseValue) * location;\r\n        const position = this.valueToPosition(value);\r\n        return this._settings.renderer.positionToCoordinate(position);\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    getDataItemCoordinateX(dataItem, field, _cellLocation, axisLocation) {\r\n        return this._settings.renderer.positionToCoordinate(this.getDataItemPositionX(dataItem, field, _cellLocation, axisLocation));\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    getDataItemPositionX(dataItem, field, _cellLocation, axisLocation) {\r\n        let value = dataItem.get(field);\r\n        const stackToItem = dataItem.get(\"stackToItemX\");\r\n        if (stackToItem) {\r\n            const series = dataItem.component;\r\n            value = value * axisLocation + series.getStackedXValueWorking(dataItem, field);\r\n        }\r\n        else {\r\n            value = this._baseValue + (value - this._baseValue) * axisLocation;\r\n        }\r\n        return this.valueToPosition(value);\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    getDataItemCoordinateY(dataItem, field, _cellLocation, axisLocation) {\r\n        return this._settings.renderer.positionToCoordinate(this.getDataItemPositionY(dataItem, field, _cellLocation, axisLocation));\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    getDataItemPositionY(dataItem, field, _cellLocation, axisLocation) {\r\n        let value = dataItem.get(field);\r\n        const stackToItem = dataItem.get(\"stackToItemY\");\r\n        if (stackToItem) {\r\n            const series = dataItem.component;\r\n            value = value * axisLocation + series.getStackedYValueWorking(dataItem, field);\r\n        }\r\n        else {\r\n            value = this._baseValue + (value - this._baseValue) * axisLocation;\r\n        }\r\n        return this.valueToPosition(value);\r\n    }\r\n    /**\r\n     * Returns relative position of axis' `baseValue`.\r\n     *\r\n     * @return  Base value position\r\n     */\r\n    basePosition() {\r\n        return this.valueToPosition(this.baseValue());\r\n    }\r\n    /**\r\n     * Base value of the [[ValueAxis]], which determines positive and negative\r\n     * values.\r\n     *\r\n     * @return Base value\r\n     */\r\n    baseValue() {\r\n        const min = Math.min(this.getPrivate(\"minFinal\", -Infinity), this.getPrivate(\"selectionMin\", -Infinity));\r\n        const max = Math.max(this.getPrivate(\"maxFinal\", Infinity), this.getPrivate(\"selectionMax\", Infinity));\r\n        let baseValue = this.get(\"baseValue\", 0);\r\n        if (baseValue < min) {\r\n            baseValue = min;\r\n        }\r\n        if (baseValue > max) {\r\n            baseValue = max;\r\n        }\r\n        return baseValue;\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    cellEndValue(value) {\r\n        return value;\r\n    }\r\n    fixSmallStep(step) {\r\n        // happens because of floating point error\r\n        if (1 + step === 1) {\r\n            step *= 2;\r\n            return this.fixSmallStep(step);\r\n        }\r\n        return step;\r\n    }\r\n    _fixMin(min) {\r\n        return min;\r\n    }\r\n    _fixMax(max) {\r\n        return max;\r\n    }\r\n    _calculateTotals() {\r\n        if (this.get(\"calculateTotals\")) {\r\n            let series = this.series[0];\r\n            if (series) {\r\n                let startIndex = series.startIndex();\r\n                if (series.dataItems.length > 0) {\r\n                    if (startIndex > 0) {\r\n                        startIndex--;\r\n                    }\r\n                    let endIndex = series.endIndex();\r\n                    if (endIndex < series.dataItems.length) {\r\n                        endIndex++;\r\n                    }\r\n                    let field;\r\n                    let vc;\r\n                    if (series.get(\"yAxis\") == this) {\r\n                        field = \"valueY\";\r\n                        vc = \"vcy\";\r\n                    }\r\n                    else if (series.get(\"xAxis\") == this) {\r\n                        field = \"valueX\";\r\n                        vc = \"vcx\";\r\n                    }\r\n                    let fieldWorking = field + \"Working\";\r\n                    if (field) {\r\n                        for (let i = startIndex; i < endIndex; i++) {\r\n                            let sum = 0;\r\n                            let total = 0;\r\n                            $array.each(this.series, (series) => {\r\n                                if (!series.get(\"excludeFromTotal\")) {\r\n                                    let dataItem = series.dataItems[i];\r\n                                    if (dataItem) {\r\n                                        let value = dataItem.get(fieldWorking) * series.get(vc);\r\n                                        if (!$type.isNaN(value)) {\r\n                                            sum += value;\r\n                                            total += Math.abs(value);\r\n                                        }\r\n                                    }\r\n                                }\r\n                            });\r\n                            $array.each(this.series, (series) => {\r\n                                if (!series.get(\"excludeFromTotal\")) {\r\n                                    let dataItem = series.dataItems[i];\r\n                                    if (dataItem) {\r\n                                        let value = dataItem.get(fieldWorking) * series.get(vc);\r\n                                        if (!$type.isNaN(value)) {\r\n                                            dataItem.set((field + \"Total\"), total);\r\n                                            dataItem.set((field + \"Sum\"), sum);\r\n                                            let totalPercent = value / total * 100;\r\n                                            if (total == 0) {\r\n                                                totalPercent = 0;\r\n                                            }\r\n                                            dataItem.set((field + \"TotalPercent\"), totalPercent);\r\n                                        }\r\n                                    }\r\n                                }\r\n                            });\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n    _getSelectionMinMax() {\r\n        const min = this.getPrivate(\"minFinal\");\r\n        const max = this.getPrivate(\"maxFinal\");\r\n        const minDefined = this.get(\"min\");\r\n        const maxDefined = this.get(\"max\");\r\n        let extraMin = this.get(\"extraMin\", 0);\r\n        let extraMax = this.get(\"extraMax\", 0);\r\n        if (this.get(\"logarithmic\")) {\r\n            if (this.get(\"extraMin\") == null) {\r\n                extraMin = 0.1;\r\n            }\r\n            if (this.get(\"extraMax\") == null) {\r\n                extraMax = 0.2;\r\n            }\r\n        }\r\n        const gridCount = this.get(\"renderer\").gridCount();\r\n        const selectionStrictMinMax = this.get(\"strictMinMaxSelection\");\r\n        let strictMinMax = this.get(\"strictMinMax\");\r\n        if ($type.isNumber(min) && $type.isNumber(max)) {\r\n            let selectionMin = max;\r\n            let selectionMax = min;\r\n            $array.each(this.series, (series) => {\r\n                if (!series.get(\"ignoreMinMax\")) {\r\n                    let seriesMin;\r\n                    let seriesMax;\r\n                    const outOfSelection = series.getPrivate(\"outOfSelection\");\r\n                    if (series.get(\"xAxis\") === this) {\r\n                        if (!outOfSelection) {\r\n                            let minX = series.getPrivate(\"minX\");\r\n                            let maxX = series.getPrivate(\"maxX\");\r\n                            // solves #90085\r\n                            if (series.startIndex() != 0 || series.endIndex() != series.dataItems.length) {\r\n                                minX = undefined;\r\n                                maxX = undefined;\r\n                            }\r\n                            seriesMin = series.getPrivate(\"selectionMinX\", minX);\r\n                            seriesMax = series.getPrivate(\"selectionMaxX\", maxX);\r\n                        }\r\n                    }\r\n                    else if (series.get(\"yAxis\") === this) {\r\n                        if (!outOfSelection) {\r\n                            let minY = series.getPrivate(\"minY\");\r\n                            let maxY = series.getPrivate(\"maxY\");\r\n                            // solves #90085\r\n                            if (series.startIndex() != 0 || series.endIndex() != series.dataItems.length) {\r\n                                minY = undefined;\r\n                                maxY = undefined;\r\n                            }\r\n                            seriesMin = series.getPrivate(\"selectionMinY\", minY);\r\n                            seriesMax = series.getPrivate(\"selectionMaxY\", maxY);\r\n                        }\r\n                    }\r\n                    if (!series.isHidden() && !series.isShowing()) {\r\n                        if ($type.isNumber(seriesMin)) {\r\n                            selectionMin = Math.min(selectionMin, seriesMin);\r\n                        }\r\n                        if ($type.isNumber(seriesMax)) {\r\n                            selectionMax = Math.max(selectionMax, seriesMax);\r\n                        }\r\n                    }\r\n                }\r\n            });\r\n            this.axisRanges.each((range) => {\r\n                if (range.get(\"affectsMinMax\")) {\r\n                    let value = range.get(\"value\");\r\n                    if (value != null) {\r\n                        selectionMin = Math.min(selectionMin, value);\r\n                        selectionMax = Math.max(selectionMax, value);\r\n                    }\r\n                    value = range.get(\"endValue\");\r\n                    if (value != null) {\r\n                        selectionMin = Math.min(selectionMin, value);\r\n                        selectionMax = Math.max(selectionMax, value);\r\n                    }\r\n                }\r\n            });\r\n            if (selectionMin > selectionMax) {\r\n                [selectionMin, selectionMax] = [selectionMax, selectionMin];\r\n            }\r\n            if ($type.isNumber(minDefined)) {\r\n                if (strictMinMax) {\r\n                    selectionMin = minDefined;\r\n                }\r\n                else {\r\n                    selectionMin = min;\r\n                }\r\n            }\r\n            else if (strictMinMax) {\r\n                if ($type.isNumber(this._minReal)) {\r\n                    selectionMin = this._minReal;\r\n                }\r\n            }\r\n            if ($type.isNumber(maxDefined)) {\r\n                if (strictMinMax) {\r\n                    selectionMax = maxDefined;\r\n                }\r\n                else {\r\n                    selectionMax = max;\r\n                }\r\n            }\r\n            else if (strictMinMax) {\r\n                if ($type.isNumber(this._maxReal)) {\r\n                    selectionMax = this._maxReal;\r\n                }\r\n            }\r\n            if (selectionMin === selectionMax) {\r\n                let smin = selectionMin;\r\n                selectionMin -= this._deltaMinMax;\r\n                selectionMax += this._deltaMinMax;\r\n                if (selectionMin < min) {\r\n                    let d = smin - min;\r\n                    if (d == 0) {\r\n                        d = this._deltaMinMax;\r\n                    }\r\n                    selectionMin = smin - d;\r\n                    selectionMax = smin + d;\r\n                    strictMinMax = true;\r\n                }\r\n                let minMaxStep2 = this._adjustMinMax(selectionMin, selectionMax, gridCount, strictMinMax);\r\n                selectionMin = minMaxStep2.min;\r\n                selectionMax = minMaxStep2.max;\r\n            }\r\n            let selectionMinReal = selectionMin;\r\n            let selectionMaxReal = selectionMax;\r\n            let delta = selectionMax - selectionMin;\r\n            selectionMin -= delta * extraMin;\r\n            selectionMax += delta * extraMax;\r\n            let minMaxStep = this._adjustMinMax(selectionMin, selectionMax, gridCount);\r\n            selectionMin = minMaxStep.min;\r\n            selectionMax = minMaxStep.max;\r\n            selectionMin = $math.fitToRange(selectionMin, min, max);\r\n            selectionMax = $math.fitToRange(selectionMax, min, max);\r\n            // do it for the second time !important\t\t\t\r\n            minMaxStep = this._adjustMinMax(selectionMin, selectionMax, gridCount, true);\r\n            if (!strictMinMax) {\r\n                selectionMin = minMaxStep.min;\r\n                selectionMax = minMaxStep.max;\r\n            }\r\n            const syncWithAxis = this.get(\"syncWithAxis\");\r\n            if (syncWithAxis) {\r\n                minMaxStep = this._syncAxes(selectionMin, selectionMax, minMaxStep.step, syncWithAxis.getPrivate(\"selectionMinFinal\", syncWithAxis.getPrivate(\"minFinal\", 0)), syncWithAxis.getPrivate(\"selectionMaxFinal\", syncWithAxis.getPrivate(\"maxFinal\", 1)), syncWithAxis.getPrivate(\"selectionStepFinal\", syncWithAxis.getPrivate(\"step\", 1)));\r\n                if (minMaxStep.min < min) {\r\n                    minMaxStep.min = min;\r\n                }\r\n                if (minMaxStep.max > max) {\r\n                    minMaxStep.max = max;\r\n                }\r\n                selectionMin = minMaxStep.min;\r\n                selectionMax = minMaxStep.max;\r\n            }\r\n            if (strictMinMax) {\r\n                if ($type.isNumber(minDefined)) {\r\n                    selectionMin = Math.max(selectionMin, minDefined);\r\n                }\r\n                if ($type.isNumber(maxDefined)) {\r\n                    selectionMax = Math.min(selectionMax, maxDefined);\r\n                }\r\n            }\r\n            if (selectionStrictMinMax) {\r\n                selectionMin = selectionMinReal - (selectionMaxReal - selectionMinReal) * extraMin;\r\n                selectionMax = selectionMaxReal + (selectionMaxReal - selectionMinReal) * extraMax;\r\n            }\r\n            if (strictMinMax) {\r\n                if ($type.isNumber(minDefined)) {\r\n                    selectionMin = minDefined;\r\n                }\r\n                else {\r\n                    selectionMin = selectionMinReal;\r\n                }\r\n                if ($type.isNumber(maxDefined)) {\r\n                    selectionMax = maxDefined;\r\n                }\r\n                else {\r\n                    selectionMax = selectionMaxReal;\r\n                }\r\n                if (selectionMax - selectionMin <= 0.00000001) {\r\n                    selectionMin -= this._deltaMinMax;\r\n                    selectionMax += this._deltaMinMax;\r\n                }\r\n                let delta = selectionMax - selectionMin;\r\n                selectionMin -= delta * extraMin;\r\n                selectionMax += delta * extraMax;\r\n            }\r\n            if (this.get(\"logarithmic\")) {\r\n                if (selectionMin <= 0) {\r\n                    selectionMin = selectionMinReal * (1 - Math.min(extraMin, 0.99));\r\n                }\r\n                if (selectionMin < min) {\r\n                    selectionMin = min;\r\n                }\r\n                if (selectionMax > max) {\r\n                    selectionMax = max;\r\n                }\r\n            }\r\n            let len = Math.min(20, Math.ceil(Math.log(this.getPrivate(\"maxZoomFactor\", 100) + 1) / Math.LN10) + 2);\r\n            let start = $math.round(this.valueToFinalPosition(selectionMin), len);\r\n            let end = $math.round(this.valueToFinalPosition(selectionMax), len);\r\n            this.setPrivateRaw(\"selectionMinFinal\", selectionMin);\r\n            this.setPrivateRaw(\"selectionMaxFinal\", selectionMax);\r\n            this.setPrivateRaw(\"selectionStepFinal\", minMaxStep.step);\r\n            this.zoom(start, end);\r\n        }\r\n    }\r\n    _getMinMax() {\r\n        let minDefined = this.get(\"min\");\r\n        let maxDefined = this.get(\"max\");\r\n        let min = Infinity;\r\n        let max = -Infinity;\r\n        let extraMin = this.get(\"extraMin\", 0);\r\n        let extraMax = this.get(\"extraMax\", 0);\r\n        if (this.get(\"logarithmic\")) {\r\n            if (!this.get(\"strictMinMax\")) {\r\n                if (this.get(\"extraMin\") == null) {\r\n                    extraMin = 0.1;\r\n                }\r\n                if (this.get(\"extraMax\") == null) {\r\n                    extraMax = 0.2;\r\n                }\r\n            }\r\n        }\r\n        let minDiff = Infinity;\r\n        $array.each(this.series, (series) => {\r\n            if (!series.get(\"ignoreMinMax\")) {\r\n                let seriesMin;\r\n                let seriesMax;\r\n                if (series.get(\"xAxis\") === this) {\r\n                    seriesMin = series.getPrivate(\"minX\");\r\n                    seriesMax = series.getPrivate(\"maxX\");\r\n                }\r\n                else if (series.get(\"yAxis\") === this) {\r\n                    seriesMin = series.getPrivate(\"minY\");\r\n                    seriesMax = series.getPrivate(\"maxY\");\r\n                }\r\n                if ($type.isNumber(seriesMin) && $type.isNumber(seriesMax)) {\r\n                    min = Math.min(min, seriesMin);\r\n                    max = Math.max(max, seriesMax);\r\n                    let diff = seriesMax - seriesMin;\r\n                    if (diff <= 0) {\r\n                        diff = Math.abs(seriesMax / 100);\r\n                    }\r\n                    if (diff < minDiff) {\r\n                        minDiff = diff;\r\n                    }\r\n                }\r\n            }\r\n        });\r\n        this.axisRanges.each((range) => {\r\n            if (range.get(\"affectsMinMax\")) {\r\n                let value = range.get(\"value\");\r\n                if (value != null) {\r\n                    min = Math.min(min, value);\r\n                    max = Math.max(max, value);\r\n                }\r\n                value = range.get(\"endValue\");\r\n                if (value != null) {\r\n                    min = Math.min(min, value);\r\n                    max = Math.max(max, value);\r\n                }\r\n            }\r\n        });\r\n        if (this.get(\"logarithmic\")) {\r\n            let treatZeroAs = this.get(\"treatZeroAs\");\r\n            if ($type.isNumber(treatZeroAs)) {\r\n                if (min <= 0) {\r\n                    min = treatZeroAs;\r\n                }\r\n            }\r\n            if (min <= 0) {\r\n                new Error(\"Logarithmic value axis can not have values <= 0.\");\r\n            }\r\n        }\r\n        if (min === 0 && max === 0) {\r\n            max = 0.9;\r\n            min = -0.9;\r\n        }\r\n        if ($type.isNumber(minDefined)) {\r\n            min = minDefined;\r\n        }\r\n        if ($type.isNumber(maxDefined)) {\r\n            max = maxDefined;\r\n        }\r\n        // meaning no min/max found on series/ranges and no min/max was defined\r\n        if (min === Infinity || max === -Infinity) {\r\n            this.setPrivate(\"minFinal\", undefined);\r\n            this.setPrivate(\"maxFinal\", undefined);\r\n            return;\r\n        }\r\n        if (min > max) {\r\n            [min, max] = [max, min];\r\n        }\r\n        const initialMin = min;\r\n        const initialMax = max;\r\n        // adapter\r\n        let minAdapted = this.adapters.fold(\"min\", min);\r\n        let maxAdapted = this.adapters.fold(\"max\", max);\r\n        this._minRealLog = min;\r\n        if ($type.isNumber(minAdapted)) {\r\n            min = minAdapted;\r\n        }\r\n        if ($type.isNumber(maxAdapted)) {\r\n            max = maxAdapted;\r\n        }\r\n        // DateAxis does some magic here\r\n        min = this._fixMin(min);\r\n        max = this._fixMax(max);\r\n        // this happens if starLocation and endLocation are 0.5 and DateAxis has only one date\t\t\r\n        if (max - min <= 1 / Math.pow(10, 15)) {\r\n            if (max - min !== 0) {\r\n                this._deltaMinMax = (max - min) / 2;\r\n            }\r\n            else {\r\n                this._getDelta(max);\r\n            }\r\n            min -= this._deltaMinMax;\r\n            max += this._deltaMinMax;\r\n        }\r\n        // add extras\r\n        min -= (max - min) * extraMin;\r\n        max += (max - min) * extraMax;\r\n        if (this.get(\"logarithmic\")) {\r\n            // don't let min go below 0 if real min is >= 0\r\n            if (min < 0 && initialMin >= 0) {\r\n                min = 0;\r\n            }\r\n            // don't let max go above 0 if real max is <= 0\r\n            if (max > 0 && initialMax <= 0) {\r\n                max = 0;\r\n            }\r\n        }\r\n        this._minReal = min;\r\n        this._maxReal = max;\r\n        let strictMinMax = this.get(\"strictMinMax\");\r\n        let strictMinMaxSelection = this.get(\"strictMinMaxSelection\", false);\r\n        if (strictMinMaxSelection) {\r\n            strictMinMax = strictMinMaxSelection;\r\n        }\r\n        let strict = strictMinMax;\r\n        if ($type.isNumber(maxDefined)) {\r\n            strict = true;\r\n        }\r\n        let gridCount = this.get(\"renderer\").gridCount();\r\n        let minMaxStep = this._adjustMinMax(min, max, gridCount, strict);\r\n        min = minMaxStep.min;\r\n        max = minMaxStep.max;\r\n        // do it for the second time with strict true (importat!)\r\n        minMaxStep = this._adjustMinMax(min, max, gridCount, true);\r\n        min = minMaxStep.min;\r\n        max = minMaxStep.max;\r\n        // return min max if strict\r\n        if (strictMinMax) {\r\n            if ($type.isNumber(minDefined)) {\r\n                min = minDefined;\r\n            }\r\n            else {\r\n                min = this._minReal;\r\n            }\r\n            if ($type.isNumber(maxDefined)) {\r\n                max = maxDefined;\r\n            }\r\n            else {\r\n                max = this._maxReal;\r\n            }\r\n            if (max - min <= 0.00000001) {\r\n                min -= this._deltaMinMax;\r\n                max += this._deltaMinMax;\r\n            }\r\n            let delta = max - min;\r\n            min -= delta * extraMin;\r\n            max += delta * extraMax;\r\n        }\r\n        minAdapted = this.adapters.fold(\"min\", min);\r\n        maxAdapted = this.adapters.fold(\"max\", max);\r\n        if ($type.isNumber(minAdapted)) {\r\n            min = minAdapted;\r\n        }\r\n        if ($type.isNumber(maxAdapted)) {\r\n            max = maxAdapted;\r\n        }\r\n        if (minDiff == Infinity) {\r\n            minDiff = (max - min);\r\n        }\r\n        // this is to avoid floating point number error\r\n        let decCount = Math.round(Math.abs(Math.log(Math.abs(max - min)) * Math.LOG10E)) + 5;\r\n        min = $math.round(min, decCount);\r\n        max = $math.round(max, decCount);\r\n        const syncWithAxis = this.get(\"syncWithAxis\");\r\n        if (syncWithAxis) {\r\n            minMaxStep = this._syncAxes(min, max, minMaxStep.step, syncWithAxis.getPrivate(\"minFinal\", syncWithAxis.getPrivate(\"min\", 0)), syncWithAxis.getPrivate(\"maxFinal\", syncWithAxis.getPrivate(\"max\", 1)), syncWithAxis.getPrivate(\"step\", 1));\r\n            min = minMaxStep.min;\r\n            max = minMaxStep.max;\r\n        }\r\n        this.setPrivateRaw(\"maxZoomFactor\", Math.max(1, Math.ceil((max - min) / minDiff * this.get(\"maxZoomFactor\", 100))));\r\n        this._fixZoomFactor();\r\n        if (this.get(\"logarithmic\")) {\r\n            this._minLogAdjusted = min;\r\n            min = this._minReal;\r\n            max = this._maxReal;\r\n            if (min <= 0) {\r\n                min = initialMin * (1 - Math.min(extraMin, 0.99));\r\n            }\r\n        }\r\n        if ($type.isNumber(min) && $type.isNumber(max)) {\r\n            if (this.getPrivate(\"minFinal\") !== min || this.getPrivate(\"maxFinal\") !== max) {\r\n                this.setPrivate(\"minFinal\", min);\r\n                this.setPrivate(\"maxFinal\", max);\r\n                this._saveMinMax(min, max);\r\n                const duration = this.get(\"interpolationDuration\", 0);\r\n                const easing = this.get(\"interpolationEasing\");\r\n                this.animatePrivate({ key: \"min\", to: min, duration, easing });\r\n                this.animatePrivate({ key: \"max\", to: max, duration, easing });\r\n            }\r\n        }\r\n    }\r\n    _fixZoomFactor() {\r\n    }\r\n    _getDelta(max) {\r\n        // the number by which we need to raise 10 to get difference\r\n        let exponent = Math.log(Math.abs(max)) * Math.LOG10E;\r\n        // here we find a number which is power of 10 and has the same count of numbers as difference has\r\n        let power = Math.pow(10, Math.floor(exponent));\r\n        // reduce this number by 10 times\r\n        power = power / 10;\r\n        this._deltaMinMax = power;\r\n    }\r\n    _saveMinMax(_min, _max) {\r\n    }\r\n    _adjustMinMax(min, max, gridCount, strictMode) {\r\n        // will fail if 0\r\n        if (gridCount <= 1) {\r\n            gridCount = 1;\r\n        }\r\n        gridCount = Math.round(gridCount);\r\n        let initialMin = min;\r\n        let initialMax = max;\r\n        let difference = max - min;\r\n        // in case min and max is the same, use max\r\n        if (difference === 0) {\r\n            difference = Math.abs(max);\r\n        }\r\n        // the number by which we need to raise 10 to get difference\r\n        let exponent = Math.log(Math.abs(difference)) * Math.LOG10E;\r\n        // here we find a number which is power of 10 and has the same count of numbers as difference has\r\n        let power = Math.pow(10, Math.floor(exponent));\r\n        // reduce this number by 10 times\r\n        power = power / 10;\r\n        let extra = power;\r\n        if (strictMode) {\r\n            extra = 0;\r\n        }\r\n        // round down min\r\n        if (strictMode) {\r\n            min = Math.floor(min / power) * power;\r\n            // round up max\r\n            max = Math.ceil(max / power) * power;\r\n        }\r\n        else {\r\n            min = Math.ceil(min / power) * power - extra;\r\n            // round up max\r\n            max = Math.floor(max / power) * power + extra;\r\n        }\r\n        // don't let min go below 0 if real min is >= 0\r\n        if (min < 0 && initialMin >= 0) {\r\n            min = 0;\r\n        }\r\n        // don't let max go above 0 if real max is <= 0\r\n        if (max > 0 && initialMax <= 0) {\r\n            max = 0;\r\n        }\r\n        exponent = Math.log(Math.abs(difference)) * Math.LOG10E;\r\n        power = Math.pow(10, Math.floor(exponent));\r\n        power = power / 100; // used to be 10 in v4, but this caused issue that there could be limited number of grids with even very small minGridDistance\r\n        // approximate difference between two grid lines\r\n        let step = Math.ceil((difference / gridCount) / power) * power;\r\n        let stepPower = Math.pow(10, Math.floor(Math.log(Math.abs(step)) * Math.LOG10E));\r\n        // the step should divide by  2, 5, and 10.\r\n        let stepDivisor = Math.ceil(step / stepPower); // number 0 - 10\r\n        if (stepDivisor > 5) {\r\n            stepDivisor = 10;\r\n        }\r\n        else if (stepDivisor <= 5 && stepDivisor > 2) {\r\n            stepDivisor = 5;\r\n        }\r\n        // now get real step\r\n        step = Math.ceil(step / (stepPower * stepDivisor)) * stepPower * stepDivisor;\r\n        let maxPrecision = this.get(\"maxPrecision\");\r\n        if ($type.isNumber(maxPrecision)) {\r\n            let ceiledStep = $math.ceil(step, maxPrecision);\r\n            if (maxPrecision < Number.MAX_VALUE && step !== ceiledStep) {\r\n                step = ceiledStep;\r\n                if (step == 0) {\r\n                    step = 1;\r\n                }\r\n            }\r\n        }\r\n        let decCount = 0;\r\n        // in case numbers are smaller than 1\r\n        if (stepPower < 1) {\r\n            // exponent is less then 1 too. Count decimals of exponent\r\n            decCount = Math.round(Math.abs(Math.log(Math.abs(stepPower)) * Math.LOG10E)) + 1;\r\n            // round step\r\n            step = $math.round(step, decCount);\r\n        }\r\n        // final min and max\r\n        let minCount = Math.floor(min / step);\r\n        min = $math.round(step * minCount, decCount);\r\n        let maxCount;\r\n        if (!strictMode) {\r\n            maxCount = Math.ceil(max / step);\r\n        }\r\n        else {\r\n            maxCount = Math.floor(max / step);\r\n        }\r\n        if (maxCount === minCount) {\r\n            maxCount++;\r\n        }\r\n        max = $math.round(step * maxCount, decCount);\r\n        if (max < initialMax) {\r\n            max = max + step;\r\n        }\r\n        if (min > initialMin) {\r\n            min = min - step;\r\n        }\r\n        step = this.fixSmallStep(step);\r\n        return { min: min, max: max, step: step };\r\n    }\r\n    /**\r\n     * Returns text to be used in an axis tooltip for specific relative position.\r\n     *\r\n     * @param   position  Position\r\n     * @return            Tooltip text\r\n     */\r\n    getTooltipText(position, _adjustPosition) {\r\n        const numberFormat = this.get(\"tooltipNumberFormat\", this.get(\"numberFormat\"));\r\n        const formatter = this.getNumberFormatter();\r\n        const extraDecimals = this.get(\"extraTooltipPrecision\", 0);\r\n        const decimals = this.getPrivate(\"stepDecimalPlaces\", 0) + extraDecimals;\r\n        const value = $math.round(this.positionToValue(position), decimals);\r\n        if (numberFormat) {\r\n            return formatter.format(value, numberFormat);\r\n        }\r\n        else {\r\n            return formatter.format(value, undefined, decimals);\r\n        }\r\n    }\r\n    /**\r\n     * Returns a data item from series that is closest to the `position`.\r\n     *\r\n     * @param   series    Series\r\n     * @param   position  Relative position\r\n     * @return            Data item\r\n     */\r\n    getSeriesItem(series, position) {\r\n        let fieldName = (this.getPrivate(\"name\") + this.get(\"renderer\").getPrivate(\"letter\"));\r\n        let value = this.positionToValue(position);\r\n        let index = undefined;\r\n        let oldDiff;\r\n        $array.each(series.dataItems, (dataItem, i) => {\r\n            const diff = Math.abs(dataItem.get(fieldName) - value);\r\n            if (index === undefined || diff < oldDiff) {\r\n                index = i;\r\n                oldDiff = diff;\r\n            }\r\n        });\r\n        if (index != null) {\r\n            return series.dataItems[index];\r\n        }\r\n    }\r\n    /**\r\n     * Zooms the axis to specific `start` and `end` values.\r\n     *\r\n     * Optional `duration` specifies duration of zoom animation in milliseconds.\r\n     *\r\n     * @param  start     Start value\r\n     * @param  end       End value\r\n     * @param  duration  Duration in milliseconds\r\n     */\r\n    zoomToValues(start, end, duration) {\r\n        const min = this.getPrivate(\"minFinal\", this.getPrivate(\"min\", 0));\r\n        const max = this.getPrivate(\"maxFinal\", this.getPrivate(\"max\", 1));\r\n        if (this.getPrivate(\"min\") != null && this.getPrivate(\"max\") != null) {\r\n            this.zoom((start - min) / (max - min), (end - min) / (max - min), duration);\r\n        }\r\n    }\r\n    /**\r\n     * Syncs with a target axis.\r\n     *\r\n     * @param  min  Min\r\n     * @param  max  Max\r\n     * @param  step Step\r\n     */\r\n    _syncAxes(min, max, step, syncMin, syncMax, syncStep) {\r\n        let axis = this.get(\"syncWithAxis\");\r\n        if (axis) {\r\n            let count = Math.round(syncMax - syncMin) / syncStep;\r\n            let currentCount = Math.round((max - min) / step);\r\n            let gridCount = this.get(\"renderer\").gridCount();\r\n            if ($type.isNumber(count) && $type.isNumber(currentCount)) {\r\n                let synced = false;\r\n                let c = 0;\r\n                let diff = (max - min) * 0.01;\r\n                let omin = min;\r\n                let omax = max;\r\n                let ostep = step;\r\n                while (synced != true) {\r\n                    synced = this._checkSync(omin, omax, ostep, count);\r\n                    c++;\r\n                    if (c > 500) {\r\n                        synced = true;\r\n                    }\r\n                    if (!synced) {\r\n                        if (c / 3 == Math.round(c / 3)) {\r\n                            omin = min - diff * c;\r\n                            if (min >= 0 && omin < 0) {\r\n                                omin = 0;\r\n                            }\r\n                        }\r\n                        else {\r\n                            omax = max + diff * c;\r\n                            if (omax <= 0 && omax > 0) {\r\n                                omax = 0;\r\n                            }\r\n                        }\r\n                        let minMaxStep = this._adjustMinMax(omin, omax, gridCount, true);\r\n                        omin = minMaxStep.min;\r\n                        omax = minMaxStep.max;\r\n                        ostep = minMaxStep.step;\r\n                    }\r\n                    else {\r\n                        min = omin;\r\n                        max = omax;\r\n                        step = ostep;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        return { min: min, max: max, step: step };\r\n    }\r\n    /**\r\n     * Returns `true` if axis needs to be resunced with some other axis.\r\n     */\r\n    _checkSync(min, max, step, count) {\r\n        let currentCount = (max - min) / step;\r\n        for (let i = 1; i < count; i++) {\r\n            if ($math.round(currentCount / i, 1) == count || currentCount * i == count) {\r\n                return true;\r\n            }\r\n        }\r\n        return false;\r\n    }\r\n    /**\r\n     * Returns relative position between two grid lines of the axis.\r\n     *\r\n     * @return Position\r\n     */\r\n    getCellWidthPosition() {\r\n        let max = this.getPrivate(\"selectionMax\", this.getPrivate(\"max\"));\r\n        let min = this.getPrivate(\"selectionMin\", this.getPrivate(\"min\"));\r\n        if ($type.isNumber(max) && $type.isNumber(min)) {\r\n            return this.getPrivate(\"step\", 1) / (max - min);\r\n        }\r\n        return 0.05;\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    nextPosition(count) {\r\n        if (count == null) {\r\n            count = 1;\r\n        }\r\n        if (this.get(\"renderer\").getPrivate(\"letter\") == \"Y\") {\r\n            count *= -1;\r\n        }\r\n        let value = this.positionToValue(this.getPrivate(\"tooltipPosition\", 0));\r\n        value += this.getPrivate(\"step\", 1) * count;\r\n        value = $math.fitToRange(value, this.getPrivate(\"selectionMin\", 0), this.getPrivate(\"selectionMax\", 1));\r\n        return this.toGlobalPosition(this.valueToPosition(value));\r\n    }\r\n}\r\nObject.defineProperty(ValueAxis, \"className\", {\r\n    enumerable: true,\r\n    configurable: true,\r\n    writable: true,\r\n    value: \"ValueAxis\"\r\n});\r\nObject.defineProperty(ValueAxis, \"classNames\", {\r\n    enumerable: true,\r\n    configurable: true,\r\n    writable: true,\r\n    value: Axis.classNames.concat([ValueAxis.className])\r\n});\r\n//# sourceMappingURL=ValueAxis.js.map","import { Axis } from \"./Axis\";\r\nimport { populateString } from \"../../../core/util/PopulateString\";\r\nimport { ValueAxis } from \"./ValueAxis\";\r\nimport * as $array from \"../../../core/util/Array\";\r\nimport * as $type from \"../../../core/util/Type\";\r\nimport * as $math from \"../../../core/util/Math\";\r\nimport * as $utils from \"../../../core/util/Utils\";\r\n/**\r\n * Creates a category axis.\r\n *\r\n * @see {@link https://www.amcharts.com/docs/v5/charts/xy-chart/axes/category-axis/} for more info\r\n * @important\r\n */\r\nexport class CategoryAxis extends Axis {\r\n    constructor() {\r\n        super(...arguments);\r\n        Object.defineProperty(this, \"_frequency\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: 1\r\n        });\r\n        Object.defineProperty(this, \"_itemMap\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: {}\r\n        });\r\n    }\r\n    _afterNew() {\r\n        this._settings.themeTags = $utils.mergeTags(this._settings.themeTags, [\"axis\"]);\r\n        this.fields.push(\"category\", \"id\", \"cellSize\");\r\n        this.setPrivateRaw(\"name\", \"category\");\r\n        this.addTag(\"category\");\r\n        super._afterNew();\r\n    }\r\n    _afterDataChange() {\r\n        super._afterDataChange();\r\n        const len = this.dataItems.length;\r\n        if (len > 0) {\r\n            this.setPrivateRaw(\"maxZoomFactor\", len);\r\n        }\r\n        // fix final indexes\t\t\r\n        this.setPrivateRaw(\"startIndex\", Math.min(this.getPrivate(\"startIndex\", 0), len));\r\n        this.setPrivateRaw(\"endIndex\", Math.min(this.getPrivate(\"endIndex\", len), 1));\r\n    }\r\n    _prepareChildren() {\r\n        super._prepareChildren();\r\n        const len = this.dataItems.length;\r\n        let i = 0;\r\n        if (this._valuesDirty) {\r\n            this._itemMap = {};\r\n            $array.each(this.dataItems, (dataItem) => {\r\n                dataItem.setRaw(\"index\", i);\r\n                this._itemMap[dataItem.get(\"category\")] = dataItem;\r\n                i++;\r\n            });\r\n            this.setPrivateRaw(\"maxZoomFactor\", len);\r\n        }\r\n        let start = this.get(\"start\", 0);\r\n        let end = this.get(\"end\", 1);\r\n        let indices = this._getIndices(start, end);\r\n        this.setPrivateRaw(\"startIndex\", indices.startIndex);\r\n        this.setPrivateRaw(\"endIndex\", indices.endIndex);\r\n        if (this._sizeDirty || this._valuesDirty || (this.isDirty(\"start\") || this.isDirty(\"end\") || this.isPrivateDirty(\"endIndex\") || this.isPrivateDirty(\"startIndex\") || this.isPrivateDirty(\"width\") || this.isPrivateDirty(\"height\"))) {\r\n            if (this.dataItems.length > 0) {\r\n                this._handleRangeChange();\r\n                this._prepareAxisItems();\r\n                this._updateAxisRanges();\r\n            }\r\n        }\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    adjustZoom() {\r\n        const len = this.dataItems.length;\r\n        if (len > 1) {\r\n            let maxZoomCount = this.get(\"maxZoomCount\", this.dataItems.length);\r\n            let minZoomCount = this.get(\"minZoomCount\", 1);\r\n            let count = 0;\r\n            let startIndex = this.getPrivate(\"startIndex\", 0);\r\n            let endIndex = this.getPrivate(\"endIndex\", 0);\r\n            const sAnimation = this._sAnimation;\r\n            const eAnimation = this._eAnimation;\r\n            let start = this.get(\"start\", 0);\r\n            let getIndices = false;\r\n            if (sAnimation && !sAnimation.stopped) {\r\n                start = Number(sAnimation.to);\r\n                getIndices = true;\r\n            }\r\n            let end = this.get(\"end\", 1);\r\n            if (eAnimation && !eAnimation.stopped) {\r\n                end = Number(eAnimation.to);\r\n                getIndices = true;\r\n            }\r\n            if (getIndices) {\r\n                const indices = this._getIndices(start, end);\r\n                startIndex = indices.startIndex;\r\n                endIndex = indices.endIndex;\r\n            }\r\n            for (let i = startIndex; i < endIndex; i++) {\r\n                const dataItem = this.dataItems[i];\r\n                count += dataItem.get(\"finalCellSize\", 1);\r\n            }\r\n            ;\r\n            if (count <= minZoomCount) {\r\n                // need to zoom out\r\n                let c = 0;\r\n                for (let i = startIndex; i < len; i++) {\r\n                    const dataItem = this.dataItems[i];\r\n                    c += dataItem.get(\"finalCellSize\", 1);\r\n                    endIndex = i + 1;\r\n                    if (c >= minZoomCount) {\r\n                        break;\r\n                    }\r\n                }\r\n                if (c < minZoomCount) {\r\n                    // still not enough, try to extend at the start\r\n                    for (let i = startIndex - 1; i >= 0; i--) {\r\n                        const dataItem = this.dataItems[i];\r\n                        c += dataItem.get(\"finalCellSize\", 1);\r\n                        startIndex = i;\r\n                        if (c >= minZoomCount) {\r\n                            break;\r\n                        }\r\n                    }\r\n                }\r\n                this.zoomToIndexes(startIndex, endIndex);\r\n            }\r\n            else if (count >= maxZoomCount) {\r\n                let c = count;\r\n                for (let i = endIndex - 1; i >= startIndex; i--) {\r\n                    const dataItem = this.dataItems[i];\r\n                    c -= dataItem.get(\"finalCellSize\", 1);\r\n                    if (c <= maxZoomCount) {\r\n                        endIndex = i + 1;\r\n                        break;\r\n                    }\r\n                }\r\n                this.zoomToIndexes(startIndex, endIndex);\r\n            }\r\n        }\r\n    }\r\n    _handleRangeChange() {\r\n        $array.each(this.series, (series) => {\r\n            let startCategory = this.dataItems[this.startIndex()].get(\"category\");\r\n            let endCategory = this.dataItems[this.endIndex() - 1].get(\"category\");\r\n            let baseAxis = series.get(\"baseAxis\");\r\n            let xAxis = series.get(\"xAxis\");\r\n            let yAxis = series.get(\"yAxis\");\r\n            if (xAxis instanceof CategoryAxis && yAxis instanceof CategoryAxis) {\r\n                series._markDirtyAxes();\r\n            }\r\n            else if (baseAxis === this) {\r\n                let key;\r\n                let openKey;\r\n                let otherAxis = yAxis;\r\n                if (xAxis === baseAxis) {\r\n                    if (series.get(\"categoryXField\")) {\r\n                        key = \"categoryX\";\r\n                    }\r\n                    if (series.get(\"openCategoryXField\")) {\r\n                        openKey = \"openCategoryX\";\r\n                    }\r\n                }\r\n                else if (yAxis === baseAxis) {\r\n                    if (series.get(\"categoryYField\")) {\r\n                        key = \"categoryY\";\r\n                    }\r\n                    if (series.get(\"openCategoryYField\")) {\r\n                        openKey = \"openCategoryY\";\r\n                    }\r\n                    otherAxis = xAxis;\r\n                }\r\n                if (otherAxis instanceof ValueAxis) {\r\n                    if (key || openKey) {\r\n                        let startDataItem;\r\n                        let endDataItem;\r\n                        function findDataItem(series, categoryAxis, key, openKey, category, direction) {\r\n                            let dataItem;\r\n                            let idx = categoryAxis.categoryToIndex(category);\r\n                            while (!dataItem && idx >= 0 && idx < categoryAxis.dataItems.length) {\r\n                                let searchCategory = categoryAxis.dataItems[idx].get(\"category\");\r\n                                if (direction == \"previous\") {\r\n                                    for (let i = series.dataItems.length - 1; i >= 0; i--) {\r\n                                        let item = series.dataItems[i];\r\n                                        if (key && item.get(key) === searchCategory) {\r\n                                            dataItem = item;\r\n                                            break;\r\n                                        }\r\n                                        if (openKey && item.get(openKey) === searchCategory) {\r\n                                            dataItem = item;\r\n                                            break;\r\n                                        }\r\n                                    }\r\n                                }\r\n                                else {\r\n                                    for (let i = 0, len = series.dataItems.length; i < len; i++) {\r\n                                        let item = series.dataItems[i];\r\n                                        if (key && item.get(key) === searchCategory) {\r\n                                            dataItem = item;\r\n                                            break;\r\n                                        }\r\n                                        if (openKey && item.get(openKey) === searchCategory) {\r\n                                            dataItem = item;\r\n                                            break;\r\n                                        }\r\n                                    }\r\n                                }\r\n                                if (!dataItem) {\r\n                                    idx += direction === \"previous\" ? -1 : 1;\r\n                                }\r\n                            }\r\n                            return dataItem;\r\n                        }\r\n                        startDataItem = findDataItem(series, this, key, openKey, startCategory, \"next\");\r\n                        endDataItem = findDataItem(series, this, key, openKey, endCategory, \"previous\");\r\n                        let startIndex = 0;\r\n                        let endIndex = series.dataItems.length;\r\n                        if (startDataItem) {\r\n                            startIndex = series.dataItems.indexOf(startDataItem);\r\n                        }\r\n                        if (endDataItem) {\r\n                            endIndex = series.dataItems.indexOf(endDataItem) + 1;\r\n                        }\r\n                        series.setPrivate(\"startIndex\", startIndex);\r\n                        series.setPrivate(\"endIndex\", endIndex);\r\n                        let hasValue = false;\r\n                        for (let i = startIndex; i < endIndex; i++) {\r\n                            const dataItem = series.dataItems[i];\r\n                            $array.each(series.__valueXShowFields, (key) => {\r\n                                let value = dataItem.get(key);\r\n                                if (value != null) {\r\n                                    hasValue = true;\r\n                                }\r\n                            });\r\n                            $array.each(series.__valueYShowFields, (key) => {\r\n                                let value = dataItem.get(key);\r\n                                if (value != null) {\r\n                                    hasValue = true;\r\n                                }\r\n                            });\r\n                            if (hasValue) {\r\n                                break;\r\n                            }\r\n                        }\r\n                        series.setPrivate(\"outOfSelection\", !hasValue);\r\n                    }\r\n                }\r\n                series._markDirtyAxes(); // must be outside\r\n            }\r\n        });\r\n    }\r\n    _prepareAxisItems() {\r\n        var _a;\r\n        const renderer = this.get(\"renderer\");\r\n        const len = this.dataItems.length;\r\n        let startIndex = this.startIndex();\r\n        if (startIndex > 0) {\r\n            startIndex--;\r\n        }\r\n        let endIndex = this.endIndex();\r\n        if (endIndex < len) {\r\n            endIndex++;\r\n        }\r\n        const minorLabelsEnabled = renderer.get(\"minorLabelsEnabled\");\r\n        const minorGridEnabled = renderer.get(\"minorGridEnabled\", minorLabelsEnabled);\r\n        let maxCount = renderer.axisLength() / Math.max(renderer.get(\"minGridDistance\"), 1);\r\n        let frequency = Math.max(1, Math.min(len, Math.ceil((endIndex - startIndex) / maxCount)));\r\n        startIndex = Math.floor(startIndex / frequency) * frequency;\r\n        this._frequency = frequency;\r\n        for (let j = 0; j < len; j++) {\r\n            this._toggleDataItem(this.dataItems[j], false);\r\n        }\r\n        let f = this.dataItems[startIndex].get(\"index\", 0);\r\n        for (let i = startIndex; i < endIndex; i = i + frequency) {\r\n            let dataItem = this.dataItems[i];\r\n            this._createAssets(dataItem, []);\r\n            this._toggleDataItem(dataItem, true);\r\n            let count = frequency;\r\n            if (minorGridEnabled) {\r\n                count = 1;\r\n            }\r\n            this._prepareDataItem(dataItem, f, count);\r\n            f++;\r\n        }\r\n        if (renderer.get(\"minorGridEnabled\")) {\r\n            for (let i = startIndex; i < endIndex; i++) {\r\n                let dataItem = this.dataItems[i];\r\n                if (i % frequency != 0) {\r\n                    this._createAssets(dataItem, [\"minor\"], true);\r\n                    this._toggleDataItem(dataItem, true);\r\n                    this._prepareDataItem(dataItem, 0, 1);\r\n                    if (!minorLabelsEnabled) {\r\n                        (_a = dataItem.get(\"label\")) === null || _a === void 0 ? void 0 : _a.setPrivate(\"visible\", false);\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        this._updateGhost();\r\n    }\r\n    _prepareDataItem(dataItem, fillIndex, count) {\r\n        let renderer = this.get(\"renderer\");\r\n        let categoryLocation = dataItem.get(\"categoryLocation\", 0);\r\n        let endCategoryLocation = dataItem.get(\"endCategoryLocation\", 1);\r\n        let index = dataItem.get(\"index\");\r\n        if (!$type.isNumber(index)) {\r\n            index = this.categoryToIndex(dataItem.get(\"category\"));\r\n        }\r\n        let position = this.indexToPosition(index, categoryLocation);\r\n        let endCategory = dataItem.get(\"endCategory\");\r\n        let endIndex;\r\n        if (endCategory) {\r\n            endIndex = this.categoryToIndex(endCategory);\r\n            if (!$type.isNumber(endIndex)) {\r\n                endIndex = index;\r\n            }\r\n        }\r\n        else {\r\n            endIndex = index;\r\n        }\r\n        let endPosition = this.indexToPosition(endIndex, endCategoryLocation);\r\n        let fillEndIndex;\r\n        let fillEndPosition;\r\n        if (dataItem.get(\"isRange\")) {\r\n            fillEndIndex = endIndex;\r\n            if (!$type.isNumber(index)) {\r\n                this._toggleDataItem(dataItem, false);\r\n                return;\r\n            }\r\n        }\r\n        else {\r\n            fillEndIndex = index + this._frequency - 1;\r\n        }\r\n        fillEndPosition = this.indexToPosition(fillEndIndex, endCategoryLocation);\r\n        renderer.updateLabel(dataItem.get(\"label\"), position, endPosition, count);\r\n        renderer.updateGrid(dataItem.get(\"grid\"), position, endPosition);\r\n        renderer.updateTick(dataItem.get(\"tick\"), position, endPosition, count);\r\n        renderer.updateFill(dataItem.get(\"axisFill\"), position, fillEndPosition);\r\n        this._processBullet(dataItem);\r\n        renderer.updateBullet(dataItem.get(\"bullet\"), position, endPosition);\r\n        const fillRule = this.get(\"fillRule\");\r\n        if (fillRule) {\r\n            fillRule(dataItem, fillIndex);\r\n        }\r\n    }\r\n    startIndex() {\r\n        let len = this.dataItems.length;\r\n        return Math.min(Math.max(this.getPrivate(\"startIndex\", 0), 0), len - 1);\r\n    }\r\n    endIndex() {\r\n        let len = this.dataItems.length;\r\n        return Math.max(1, Math.min(this.getPrivate(\"endIndex\", len), len));\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    baseValue() {\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    basePosition() {\r\n        return 0;\r\n    }\r\n    /**\r\n     * Returns X coordinate in pixels corresponding to specific category index.\r\n     *\r\n     * @param   value  Index\r\n     * @return         X coordinate\r\n     */\r\n    getX(value) {\r\n        let axisDataItem = this._itemMap[value];\r\n        if (axisDataItem) {\r\n            return this._settings.renderer.positionToCoordinate(this.indexToPosition(axisDataItem.get(\"index\", 0)));\r\n        }\r\n        return NaN;\r\n    }\r\n    /**\r\n     * Returns Y coordinate in pixels corresponding to specific category index.\r\n     *\r\n     * @param   value  Index\r\n     * @return         Y coordinate\r\n     */\r\n    getY(value) {\r\n        let axisDataItem = this._itemMap[value];\r\n        if (axisDataItem) {\r\n            return this._settings.renderer.positionToCoordinate(this.indexToPosition(axisDataItem.get(\"index\", 0)));\r\n        }\r\n        return NaN;\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    getDataItemPositionX(dataItem, field, cellLocation, _axisLocation) {\r\n        const category = dataItem.get(field);\r\n        const axisDataItem = this._itemMap[category];\r\n        if (axisDataItem) {\r\n            return this.indexToPosition(axisDataItem.get(\"index\", 0), cellLocation);\r\n        }\r\n        return NaN;\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    getDataItemCoordinateX(dataItem, field, cellLocation, _axisLocation) {\r\n        return this._settings.renderer.positionToCoordinate(this.getDataItemPositionX(dataItem, field, cellLocation, _axisLocation));\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    getDataItemPositionY(dataItem, field, cellLocation, _axisLocation) {\r\n        const category = dataItem.get(field);\r\n        const axisDataItem = this._itemMap[category];\r\n        if (axisDataItem) {\r\n            return this.indexToPosition(axisDataItem.get(\"index\", 0), cellLocation);\r\n        }\r\n        return NaN;\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    getDataItemCoordinateY(dataItem, field, cellLocation, _axisLocation) {\r\n        return this._settings.renderer.positionToCoordinate(this.getDataItemPositionY(dataItem, field, cellLocation, _axisLocation));\r\n    }\r\n    /**\r\n     * Converts category index to a relative position.\r\n     *\r\n     * `location` indicates relative position within category: 0 - start, 1 - end.\r\n     *\r\n     * If not set, will use middle (0.5) of the category.\r\n     *\r\n     * @param   index     Index\r\n     * @param   location  Location\r\n     * @return            Index\r\n     */\r\n    indexToPosition(index, location, final) {\r\n        let len = this.dataItems.length;\r\n        let position = 0;\r\n        if (len == 0) {\r\n            return 0;\r\n        }\r\n        if (index >= len) {\r\n            index = len - 1;\r\n            location = 1;\r\n        }\r\n        if (!$type.isNumber(location)) {\r\n            location = 0.5;\r\n        }\r\n        if (!$type.isNumber(index)) {\r\n            return 0;\r\n        }\r\n        let startLocation = this.get(\"startLocation\", 0);\r\n        let endLocation = this.get(\"endLocation\", 1);\r\n        if (!this.get(\"cellSizeField\")) {\r\n            len -= startLocation;\r\n            len -= (1 - endLocation);\r\n            position = (index + location - startLocation) / len;\r\n        }\r\n        else {\r\n            let name = final ? \"finalCellSize\" : \"cellSize\";\r\n            const dataItems = this.dataItems;\r\n            // Calculate total modified count (sum of cell sizes)\r\n            let modCount = 0;\r\n            $array.each(this.dataItems, (dataItem) => {\r\n                modCount += dataItem.get(name, 1);\r\n            });\r\n            modCount -= startLocation * dataItems[0].get(name, 1);\r\n            modCount -= (1 - endLocation) * dataItems[dataItems.length - 1].get(name, 1);\r\n            // Calculate the position based on cell sizes\r\n            let acc = 0;\r\n            for (let i = 0; i < index; i++) {\r\n                acc += dataItems[i].get(name, 1);\r\n            }\r\n            let cellSizeAtIndex = dataItems[index].get(name, 1);\r\n            position = (acc + location * cellSizeAtIndex - startLocation * dataItems[0].get(name, 1)) / modCount;\r\n        }\r\n        if (!final) {\r\n            let dataItem = this.dataItems[index];\r\n            if (dataItem) {\r\n                position += dataItem.get(\"deltaPosition\", 0);\r\n            }\r\n        }\r\n        return position;\r\n    }\r\n    /**\r\n     * Returns a position of a category.\r\n     *\r\n     * @param   category  Category to look up\r\n     * @return            Position\r\n     */\r\n    categoryToPosition(category) {\r\n        let dataItem = this._itemMap[category];\r\n        if (dataItem) {\r\n            return this.indexToPosition(dataItem.get(\"index\"));\r\n        }\r\n        return NaN;\r\n    }\r\n    /**\r\n     * Returns an index of a category.\r\n     *\r\n     * @param   category  Category to look up\r\n     * @return            Index\r\n     */\r\n    categoryToIndex(category) {\r\n        let dataItem = this._itemMap[category];\r\n        if (dataItem) {\r\n            return dataItem.get(\"index\");\r\n        }\r\n        return NaN;\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    dataItemToPosition(dataItem) {\r\n        return this.indexToPosition(dataItem.get(\"index\"));\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    roundAxisPosition(position, location) {\r\n        position += (0.5 - location) / this.dataItems.length;\r\n        return this.indexToPosition(this.axisPositionToIndex(position), location);\r\n    }\r\n    /**\r\n     * Returns an index of the category that corresponds to specific pixel\r\n     * position within axis.\r\n     *\r\n     * @param position  Position (px)\r\n     * @return Category index\r\n     */\r\n    axisPositionToIndex(position) {\r\n        let len = this.dataItems.length;\r\n        if (len === 0) {\r\n            return 0;\r\n        }\r\n        // Calculate total modified length (sum of cell sizes)\r\n        if (this.get(\"cellSizeField\")) {\r\n            let modifiedLen = 0;\r\n            let cellSizes = [];\r\n            $array.each(this.dataItems, (dataItem) => {\r\n                const cellSize = dataItem.get(\"cellSize\", 1);\r\n                cellSizes.push(cellSize);\r\n                modifiedLen += cellSize;\r\n            });\r\n            // Adjust for startLocation and endLocation\r\n            let startLocation = this.get(\"startLocation\", 0);\r\n            let endLocation = this.get(\"endLocation\", 1);\r\n            modifiedLen -= startLocation;\r\n            modifiedLen -= (1 - endLocation);\r\n            // Find which cell the position falls into\r\n            let rel = position * modifiedLen + startLocation;\r\n            let acc = 0;\r\n            for (let i = 0; i < len; i++) {\r\n                const cellSize = cellSizes[i];\r\n                if (rel < acc + cellSize) {\r\n                    return i;\r\n                }\r\n                acc += cellSize;\r\n            }\r\n            return len - 1;\r\n        }\r\n        else {\r\n            return $math.fitToRange(Math.floor(position * len), 0, len - 1);\r\n        }\r\n    }\r\n    /**\r\n     * Returns text to be used in an axis tooltip for specific relative position.\r\n     *\r\n     * @param   position  Position\r\n     * @return            Tooltip text\r\n     */\r\n    getTooltipText(position, _adjustPosition) {\r\n        //@todo number formatter + tag\r\n        const dataItem = this.dataItems[this.axisPositionToIndex(position)];\r\n        if (dataItem) {\r\n            const label = dataItem.get(\"label\");\r\n            if (label) {\r\n                return populateString(label, this.get(\"tooltipText\", \"\"));\r\n            }\r\n        }\r\n    }\r\n    _updateTooltipText(tooltip, position) {\r\n        tooltip._setDataItem(this.dataItems[this.axisPositionToIndex(position)]);\r\n        tooltip.label.text.markDirtyText();\r\n    }\r\n    /**\r\n     * Returns a data item from series that is closest to the `position`.\r\n     *\r\n     * @param   series    Series\r\n     * @param   position  Relative position\r\n     * @return            Data item\r\n     */\r\n    getSeriesItem(series, position) {\r\n        if (this.dataItems.length > 0) {\r\n            let fieldName = (this.getPrivate(\"name\") + this.get(\"renderer\").getPrivate(\"letter\"));\r\n            let index = this.axisPositionToIndex(position);\r\n            // try simple first\r\n            let seriesDataItem = series.dataItems[index];\r\n            let axisDataItem = this.dataItems[index];\r\n            let category = axisDataItem.get(\"category\");\r\n            if (seriesDataItem && axisDataItem) {\r\n                if (seriesDataItem.get(fieldName) === category) {\r\n                    return seriesDataItem;\r\n                }\r\n            }\r\n            // if not found, try looking\r\n            for (let i = 0, len = series.dataItems.length; i < len; i++) {\r\n                let dataItem = series.dataItems[i];\r\n                if (dataItem.get(fieldName) === category) {\r\n                    return dataItem;\r\n                }\r\n            }\r\n        }\r\n    }\r\n    _getIndices(start, end) {\r\n        let len = this.dataItems.length;\r\n        let startIndex = 0;\r\n        let endIndex = len;\r\n        let name = \"cellSize\";\r\n        if (this.get(\"cellSizeField\")) {\r\n            let count = 0;\r\n            const dataItems = this.dataItems;\r\n            if (dataItems.length == 0) {\r\n                return { startIndex: 0, endIndex: 0 };\r\n            }\r\n            $array.each(dataItems, (dataItem) => {\r\n                count += dataItem.get(name, 1);\r\n            });\r\n            count -= this.get(\"startLocation\", 0) * dataItems[0].get(name, 1);\r\n            count -= (1 - this.get(\"endLocation\", 1)) * dataItems[dataItems.length - 1].get(name, 1);\r\n            let c = 0;\r\n            for (let i = 0; i < len; i++) {\r\n                c += this.dataItems[i].get(name, 1);\r\n                if (Math.round(c) > Math.round(start * count)) {\r\n                    startIndex = i;\r\n                    break;\r\n                }\r\n            }\r\n            for (let i = startIndex + 1; i < len; i++) {\r\n                c += this.dataItems[i].get(name, 1);\r\n                if (Math.round(c) >= Math.round(end * count)) {\r\n                    endIndex = i + 1;\r\n                    break;\r\n                }\r\n            }\r\n            startIndex = Math.max(startIndex, 0);\r\n            endIndex = Math.min(endIndex, len);\r\n        }\r\n        else {\r\n            startIndex = Math.max(Math.round(this.get(\"start\", 0) * len), 0);\r\n            endIndex = Math.min(Math.round(this.get(\"end\", 1) * len), len);\r\n        }\r\n        return { startIndex, endIndex };\r\n    }\r\n    /**\r\n     * Zooms the axis to specific `start` and `end` indexes.\r\n     *\r\n     * Optional `duration` specifies duration of zoom animation in milliseconds.\r\n     *\r\n     * @param  start     Start index\r\n     * @param  end       End index\r\n     * @param  duration  Duration in milliseconds\r\n     */\r\n    zoomToIndexes(start, end, duration) {\r\n        let len = this.dataItems.length;\r\n        if (this.get(\"cellSizeField\")) {\r\n            start = Math.min(Math.max(start, 0), len);\r\n            end = Math.max(Math.min(end, len), 1);\r\n            this.setPrivateRaw(\"startIndex\", start);\r\n            this.setPrivateRaw(\"endIndex\", end);\r\n            this.zoom(this.indexToPosition(start, 0, true), this.indexToPosition(end, 0, true), duration);\r\n        }\r\n        else {\r\n            this.zoom(start / len, end / len, duration);\r\n        }\r\n    }\r\n    zoomToCategories(startCategory, endCategory, duration) {\r\n        this.zoomToIndexes(this.categoryToIndex(startCategory), this.categoryToIndex(endCategory) + 1, duration);\r\n    }\r\n    /**\r\n     * Returns position span between start and end of a single cell in axis.\r\n     *\r\n     * @since 5.2.30\r\n     * @return Position\r\n     */\r\n    getCellWidthPosition() {\r\n        return this._frequency / this.dataItems.length / (this.get(\"end\", 1) - this.get(\"start\", 0));\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    nextPosition(count) {\r\n        if (count == null) {\r\n            count = 1;\r\n        }\r\n        if (this.get(\"renderer\").getPrivate(\"letter\") == \"Y\") {\r\n            count *= -1;\r\n        }\r\n        const position = this.getPrivate(\"tooltipPosition\", 0);\r\n        const index = $math.fitToRange(this.axisPositionToIndex(position) + count, 0, this.dataItems.length - 1);\r\n        return this.toGlobalPosition(this.indexToPosition(index));\r\n    }\r\n}\r\nObject.defineProperty(CategoryAxis, \"className\", {\r\n    enumerable: true,\r\n    configurable: true,\r\n    writable: true,\r\n    value: \"CategoryAxis\"\r\n});\r\nObject.defineProperty(CategoryAxis, \"classNames\", {\r\n    enumerable: true,\r\n    configurable: true,\r\n    writable: true,\r\n    value: Axis.classNames.concat([CategoryAxis.className])\r\n});\r\n//# sourceMappingURL=CategoryAxis.js.map","import { Label } from \"../../../core/render/Label\";\r\n/**\r\n * Draws an axis label.\r\n *\r\n * @see {@link https://www.amcharts.com/docs/v5/charts/xy-chart/axes/#Labels} for more info\r\n * @important\r\n */\r\nexport class AxisLabel extends Label {\r\n    constructor() {\r\n        super(...arguments);\r\n        Object.defineProperty(this, \"_tickPoints\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: []\r\n        });\r\n    }\r\n}\r\nObject.defineProperty(AxisLabel, \"className\", {\r\n    enumerable: true,\r\n    configurable: true,\r\n    writable: true,\r\n    value: \"AxisLabel\"\r\n});\r\nObject.defineProperty(AxisLabel, \"classNames\", {\r\n    enumerable: true,\r\n    configurable: true,\r\n    writable: true,\r\n    value: Label.classNames.concat([AxisLabel.className])\r\n});\r\n//# sourceMappingURL=AxisLabel.js.map","import { Tick } from \"../../../core/render/Tick\";\r\n/**\r\n * Draws an axis tick.\r\n *\r\n * @see {@link https://www.amcharts.com/docs/v5/charts/xy-chart/axes/#Ticks} for more info\r\n * @important\r\n */\r\nexport class AxisTick extends Tick {\r\n    constructor() {\r\n        super(...arguments);\r\n        Object.defineProperty(this, \"_tickPoints\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: []\r\n        });\r\n    }\r\n}\r\nObject.defineProperty(AxisTick, \"className\", {\r\n    enumerable: true,\r\n    configurable: true,\r\n    writable: true,\r\n    value: \"AxisTick\"\r\n});\r\nObject.defineProperty(AxisTick, \"classNames\", {\r\n    enumerable: true,\r\n    configurable: true,\r\n    writable: true,\r\n    value: Tick.classNames.concat([AxisTick.className])\r\n});\r\n//# sourceMappingURL=AxisTick.js.map","import { Graphics } from \"../../../core/render/Graphics\";\r\nimport { Template } from \"../../../core/util/Template\";\r\nimport { ListTemplate } from \"../../../core/util/List\";\r\nimport { AxisTick } from \"./AxisTick\";\r\nimport { Grid } from \"./Grid\";\r\nimport { AxisLabel } from \"./AxisLabel\";\r\nimport * as $utils from \"../../../core/util/Utils\";\r\n/**\r\n * Base class for an axis renderer.\r\n *\r\n * Should not be used on its own.\r\n *\r\n * @see {@link https://www.amcharts.com/docs/v5/charts/xy-chart/#Axis_renderer} for more info\r\n */\r\nexport class AxisRenderer extends Graphics {\r\n    constructor() {\r\n        super(...arguments);\r\n        // save for quick access\r\n        Object.defineProperty(this, \"_axisLength\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: 100\r\n        });\r\n        Object.defineProperty(this, \"_start\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: 0\r\n        });\r\n        Object.defineProperty(this, \"_end\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: 1\r\n        });\r\n        Object.defineProperty(this, \"_inversed\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: false\r\n        });\r\n        Object.defineProperty(this, \"_minSize\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: 0\r\n        });\r\n        /**\r\n         * Chart the renderer is used in.\r\n         */\r\n        Object.defineProperty(this, \"chart\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_lc\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: 1\r\n        });\r\n        Object.defineProperty(this, \"_ls\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: 0\r\n        });\r\n        Object.defineProperty(this, \"_thumbDownPoint\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_downStart\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_downEnd\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        /**\r\n         * A list of ticks in the axis.\r\n         *\r\n         * `ticks.template` can be used to configure ticks.\r\n         *\r\n         * @default new ListTemplate<AxisTick>\r\n         */\r\n        Object.defineProperty(this, \"ticks\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: this.addDisposer(new ListTemplate(Template.new({}), () => AxisTick._new(this._root, {\r\n                themeTags: $utils.mergeTags(this.ticks.template.get(\"themeTags\", []), this.get(\"themeTags\", []))\r\n            }, [this.ticks.template])))\r\n        });\r\n        /**\r\n         * A list of grid elements in the axis.\r\n         *\r\n         * `grid.template` can be used to configure grid.\r\n         *\r\n         * @default new ListTemplate<Grid>\r\n         */\r\n        Object.defineProperty(this, \"grid\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: this.addDisposer(new ListTemplate(Template.new({}), () => Grid._new(this._root, {\r\n                themeTags: $utils.mergeTags(this.grid.template.get(\"themeTags\", []), this.get(\"themeTags\", []))\r\n            }, [this.grid.template])))\r\n        });\r\n        /**\r\n         * A list of fills in the axis.\r\n         *\r\n         * `axisFills.template` can be used to configure axis fills.\r\n         *\r\n         * @default new ListTemplate<Graphics>\r\n         */\r\n        Object.defineProperty(this, \"axisFills\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: this.addDisposer(new ListTemplate(Template.new({}), () => Graphics._new(this._root, {\r\n                themeTags: $utils.mergeTags(this.axisFills.template.get(\"themeTags\", [\"axis\", \"fill\"]), this.get(\"themeTags\", []))\r\n            }, [this.axisFills.template])))\r\n        });\r\n        /**\r\n         * A list of labels in the axis.\r\n         *\r\n         * `labels.template` can be used to configure axis labels.\r\n         *\r\n         * @default new ListTemplate<AxisLabel>\r\n         */\r\n        Object.defineProperty(this, \"labels\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: this.addDisposer(new ListTemplate(Template.new({}), () => AxisLabel._new(this._root, {\r\n                themeTags: $utils.mergeTags(this.labels.template.get(\"themeTags\", []), this.get(\"themeTags\", []))\r\n            }, [this.labels.template])))\r\n        });\r\n        /**\r\n         * An [[Axis]] renderer is for.\r\n         */\r\n        Object.defineProperty(this, \"axis\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        /**\r\n         * A thumb Graphics to be used for panning the axis (the one which shows under the labels when hovered)\r\n         */\r\n        Object.defineProperty(this, \"thumb\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    makeTick(dataItem, themeTags) {\r\n        const tick = this.ticks.make();\r\n        tick._setDataItem(dataItem);\r\n        dataItem.setRaw(\"tick\", tick);\r\n        tick.set(\"themeTags\", $utils.mergeTags(tick.get(\"themeTags\"), themeTags));\r\n        this.axis.labelsContainer.children.push(tick);\r\n        this.ticks.push(tick);\r\n        return tick;\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    makeGrid(dataItem, themeTags) {\r\n        const grid = this.grid.make();\r\n        grid._setDataItem(dataItem);\r\n        dataItem.setRaw(\"grid\", grid);\r\n        grid.set(\"themeTags\", $utils.mergeTags(grid.get(\"themeTags\"), themeTags));\r\n        this.axis.gridContainer.children.push(grid);\r\n        this.grid.push(grid);\r\n        return grid;\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    makeAxisFill(dataItem, themeTags) {\r\n        const axisFill = this.axisFills.make();\r\n        axisFill._setDataItem(dataItem);\r\n        axisFill.set(\"themeTags\", $utils.mergeTags(axisFill.get(\"themeTags\"), themeTags));\r\n        this.axis.gridContainer.children.push(axisFill);\r\n        dataItem.setRaw(\"axisFill\", axisFill);\r\n        this.axisFills.push(axisFill);\r\n        return axisFill;\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    makeLabel(dataItem, themeTags) {\r\n        const label = this.labels.make();\r\n        label.set(\"themeTags\", $utils.mergeTags(label.get(\"themeTags\"), themeTags));\r\n        this.axis.labelsContainer.children.moveValue(label, 0);\r\n        label._setDataItem(dataItem);\r\n        dataItem.setRaw(\"label\", label);\r\n        this.labels.push(label);\r\n        return label;\r\n    }\r\n    axisLength() {\r\n        return 0;\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    gridCount() {\r\n        return this.axisLength() / this.get(\"minGridDistance\", 50);\r\n    }\r\n    _updatePositions() {\r\n    }\r\n    _afterNew() {\r\n        super._afterNew();\r\n        this.set(\"isMeasured\", false);\r\n        const thumb = this.thumb;\r\n        if (thumb) {\r\n            this._disposers.push(thumb.events.on(\"pointerdown\", (event) => {\r\n                this._handleThumbDown(event);\r\n            }));\r\n            this._disposers.push(thumb.events.on(\"globalpointerup\", (event) => {\r\n                this._handleThumbUp(event);\r\n            }));\r\n            this._disposers.push(thumb.events.on(\"globalpointermove\", (event) => {\r\n                this._handleThumbMove(event);\r\n            }));\r\n        }\r\n    }\r\n    _beforeChanged() {\r\n        super._beforeChanged();\r\n        if (this.isDirty(\"minGridDistance\")) {\r\n            this.root.events.once(\"frameended\", () => {\r\n                this.axis.markDirtySize();\r\n            });\r\n        }\r\n    }\r\n    _changed() {\r\n        super._changed();\r\n        if (this.isDirty(\"pan\")) {\r\n            const thumb = this.thumb;\r\n            if (thumb) {\r\n                const labelsContainer = this.axis.labelsContainer;\r\n                const pan = this.get(\"pan\");\r\n                if (pan == \"zoom\") {\r\n                    labelsContainer.children.push(thumb);\r\n                }\r\n                else if (pan == \"none\") {\r\n                    labelsContainer.children.removeValue(thumb);\r\n                }\r\n            }\r\n        }\r\n    }\r\n    _handleThumbDown(event) {\r\n        this._thumbDownPoint = this.toLocal(event.point);\r\n        const axis = this.axis;\r\n        this._downStart = axis.get(\"start\");\r\n        this._downEnd = axis.get(\"end\");\r\n    }\r\n    _handleThumbUp(_event) {\r\n        this._thumbDownPoint = undefined;\r\n    }\r\n    _handleThumbMove(event) {\r\n        const downPoint = this._thumbDownPoint;\r\n        if (downPoint) {\r\n            const point = this.toLocal(event.point);\r\n            const downStart = this._downStart;\r\n            const downEnd = this._downEnd;\r\n            const extra = this._getPan(point, downPoint) * Math.min(1, (downEnd - downStart)) / 2 * this.get(\"panSensitivity\", 1);\r\n            this.axis.zoom(downStart - extra, downEnd + extra, 0);\r\n        }\r\n    }\r\n    _getPan(_point1, _point2) {\r\n        return 0;\r\n    }\r\n    /**\r\n     * Converts relative position (0-1) on axis to a pixel coordinate.\r\n     *\r\n     * @param position  Position (0-1)\r\n     * @return Coordinate (px)\r\n     */\r\n    positionToCoordinate(position) {\r\n        if (this._inversed) {\r\n            return (this._end - position) * this._axisLength;\r\n        }\r\n        else {\r\n            return (position - this._start) * this._axisLength;\r\n        }\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    updateTooltipBounds(_tooltip) { }\r\n    _updateSize() {\r\n        this.markDirty();\r\n        this._clear = true;\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    toAxisPosition(position) {\r\n        const start = this._start || 0;\r\n        const end = this._end || 1;\r\n        position = position * (end - start);\r\n        if (!this.get(\"inversed\")) {\r\n            position = start + position;\r\n        }\r\n        else {\r\n            position = end - position;\r\n        }\r\n        return position;\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    toGlobalPosition(position) {\r\n        const start = this._start || 0;\r\n        const end = this._end || 1;\r\n        if (!this.get(\"inversed\")) {\r\n            position = position - start;\r\n        }\r\n        else {\r\n            position = end - position;\r\n        }\r\n        position = position / (end - start);\r\n        return position;\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    fixPosition(position) {\r\n        if (this.get(\"inversed\")) {\r\n            return 1 - position;\r\n        }\r\n        return position;\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    _updateLC() {\r\n    }\r\n    toggleVisibility(sprite, position, minPosition, maxPosition) {\r\n        let axis = this.axis;\r\n        const start = axis.get(\"start\", 0);\r\n        const end = axis.get(\"end\", 1);\r\n        let updatedStart = start + (end - start) * (minPosition - 0.0001);\r\n        let updatedEnd = start + (end - start) * (maxPosition + 0.0001);\r\n        if (position < updatedStart || position > updatedEnd) {\r\n            sprite.setPrivate(\"visible\", false);\r\n        }\r\n        else {\r\n            sprite.setPrivate(\"visible\", true);\r\n        }\r\n    }\r\n    _positionTooltip(tooltip, point) {\r\n        const chart = this.chart;\r\n        if (chart) {\r\n            tooltip.set(\"pointTo\", this._display.toGlobal(point));\r\n            if (!chart.inPlot(point)) {\r\n                tooltip.hide();\r\n            }\r\n        }\r\n    }\r\n    processAxis() { }\r\n}\r\nObject.defineProperty(AxisRenderer, \"className\", {\r\n    enumerable: true,\r\n    configurable: true,\r\n    writable: true,\r\n    value: \"AxisRenderer\"\r\n});\r\nObject.defineProperty(AxisRenderer, \"classNames\", {\r\n    enumerable: true,\r\n    configurable: true,\r\n    writable: true,\r\n    value: Graphics.classNames.concat([AxisRenderer.className])\r\n});\r\n//# sourceMappingURL=AxisRenderer.js.map","import { AxisRenderer } from \"./AxisRenderer\";\r\nimport { p100 } from \"../../../core/util/Percent\";\r\nimport { Rectangle } from \"../../../core/render/Rectangle\";\r\nimport * as $type from \"../../../core/util/Type\";\r\nimport * as $utils from \"../../../core/util/Utils\";\r\n/**\r\n * Used to render horizontal axis.\r\n *\r\n * @see {@link https://www.amcharts.com/docs/v5/charts/xy-chart/#Axis_renderer} for more info\r\n * @important\r\n */\r\nexport class AxisRendererX extends AxisRenderer {\r\n    constructor() {\r\n        super(...arguments);\r\n        Object.defineProperty(this, \"thumb\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: Rectangle.new(this._root, { width: p100, isMeasured: false, themeTags: [\"axis\", \"x\", \"thumb\", \"zoomgrip\"] })\r\n        });\r\n    }\r\n    _afterNew() {\r\n        this._settings.themeTags = $utils.mergeTags(this._settings.themeTags, [\"renderer\", \"x\"]);\r\n        super._afterNew();\r\n        this.setPrivateRaw(\"letter\", \"X\");\r\n        const gridTemplate = this.grid.template;\r\n        gridTemplate.set(\"height\", p100);\r\n        gridTemplate.set(\"width\", 0);\r\n        gridTemplate.set(\"draw\", (display, graphics) => {\r\n            display.moveTo(0, 0);\r\n            display.lineTo(0, graphics.height());\r\n        });\r\n        this.set(\"draw\", (display, graphics) => {\r\n            display.moveTo(0, 0);\r\n            display.lineTo(graphics.width(), 0);\r\n        });\r\n    }\r\n    _changed() {\r\n        var _a;\r\n        super._changed();\r\n        const axis = this.axis;\r\n        const ghostLabel = axis.ghostLabel;\r\n        if (ghostLabel) {\r\n            ghostLabel.setPrivate(\"visible\", !this.get(\"inside\"));\r\n            ghostLabel.set(\"x\", -1000);\r\n        }\r\n        const opposite = \"opposite\";\r\n        const inside = \"inside\";\r\n        if (this.isDirty(opposite) || this.isDirty(inside)) {\r\n            const chart = this.chart;\r\n            const axisChildren = axis.children;\r\n            if (this.get(inside)) {\r\n                axis.addTag(inside);\r\n            }\r\n            else {\r\n                axis.removeTag(inside);\r\n            }\r\n            if (chart) {\r\n                if (this.get(opposite)) {\r\n                    const children = chart.topAxesContainer.children;\r\n                    if (children.indexOf(axis) == -1) {\r\n                        children.insertIndex(0, axis);\r\n                    }\r\n                    axis.addTag(opposite);\r\n                    axisChildren.moveValue(this);\r\n                }\r\n                else {\r\n                    const children = chart.bottomAxesContainer.children;\r\n                    if (children.indexOf(axis) == -1) {\r\n                        children.moveValue(axis);\r\n                    }\r\n                    axis.removeTag(opposite);\r\n                    axisChildren.moveValue(this, 0);\r\n                }\r\n                (_a = axis.ghostLabel) === null || _a === void 0 ? void 0 : _a._applyThemes();\r\n                this.labels.each((label) => {\r\n                    label._applyThemes();\r\n                });\r\n                this.root._markDirtyRedraw();\r\n            }\r\n            axis.markDirtySize();\r\n        }\r\n        this.thumb.setPrivate(\"height\", axis.labelsContainer.height());\r\n    }\r\n    _getPan(point1, point2) {\r\n        return (point2.x - point1.x) / this.width();\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    toAxisPosition(position) {\r\n        const start = this._start || 0;\r\n        const end = this._end || 1;\r\n        position -= this._ls;\r\n        position = position * (end - start) / this._lc;\r\n        if (!this.get(\"inversed\")) {\r\n            position = start + position;\r\n        }\r\n        else {\r\n            position = end - position;\r\n        }\r\n        return position;\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    toGlobalPosition(position) {\r\n        const start = this._start || 0;\r\n        const end = this._end || 1;\r\n        if (!this.get(\"inversed\")) {\r\n            position = position - start;\r\n        }\r\n        else {\r\n            position = end - position;\r\n        }\r\n        position = position / (end - start) * this._lc;\r\n        position += this._ls;\r\n        return position;\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    _updateLC() {\r\n        const axis = this.axis;\r\n        const parent = axis.parent;\r\n        if (parent) {\r\n            const w = parent.innerWidth();\r\n            this._lc = this.axisLength() / w;\r\n            this._ls = (axis.x() - parent.get(\"paddingLeft\", 0)) / w;\r\n        }\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    _updatePositions() {\r\n        const axis = this.axis;\r\n        const x = axis.x() - $utils.relativeToValue(axis.get(\"centerX\", 0), axis.width()) - axis.parent.get(\"paddingLeft\", 0);\r\n        axis.gridContainer.set(\"x\", x);\r\n        axis.topGridContainer.set(\"x\", x);\r\n        axis.bulletsContainer.set(\"y\", this.y());\r\n        const chart = axis.chart;\r\n        if (chart) {\r\n            const plotContainer = chart.plotContainer;\r\n            const axisHeader = axis.axisHeader;\r\n            let width = axis.get(\"marginLeft\", 0);\r\n            let x = axis.x() - width;\r\n            const parent = axis.parent;\r\n            if (parent) {\r\n                x -= parent.get(\"paddingLeft\", 0);\r\n            }\r\n            if (axisHeader.children.length > 0) {\r\n                width = axis.axisHeader.width();\r\n                axis.set(\"marginLeft\", width + 1);\r\n            }\r\n            else {\r\n                axisHeader.set(\"width\", width);\r\n            }\r\n            axisHeader.setAll({ x: x, y: -1, height: plotContainer.height() + 2 });\r\n        }\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    processAxis() {\r\n        super.processAxis();\r\n        const axis = this.axis;\r\n        if (axis.get(\"width\") == null) {\r\n            axis.set(\"width\", p100);\r\n        }\r\n        ;\r\n        const verticalLayout = this._root.verticalLayout;\r\n        axis.set(\"layout\", verticalLayout);\r\n        axis.labelsContainer.set(\"width\", p100);\r\n        axis.axisHeader.setAll({ layout: verticalLayout });\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    axisLength() {\r\n        return this.axis.width();\r\n    }\r\n    /**\r\n     * Converts axis relative position to actual coordinate in pixels.\r\n     *\r\n     * @param   position  Position\r\n     * @return            Point\r\n     */\r\n    positionToPoint(position) {\r\n        return { x: this.positionToCoordinate(position), y: 0 };\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    updateTick(tick, position, endPosition, count) {\r\n        if (tick) {\r\n            if (!$type.isNumber(position)) {\r\n                position = 0;\r\n            }\r\n            let location = 0.5;\r\n            if ($type.isNumber(count) && count > 1) {\r\n                location = tick.get(\"multiLocation\", location);\r\n            }\r\n            else {\r\n                location = tick.get(\"location\", location);\r\n            }\r\n            if ($type.isNumber(endPosition) && endPosition != position) {\r\n                position = position + (endPosition - position) * location;\r\n            }\r\n            tick.set(\"x\", this.positionToCoordinate(position));\r\n            let length = tick.get(\"length\", 0);\r\n            const inside = tick.get(\"inside\", this.get(\"inside\", false));\r\n            if (this.get(\"opposite\")) {\r\n                tick.set(\"y\", p100);\r\n                if (!inside) {\r\n                    length *= -1;\r\n                }\r\n            }\r\n            else {\r\n                tick.set(\"y\", 0);\r\n                if (inside) {\r\n                    length *= -1;\r\n                }\r\n            }\r\n            tick.set(\"draw\", (display) => {\r\n                display.moveTo(0, 0);\r\n                display.lineTo(0, length);\r\n            });\r\n            this.toggleVisibility(tick, position, tick.get(\"minPosition\", 0), tick.get(\"maxPosition\", 1));\r\n        }\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    updateLabel(label, position, endPosition, count) {\r\n        if (label) {\r\n            let location = 0.5;\r\n            if ($type.isNumber(count) && count > 1) {\r\n                location = label.get(\"multiLocation\", location);\r\n            }\r\n            else {\r\n                location = label.get(\"location\", location);\r\n            }\r\n            if (!$type.isNumber(position)) {\r\n                position = 0;\r\n            }\r\n            const inside = label.get(\"inside\", this.get(\"inside\", false));\r\n            const opposite = this.get(\"opposite\");\r\n            if (opposite) {\r\n                if (!inside) {\r\n                    label.set(\"position\", \"relative\");\r\n                    label.set(\"y\", p100);\r\n                }\r\n                else {\r\n                    label.set(\"position\", \"absolute\");\r\n                    label.set(\"y\", 0);\r\n                }\r\n            }\r\n            else {\r\n                if (!inside) {\r\n                    label.set(\"y\", undefined);\r\n                    label.set(\"position\", \"relative\");\r\n                }\r\n                else {\r\n                    label.set(\"y\", 0);\r\n                    label.set(\"position\", \"absolute\");\r\n                }\r\n            }\r\n            if ($type.isNumber(endPosition) && endPosition != position) {\r\n                position = position + (endPosition - position) * location;\r\n            }\r\n            label.set(\"x\", this.positionToCoordinate(position));\r\n            this.toggleVisibility(label, position, label.get(\"minPosition\", 0), label.get(\"maxPosition\", 1));\r\n        }\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    updateGrid(grid, position, endPosition) {\r\n        if (grid) {\r\n            if (!$type.isNumber(position)) {\r\n                position = 0;\r\n            }\r\n            let location = grid.get(\"location\", 0.5);\r\n            if ($type.isNumber(endPosition) && endPosition != position) {\r\n                position = position + (endPosition - position) * location;\r\n            }\r\n            grid.set(\"x\", this.positionToCoordinate(position));\r\n            this.toggleVisibility(grid, position, 0, 1);\r\n        }\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    updateBullet(bullet, position, endPosition) {\r\n        if (bullet) {\r\n            const sprite = bullet.get(\"sprite\");\r\n            if (sprite) {\r\n                if (!$type.isNumber(position)) {\r\n                    position = 0;\r\n                }\r\n                let location = bullet.get(\"location\", 0.5);\r\n                if ($type.isNumber(endPosition) && endPosition != position) {\r\n                    position = position + (endPosition - position) * location;\r\n                }\r\n                let bulletPosition = this.axis.roundAxisPosition(position, location);\r\n                let previousBullet = this.axis._bullets[bulletPosition];\r\n                let d = -1;\r\n                if (this.get(\"opposite\")) {\r\n                    d = 1;\r\n                }\r\n                if (bullet.get(\"stacked\")) {\r\n                    if (previousBullet) {\r\n                        let previousSprite = previousBullet.get(\"sprite\");\r\n                        if (previousSprite) {\r\n                            sprite.set(\"y\", previousSprite.y() + previousSprite.height() * d);\r\n                        }\r\n                    }\r\n                    else {\r\n                        sprite.set(\"y\", 0);\r\n                    }\r\n                }\r\n                this.axis._bullets[bulletPosition] = bullet;\r\n                sprite.set(\"x\", this.positionToCoordinate(position));\r\n                this.toggleVisibility(sprite, position, 0, 1);\r\n            }\r\n        }\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    updateFill(fill, position, endPosition) {\r\n        if (fill) {\r\n            if (!$type.isNumber(position)) {\r\n                position = 0;\r\n            }\r\n            if (!$type.isNumber(endPosition)) {\r\n                endPosition = 1;\r\n            }\r\n            let x0 = this.positionToCoordinate(position);\r\n            let x1 = this.positionToCoordinate(endPosition);\r\n            this.fillDrawMethod(fill, x0, x1);\r\n        }\r\n    }\r\n    fillDrawMethod(fill, x0, x1) {\r\n        fill.set(\"draw\", (display) => {\r\n            //display.drawRect(x0, 0, x1 - x0, this.axis!.gridContainer.height());\r\n            // using for holes, so can not be rectangle\r\n            const h = this.axis.gridContainer.height();\r\n            const w = this.width();\r\n            if (x1 < x0) {\r\n                [x1, x0] = [x0, x1];\r\n            }\r\n            if (x0 > w || x1 < 0) {\r\n                return;\r\n            }\r\n            /*\r\n            const limit = 10000;\r\n\r\n            x0 = Math.max(-limit, x0);\r\n            x1 = Math.min(limit, x1);\r\n            */\r\n            display.moveTo(x0, 0);\r\n            display.lineTo(x1, 0);\r\n            display.lineTo(x1, h);\r\n            display.lineTo(x0, h);\r\n            display.lineTo(x0, 0);\r\n        });\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    positionTooltip(tooltip, position) {\r\n        this._positionTooltip(tooltip, { x: this.positionToCoordinate(position), y: 0 });\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    updateTooltipBounds(tooltip) {\r\n        const inside = this.get(\"inside\");\r\n        const num = 100000;\r\n        let global = this._display.toGlobal({ x: 0, y: 0 });\r\n        let x = global.x;\r\n        let y = 0;\r\n        let w = this.axisLength();\r\n        let h = num;\r\n        let pointerOrientation = \"up\";\r\n        if (this.get(\"opposite\")) {\r\n            if (inside) {\r\n                pointerOrientation = \"up\";\r\n                y = global.y;\r\n                h = num;\r\n            }\r\n            else {\r\n                pointerOrientation = \"down\";\r\n                y = global.y - num;\r\n                h = num;\r\n            }\r\n        }\r\n        else {\r\n            if (inside) {\r\n                pointerOrientation = \"down\";\r\n                y = global.y - num;\r\n                h = num;\r\n            }\r\n            else {\r\n                pointerOrientation = \"up\";\r\n                y = global.y;\r\n                h = num;\r\n            }\r\n        }\r\n        const bounds = { left: x, right: x + w, top: y, bottom: y + h };\r\n        const oldBounds = tooltip.get(\"bounds\");\r\n        if (!$utils.sameBounds(bounds, oldBounds)) {\r\n            tooltip.set(\"bounds\", bounds);\r\n            tooltip.set(\"pointerOrientation\", pointerOrientation);\r\n        }\r\n    }\r\n}\r\nObject.defineProperty(AxisRendererX, \"className\", {\r\n    enumerable: true,\r\n    configurable: true,\r\n    writable: true,\r\n    value: \"AxisRendererX\"\r\n});\r\nObject.defineProperty(AxisRendererX, \"classNames\", {\r\n    enumerable: true,\r\n    configurable: true,\r\n    writable: true,\r\n    value: AxisRenderer.classNames.concat([AxisRendererX.className])\r\n});\r\n//# sourceMappingURL=AxisRendererX.js.map","import { AxisRenderer } from \"./AxisRenderer\";\r\nimport { p100 } from \"../../../core/util/Percent\";\r\nimport { Rectangle } from \"../../../core/render/Rectangle\";\r\nimport * as $type from \"../../../core/util/Type\";\r\nimport * as $utils from \"../../../core/util/Utils\";\r\n/**\r\n * Used to render vertical axis.\r\n *\r\n * @see {@link https://www.amcharts.com/docs/v5/charts/xy-chart/#Axis_renderer} for more info\r\n * @important\r\n */\r\nexport class AxisRendererY extends AxisRenderer {\r\n    constructor() {\r\n        super(...arguments);\r\n        Object.defineProperty(this, \"_downY\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"thumb\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: Rectangle.new(this._root, { height: p100, isMeasured: false, themeTags: [\"axis\", \"y\", \"thumb\", \"zoomgrip\"] })\r\n        });\r\n    }\r\n    _afterNew() {\r\n        this._settings.themeTags = $utils.mergeTags(this._settings.themeTags, [\"renderer\", \"y\"]);\r\n        if (this._settings.opposite) {\r\n            this._settings.themeTags.push(\"opposite\");\r\n        }\r\n        super._afterNew();\r\n        this.setPrivateRaw(\"letter\", \"Y\");\r\n        const gridTemplate = this.grid.template;\r\n        gridTemplate.set(\"width\", p100);\r\n        gridTemplate.set(\"height\", 0);\r\n        gridTemplate.set(\"draw\", (display, graphics) => {\r\n            display.moveTo(0, 0);\r\n            display.lineTo(graphics.width(), 0);\r\n        });\r\n        this.set(\"draw\", (display, renderer) => {\r\n            display.moveTo(0, 0);\r\n            display.lineTo(0, renderer.height());\r\n        });\r\n    }\r\n    _getPan(point1, point2) {\r\n        return (point1.y - point2.y) / this.height();\r\n    }\r\n    _changed() {\r\n        var _a;\r\n        super._changed();\r\n        const axis = this.axis;\r\n        const ghostLabel = axis.ghostLabel;\r\n        if (ghostLabel) {\r\n            ghostLabel.setPrivate(\"visible\", !this.get(\"inside\"));\r\n            ghostLabel.set(\"y\", -1000);\r\n        }\r\n        const thumb = this.thumb;\r\n        const opposite = \"opposite\";\r\n        const inside = \"inside\";\r\n        const chart = this.chart;\r\n        if (this.isDirty(opposite) || this.isDirty(inside)) {\r\n            const axisChildren = axis.children;\r\n            if (this.get(inside)) {\r\n                axis.addTag(inside);\r\n            }\r\n            else {\r\n                axis.removeTag(inside);\r\n            }\r\n            if (chart) {\r\n                if (this.get(opposite)) {\r\n                    const children = chart.rightAxesContainer.children;\r\n                    if (children.indexOf(axis) == -1) {\r\n                        children.moveValue(axis, 0);\r\n                    }\r\n                    axis.addTag(opposite);\r\n                    axisChildren.moveValue(this, 0);\r\n                }\r\n                else {\r\n                    const children = chart.leftAxesContainer.children;\r\n                    if (children.indexOf(axis) == -1) {\r\n                        children.moveValue(axis);\r\n                    }\r\n                    axis.removeTag(opposite);\r\n                    axisChildren.moveValue(this);\r\n                }\r\n                (_a = axis.ghostLabel) === null || _a === void 0 ? void 0 : _a._applyThemes();\r\n                this.labels.each((label) => {\r\n                    label._applyThemes();\r\n                });\r\n                this.root._markDirtyRedraw();\r\n            }\r\n            axis.markDirtySize();\r\n        }\r\n        const w = axis.labelsContainer.width();\r\n        if (chart) {\r\n            if (this.get(opposite)) {\r\n                thumb.set(\"centerX\", 0);\r\n            }\r\n            else {\r\n                thumb.set(\"centerX\", w);\r\n            }\r\n        }\r\n        thumb.setPrivate(\"width\", w);\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    processAxis() {\r\n        super.processAxis();\r\n        const axis = this.axis;\r\n        if (axis.get(\"height\") == null) {\r\n            axis.set(\"height\", p100);\r\n        }\r\n        const horizontalLayout = this._root.horizontalLayout;\r\n        axis.set(\"layout\", horizontalLayout);\r\n        axis.labelsContainer.set(\"height\", p100);\r\n        axis.axisHeader.set(\"layout\", horizontalLayout);\r\n    }\r\n    _updatePositions() {\r\n        const axis = this.axis;\r\n        const y = axis.y() - $utils.relativeToValue(axis.get(\"centerY\", 0), axis.height());\r\n        axis.gridContainer.set(\"y\", y);\r\n        axis.topGridContainer.set(\"y\", y);\r\n        axis.bulletsContainer.set(\"x\", this.x());\r\n        const chart = axis.chart;\r\n        if (chart) {\r\n            const plotContainer = chart.plotContainer;\r\n            const axisHeader = axis.axisHeader;\r\n            let height = axis.get(\"marginTop\", 0);\r\n            if (axisHeader.children.length > 0) {\r\n                height = axis.axisHeader.height();\r\n                axis.set(\"marginTop\", height + 1);\r\n            }\r\n            else {\r\n                axisHeader.set(\"height\", height);\r\n            }\r\n            axisHeader.setAll({ y: axis.y() - height, x: -1, width: plotContainer.width() + 2 });\r\n        }\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    axisLength() {\r\n        return this.axis.innerHeight();\r\n    }\r\n    /**\r\n     * Converts axis relative position to actual coordinate in pixels.\r\n     *\r\n     * @param   position  Position\r\n     * @return            Point\r\n     */\r\n    positionToPoint(position) {\r\n        return { x: 0, y: this.positionToCoordinate(position) };\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    updateLabel(label, position, endPosition, count) {\r\n        if (label) {\r\n            if (!$type.isNumber(position)) {\r\n                position = 0;\r\n            }\r\n            let location = 0.5;\r\n            if ($type.isNumber(count) && count > 1) {\r\n                location = label.get(\"multiLocation\", location);\r\n            }\r\n            else {\r\n                location = label.get(\"location\", location);\r\n            }\r\n            const opposite = this.get(\"opposite\");\r\n            const inside = label.get(\"inside\", this.get(\"inside\", false));\r\n            if (opposite) {\r\n                label.set(\"x\", 0);\r\n                if (inside) {\r\n                    label.set(\"position\", \"absolute\");\r\n                }\r\n                else {\r\n                    label.set(\"position\", \"relative\");\r\n                }\r\n            }\r\n            else {\r\n                if (inside) {\r\n                    label.set(\"x\", 0);\r\n                    label.set(\"position\", \"absolute\");\r\n                }\r\n                else {\r\n                    label.set(\"x\", undefined);\r\n                    label.set(\"position\", \"relative\");\r\n                }\r\n            }\r\n            if ($type.isNumber(endPosition) && endPosition != position) {\r\n                position = position + (endPosition - position) * location;\r\n            }\r\n            label.set(\"y\", this.positionToCoordinate(position));\r\n            this.toggleVisibility(label, position, label.get(\"minPosition\", 0), label.get(\"maxPosition\", 1));\r\n        }\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    updateGrid(grid, position, endPosition) {\r\n        if (grid) {\r\n            if (!$type.isNumber(position)) {\r\n                position = 0;\r\n            }\r\n            let location = grid.get(\"location\", 0.5);\r\n            if ($type.isNumber(endPosition) && endPosition != position) {\r\n                position = position + (endPosition - position) * location;\r\n            }\r\n            grid.set(\"y\", this.positionToCoordinate(position));\r\n            this.toggleVisibility(grid, position, 0, 1);\r\n        }\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    updateTick(tick, position, endPosition, count) {\r\n        if (tick) {\r\n            if (!$type.isNumber(position)) {\r\n                position = 0;\r\n            }\r\n            let location = 0.5;\r\n            if ($type.isNumber(count) && count > 1) {\r\n                location = tick.get(\"multiLocation\", location);\r\n            }\r\n            else {\r\n                location = tick.get(\"location\", location);\r\n            }\r\n            if ($type.isNumber(endPosition) && endPosition != position) {\r\n                position = position + (endPosition - position) * location;\r\n            }\r\n            tick.set(\"y\", this.positionToCoordinate(position));\r\n            let length = tick.get(\"length\", 0);\r\n            const inside = tick.get(\"inside\", this.get(\"inside\", false));\r\n            if (this.get(\"opposite\")) {\r\n                tick.set(\"x\", 0);\r\n                if (inside) {\r\n                    length *= -1;\r\n                }\r\n            }\r\n            else {\r\n                if (!inside) {\r\n                    length *= -1;\r\n                }\r\n            }\r\n            tick.set(\"draw\", (display) => {\r\n                display.moveTo(0, 0);\r\n                display.lineTo(length, 0);\r\n            });\r\n            this.toggleVisibility(tick, position, tick.get(\"minPosition\", 0), tick.get(\"maxPosition\", 1));\r\n        }\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    updateBullet(bullet, position, endPosition) {\r\n        if (bullet) {\r\n            const sprite = bullet.get(\"sprite\");\r\n            if (sprite) {\r\n                if (!$type.isNumber(position)) {\r\n                    position = 0;\r\n                }\r\n                let location = bullet.get(\"location\", 0.5);\r\n                if ($type.isNumber(endPosition) && endPosition != position) {\r\n                    position = position + (endPosition - position) * location;\r\n                }\r\n                let bulletPosition = this.axis.roundAxisPosition(position, location);\r\n                let previousBullet = this.axis._bullets[bulletPosition];\r\n                let d = 1;\r\n                if (this.get(\"opposite\")) {\r\n                    d = -1;\r\n                }\r\n                if (bullet.get(\"stacked\")) {\r\n                    if (previousBullet) {\r\n                        let previousSprite = previousBullet.get(\"sprite\");\r\n                        if (previousSprite) {\r\n                            sprite.set(\"x\", previousSprite.x() + previousSprite.width() * d);\r\n                        }\r\n                    }\r\n                    else {\r\n                        sprite.set(\"x\", 0);\r\n                    }\r\n                }\r\n                this.axis._bullets[bulletPosition] = bullet;\r\n                sprite.set(\"y\", this.positionToCoordinate(position));\r\n                this.toggleVisibility(sprite, position, 0, 1);\r\n            }\r\n        }\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    updateFill(fill, position, endPosition) {\r\n        if (fill) {\r\n            if (!$type.isNumber(position)) {\r\n                position = 0;\r\n            }\r\n            if (!$type.isNumber(endPosition)) {\r\n                endPosition = 1;\r\n            }\r\n            let y0 = this.positionToCoordinate(position);\r\n            let y1 = this.positionToCoordinate(endPosition);\r\n            this.fillDrawMethod(fill, y0, y1);\r\n        }\r\n    }\r\n    fillDrawMethod(fill, y0, y1) {\r\n        fill.set(\"draw\", (display) => {\r\n            // using for holes, so can not be rectangle\r\n            const w = this.axis.gridContainer.width();\r\n            const h = this.height();\r\n            if (y1 < y0) {\r\n                [y1, y0] = [y0, y1];\r\n            }\r\n            if (y0 > h || y1 < 0) {\r\n                return;\r\n            }\r\n            //y0 = Math.max(0, y0);\r\n            //y1 = Math.min(h, y1);\r\n            display.moveTo(0, y0);\r\n            display.lineTo(w, y0);\r\n            display.lineTo(w, y1);\r\n            display.lineTo(0, y1);\r\n            display.lineTo(0, y0);\r\n        });\r\n    }\r\n    /**\r\n     * Converts relative position (0-1) on axis to a pixel coordinate.\r\n     *\r\n     * @param position  Position (0-1)\r\n     * @return Coordinate (px)\r\n     */\r\n    positionToCoordinate(position) {\r\n        if (!this._inversed) {\r\n            return (this._end - position) * this._axisLength;\r\n        }\r\n        else {\r\n            return (position - this._start) * this._axisLength;\r\n        }\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    positionTooltip(tooltip, position) {\r\n        this._positionTooltip(tooltip, { x: 0, y: this.positionToCoordinate(position) });\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    updateTooltipBounds(tooltip) {\r\n        const inside = this.get(\"inside\");\r\n        const num = 100000;\r\n        let global = this._display.toGlobal({ x: 0, y: 0 });\r\n        let y = global.y;\r\n        let x = 0;\r\n        let h = this.axisLength();\r\n        let w = num;\r\n        let pointerOrientation = \"right\";\r\n        if (this.get(\"opposite\")) {\r\n            if (inside) {\r\n                pointerOrientation = \"right\";\r\n                x = global.x - num;\r\n                w = num;\r\n            }\r\n            else {\r\n                pointerOrientation = \"left\";\r\n                x = global.x;\r\n                w = num;\r\n            }\r\n        }\r\n        else {\r\n            if (inside) {\r\n                pointerOrientation = \"left\";\r\n                x = global.x;\r\n                w = num;\r\n            }\r\n            else {\r\n                pointerOrientation = \"right\";\r\n                x = global.x - num;\r\n                w = num;\r\n            }\r\n        }\r\n        const bounds = { left: x, right: x + w, top: y, bottom: y + h };\r\n        const oldBounds = tooltip.get(\"bounds\");\r\n        if (!$utils.sameBounds(bounds, oldBounds)) {\r\n            tooltip.set(\"bounds\", bounds);\r\n            tooltip.set(\"pointerOrientation\", pointerOrientation);\r\n        }\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    _updateLC() {\r\n        const axis = this.axis;\r\n        const parent = axis.parent;\r\n        if (parent) {\r\n            const h = parent.innerHeight();\r\n            this._lc = this.axisLength() / h;\r\n            this._ls = axis.y() / h;\r\n        }\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    toAxisPosition(position) {\r\n        const start = this._start || 0;\r\n        const end = this._end || 1;\r\n        position -= this._ls;\r\n        position = position * (end - start) / this._lc;\r\n        if (this.get(\"inversed\")) {\r\n            position = start + position;\r\n        }\r\n        else {\r\n            position = end - position;\r\n        }\r\n        return position;\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    toGlobalPosition(position) {\r\n        const start = this._start || 0;\r\n        const end = this._end || 1;\r\n        if (this.get(\"inversed\")) {\r\n            position = position - start;\r\n        }\r\n        else {\r\n            position = end - position;\r\n        }\r\n        position = position / (end - start) * this._lc;\r\n        position += this._ls;\r\n        return position;\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    fixPosition(position) {\r\n        if (!this.get(\"inversed\")) {\r\n            return 1 - position;\r\n        }\r\n        return position;\r\n    }\r\n}\r\nObject.defineProperty(AxisRendererY, \"className\", {\r\n    enumerable: true,\r\n    configurable: true,\r\n    writable: true,\r\n    value: \"AxisRendererY\"\r\n});\r\nObject.defineProperty(AxisRendererY, \"classNames\", {\r\n    enumerable: true,\r\n    configurable: true,\r\n    writable: true,\r\n    value: AxisRenderer.classNames.concat([AxisRendererY.className])\r\n});\r\n//# sourceMappingURL=AxisRendererY.js.map","import { BaseColumnSeries } from \"./BaseColumnSeries\";\r\nimport { Template } from \"../../../core/util/Template\";\r\nimport { ListTemplate } from \"../../../core/util/List\";\r\nimport { RoundedRectangle } from \"../../../core/render/RoundedRectangle\";\r\nimport { Graphics } from \"../../../core/render/Graphics\";\r\nimport * as $utils from \"../../../core/util/Utils\";\r\nimport * as $array from \"../../../core/util/Array\";\r\nexport class ColumnSeries extends BaseColumnSeries {\r\n    constructor() {\r\n        super(...arguments);\r\n        Object.defineProperty(this, \"allColumns\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: this.children.push(Graphics.new(this._root, {}))\r\n        });\r\n        Object.defineProperty(this, \"allColumnsData\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: []\r\n        });\r\n        /**\r\n         * A [[TemplateList]] of all columns in series.\r\n         *\r\n         * `columns.template` can be used to set default settings for all columns,\r\n         * or to change on existing ones.\r\n         */\r\n        Object.defineProperty(this, \"columns\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: this.addDisposer(new ListTemplate(Template.new({}), () => RoundedRectangle._new(this._root, {\r\n                position: \"absolute\",\r\n                themeTags: $utils.mergeTags(this.columns.template.get(\"themeTags\", []), [\"series\", \"column\"])\r\n            }, [this.columns.template])))\r\n        });\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    makeColumn(dataItem, listTemplate) {\r\n        const column = listTemplate.make();\r\n        if (!this.get(\"turboMode\")) {\r\n            this.mainContainer.children.push(column);\r\n        }\r\n        else {\r\n            column.virtualParent = this.chart;\r\n        }\r\n        column._setDataItem(dataItem);\r\n        listTemplate.push(column);\r\n        return column;\r\n    }\r\n    _processAxisRange(axisRange) {\r\n        super._processAxisRange(axisRange);\r\n        axisRange.columns = new ListTemplate(Template.new({}), () => RoundedRectangle._new(this._root, {\r\n            position: \"absolute\",\r\n            themeTags: $utils.mergeTags(axisRange.columns.template.get(\"themeTags\", []), [\"series\", \"column\"]),\r\n        }, [this.columns.template, axisRange.columns.template]));\r\n    }\r\n    _beforeColumnsDraw() {\r\n        this.allColumnsData = [];\r\n    }\r\n    _afterColumnsDraw() {\r\n        if (this.get(\"turboMode\")) {\r\n            this.allColumns.set(\"draw\", (display) => {\r\n                display.clear();\r\n                $array.each(this.allColumnsData, (column) => {\r\n                    const w = column.width;\r\n                    const h = column.height;\r\n                    const x = column.x;\r\n                    const y = column.y;\r\n                    const stroke = column.stroke;\r\n                    const fill = column.fill;\r\n                    const strokeWidth = column.strokeWidth;\r\n                    const strokeOpacity = column.strokeOpacity;\r\n                    const fillOpacity = column.fillOpacity;\r\n                    display.beginFill(fill, fillOpacity);\r\n                    display.beginPath();\r\n                    display.lineStyle(strokeWidth, stroke, strokeOpacity);\r\n                    display.drawRect(x, y, w, h);\r\n                    display.endStroke();\r\n                    display.endFill();\r\n                });\r\n            });\r\n        }\r\n    }\r\n    _updateSeriesGraphics(dataItem, graphics, l, r, t, b, fitW, fitH) {\r\n        if (this.get(\"turboMode\")) {\r\n            const stroke = graphics.get(\"stroke\");\r\n            const fillOpacity = graphics.get(\"fillOpacity\", 1);\r\n            const strokeOpacity = graphics.get(\"strokeOpacity\", 1);\r\n            const strokWidth = graphics.get(\"strokeWidth\", 1);\r\n            const fill = graphics.get(\"fill\");\r\n            const ptl = this.getPoint(l, t);\r\n            const pbr = this.getPoint(r, b);\r\n            const tooltipPoint = dataItem.get(\"point\");\r\n            if (tooltipPoint) {\r\n                const point = this.getPoint(tooltipPoint.x, tooltipPoint.y);\r\n                tooltipPoint.x = point.x + this._x;\r\n                tooltipPoint.y = point.y + this._y;\r\n            }\r\n            l = ptl.x;\r\n            r = pbr.x;\r\n            t = ptl.y;\r\n            b = pbr.y;\r\n            dataItem.setRaw(\"left\", l);\r\n            dataItem.setRaw(\"right\", r);\r\n            dataItem.setRaw(\"top\", t);\r\n            dataItem.setRaw(\"bottom\", b);\r\n            this.allColumnsData.push({ width: r - l, height: b - t, x: l, y: t, stroke: stroke, fill: fill, strokeWidth: strokWidth, strokeOpacity: strokeOpacity, fillOpacity: fillOpacity });\r\n        }\r\n        else {\r\n            super._updateSeriesGraphics(dataItem, graphics, l, r, t, b, fitW, fitH);\r\n        }\r\n    }\r\n}\r\nObject.defineProperty(ColumnSeries, \"className\", {\r\n    enumerable: true,\r\n    configurable: true,\r\n    writable: true,\r\n    value: \"ColumnSeries\"\r\n});\r\nObject.defineProperty(ColumnSeries, \"classNames\", {\r\n    enumerable: true,\r\n    configurable: true,\r\n    writable: true,\r\n    value: BaseColumnSeries.classNames.concat([ColumnSeries.className])\r\n});\r\n//# sourceMappingURL=ColumnSeries.js.map","import * as am5 from '@amcharts/amcharts5'\nimport * as am5xy from '@amcharts/amcharts5/xy'\nimport am5themes_Animated from '@amcharts/amcharts5/themes/Animated'\n/**\n *\n * @param {HTMLElement} component\n */\nexport default async function (component) {\n  am5.ready(function () {\n    document.querySelectorAll('[data-graphic-type=\"bars\"]').forEach((el) => {\n      const root = am5.Root.new(el)\n      root.setThemes([am5themes_Animated.new(root)])\n\n      // Colors\n      const BACKGROUND = am5.color(el.dataset.graphicBackgroundColor || '#1B2155')\n      const BAR_COLOR = am5.color(el.dataset.graphicBarColor || '#B9DDE6')\n      const TEXT_COLOR = am5.color(el.dataset.graphicTextColor || '#FFFFFF')\n      const BADGE_BG = am5.color(el.dataset.graphicBadgeBg || '#2C3495')\n\n      // Data\n      const data = []\n      for (let i = 1; i <= 4; i++) {\n        const label = el.dataset[`graphicItem${i}Label`]\n        const value = parseFloat(el.dataset[`graphicItem${i}Value`])\n        if (label && !isNaN(value)) data.push({ category: label, value })\n      }\n\n      // Chart base\n      const chart = root.container.children.push(\n        am5xy.XYChart.new(root, {\n          layout: root.verticalLayout,\n          panX: false,\n          panY: false,\n          wheelX: 'none',\n          wheelY: 'none',\n          paddingTop: 60,\n          paddingBottom: 32,\n          paddingLeft: 0,\n          paddingRight: 0,\n        })\n      )\n\n      chart.set('background', am5.Rectangle.new(root, { fill: BACKGROUND }))\n\n      // X Axis\n      const xRenderer = am5xy.AxisRendererX.new(root, {\n        minGridDistance: 40,\n        cellStartLocation: 0.1,\n        cellEndLocation: 0.9,\n      })\n\n      const xAxis = chart.xAxes.push(\n        am5xy.CategoryAxis.new(root, {\n          categoryField: 'category',\n          renderer: xRenderer,\n        })\n      )\n      xAxis.data.setAll(data)\n\n      xAxis.get('renderer').labels.template.setAll({\n        fill: TEXT_COLOR,\n        fontSize: 12,\n        fontWeight: '400',\n        centerY: am5.p100,\n        paddingTop: 10,\n        dy: 50,\n        maxWidth: 120,\n        oversizedBehavior: 'wrap',\n        textAlign: 'center',\n      })\n\n      // Y Axis\n      const yRenderer = am5xy.AxisRendererY.new(root, { opposite: false })\n      const yAxis = chart.yAxes.push(\n        am5xy.ValueAxis.new(root, {\n          renderer: yRenderer,\n        })\n      )\n\n      yAxis.get('renderer').labels.template.setAll({\n        fill: TEXT_COLOR,\n        fontSize: 12,\n        fontWeight: '400',\n      })\n      yAxis.get('renderer').grid.template.setAll({\n        stroke: am5.color('#FFFFFF'),\n        strokeOpacity: 0.1,\n      })\n\n      // Bars\n      const series = chart.series.push(\n        am5xy.ColumnSeries.new(root, {\n          xAxis,\n          yAxis,\n          valueYField: 'value',\n          categoryXField: 'category',\n        })\n      )\n\n      series.columns.template.setAll({\n        fill: BAR_COLOR,\n        stroke: BAR_COLOR,\n        width: am5.percent(75),\n        cornerRadiusTL: 0,\n        cornerRadiusTR: 0,\n        tooltipText: '{category}: {valueY}%',\n      })\n\n      // Create badges after render\n      series.events.on('datavalidated', () => {\n        series.dataItems.forEach((dataItem) => {\n          const column = dataItem.get('graphics')\n          if (!column) return\n\n          const bounds = column.globalBounds()\n          const centerX = bounds.left + bounds.width / 2\n          const topY = bounds.top\n\n          root.container.children.push(\n            am5.Container.new(root, {\n              x: centerX,\n              y: topY - 20,\n              centerX: am5.p50,\n              centerY: am5.p50,\n              children: [\n                am5.RoundedRectangle.new(root, {\n                  width: 70,\n                  height: 32,\n                  fill: BADGE_BG,\n                  cornerRadiusTL: 8,\n                  cornerRadiusTR: 8,\n                  cornerRadiusBL: 8,\n                  cornerRadiusBR: 8,\n                  shadowColor: am5.color(0x000000),\n                  shadowBlur: 3,\n                  shadowOpacity: 0.2,\n                }),\n                am5.Label.new(root, {\n                  text: `${dataItem.dataContext.value}%`,\n                  fill: TEXT_COLOR,\n                  fontSize: 12,\n                  fontWeight: '700',\n                  centerX: am5.p50,\n                  centerY: am5.p50,\n                }),\n              ],\n            })\n          )\n        })\n      })\n\n      series.data.setAll(data)\n      xAxis.data.setAll(data)\n\n      series.appear(1000)\n      chart.appear(1000, 100)\n    })\n  })\n}\n"],"names":["Button","Container","_afterNew","this","_settings","themeTags","$utils.mergeTags","super","background","set","RoundedRectangle","new","_root","setPrivate","_prepareChildren","isDirty","previous","_prevSettings","icon","get","_disposeProperty","dispose","children","push","label","Object","defineProperty","enumerable","configurable","writable","value","classNames","concat","className","XYChartDefaultTheme","Theme","setupDefaultRules","ic","interfaceColors","language","r","rule","bind","setAll","colors","ColorSet","paddingLeft","paddingRight","paddingTop","paddingBottom","panX","panY","wheelStep","arrangeTooltips","pinchZoomX","pinchZoomY","legendLabelText","fill","Color","fromHex","fillOpacity","saturation","setColor","cornerRadiusTR","cornerRadiusTL","cornerRadiusBR","cornerRadiusBL","focusable","states","create","strokeOpacity","inside","minGridDistance","opacity","centerY","p100","minPosition","maxPosition","fontSize","text","populateText","centerX","visible","behavior","layer","exportable","snapToSeriesBy","moveThreshold","forceInactive","strokeDasharray","role","ariaLabel","translate","zoomOut","start","end","minZoomCount","maxZoomCount","Infinity","maxZoomFactor","maxDeviation","snapTooltip","tooltipLocation","zoomX","zoomY","fixAxisSize","location","multiLocation","p50","crisp","opposite","inversed","cellStartLocation","cellEndLocation","width","height","cursorOverStyle","isMeasured","position","startLocation","endLocation","fillRule","dataItem","index","axisFill","$type.isNumber","gridIntervals","timeUnit","count","dateFormats","millisecond","second","minute","hour","day","week","month","year","periodChangeDateFormats","tooltipDateFormats","markUnitChange","$array.copy","$object.copy","strictMinMax","groupData","groupCount","skipFirstMinor","weekLabelLocation","groupIntervals","axis","component","endValue","intervalDuration","baseInterval","getPrivate","gridInterval","min","$time.round","Date","locale","firstDayOfWeek","utc","undefined","timezone","getTime","val","Math","round","baseValue","logarithmic","autoZoom","step","$math.round","baseUnit","maskBullets","stackToNegative","locationX","locationY","openValueXGrouped","openValueYGrouped","valueXGrouped","valueYGrouped","seriesTooltipTarget","adjustBulletPosition","clustered","percent","strokeWidth","connect","autoGapCount","draw","display","sprite","parent","h","w","moveTo","lineTo","tension","lowValueXGrouped","lowValueYGrouped","highValueXGrouped","highValueYGrouped","interactive","draggable","rotation","XYChart","SerialChart","constructor","arguments","ListAutoDispose","chartContainer","layout","verticalLayout","horizontalLayout","yAxesAndPlotContainer","maskContent","plotsContainer","plotContainer","topPlotContainer","Graphics","x","y","_defaultThemes","_disposers","xAxes","yAxes","root","zoomOutButton","events","on","hide","lookup","seriesContainer","_processAxis","bottomAxesContainer","leftAxesContainer","topGridContainer","bulletsContainer","Rectangle","event","_handlePlotDown","_handlePlotUp","_handlePlotMove","_maskGrid","_setUpTouch","_beforeChanged","_display","cancelTouch","gridContainer","_removeSeries","series","_unstack","_posXDp","_posYDp","xAxis","$array.remove","markDirtyExtremes","yAxis","cursor","snapToSeries","handleWheel","wheelX","wheelY","wheelEvent","originalEvent","prevent","$utils.isLocalEvent","plotPoint","toLocal","point","shiftY","deltaY","shiftX","deltaX","wheelZoomPositionX","wheelZoomPositionY","each","fixPosition","newStart","max","newEnd","_handleWheelAnimation","zoom","delta","_getWheelSign","se","_fixWheel","preventDefault","_handleSetWheel","_wheelDp","abs","sign","diff","button","local","pointerId","$object.keys","_downPoints","length","getIndex","_downStartX","_downEndX","_downStartY","_downEndY","_downPoint","clientX","clientY","_panStart","_panEnd","eventType","isEnabled","dispatch","type","target","animation","_dispatchWheelAnimation","downPoint","_isPanning","_movePoints","_handlePinch","documentPointToRoot","scrollbarX","disableType","panStart","panEnd","enableType","scrollbarY","i","downPoints","movePoints","$object.each","k","movePoint","downPoint0","downPoint1","movePoint0","movePoint1","downStartX","downEndX","downPos0","downPos1","movePos0","movePos1","d","s","e","sa","ea","downStartY","downEndY","_handleCursorPosition","cursorPoint","dataItems","$array.each","isHidden","isHiding","startIndex","endIndex","tooltipDataItem","closestItem","minDistance","distance","hypot","tooltip","_setDataItem","showDataItemTooltip","setRaw","handleMove","toGlobal","_updateCursor","updateCursor","_addCursor","_colorize","_setChart","_pushPropertyDisposer","_handleCursorSelectEnd","topAxesContainer","_handleScrollbar","grip","_handleAxisSelection","getTooltipText","rightAxesContainer","_handleZoomOut","_processSeries","$array.move","addDisposer","_fixPosition","isType","_markDirtyKey","_markDirtyAxes","_seriesAdded","colorSet","color","next","_setSoft","patternSet","pattern","downPositionX","downPositionY","positionX","positionY","position0","toAxisPosition","position1","axes","priority","axisStart","axisEnd","zoomAnimation","updateScrollbar","setPrivateRaw","container","onAll","change","oldValues","_removeAxis","newValue","processChart","setIndex","insertIndex","oldValue","Error","moveValue","newIndex","isDisposed","axisParent","removeValue","gridParent","topGridParent","_updateChartLayout","left","right","processAxis","force","indexOf","updateGrips","show","inPlot","otherCharts","_otherCharts","global","chart","chartPlotContainer","documentPoint","rootPointToDocument","chartRoot","hh","bounds","tooltipContainer","bottom","plotT","plotB","tooltips","closest","closestPoint","sum","_movePoint","maxTooltipDistance","maxTooltipDistanceBy","tooltipSeries","hidden","_tooltipToLocal","totalTooltipH","tooltipCount","sort","a","b","$order.compareNumber","prevY","Percent","top","_fy","reverse","prevBottom","once","_dispose","Grid","isPrivateDirty","_clear","XYSeries","Series","List","DataItem","fields","valueFields","_setRawDefault","axisRanges","axisRange","_removeAxisRange","_processAxisRange","onPrivate","updateLegendValue","_makeFieldNames","axisDataItem","bullet","_seriesAxisRanges","_onDataClear","_dataSets","_key","_updateFields","_valueXFields","_valueYFields","_valueXShowFields","_valueYShowFields","__valueXShowFields","__valueYShowFields","valueXFields","key","field","split","valueYFields","_bullets","$array.removeFirst","_min","_max","_shouldMakeBullet","baseAxis","inited","minBulletDistance","axisLength","_xField","_yField","xName","xCapName","$utils.capitalizeFirst","yName","yCapName","xLetter","yLetter","open","low","high","_xOpenField","_xLowField","_xHighField","_yOpenField","_yLowField","_yHighField","_fixVC","hiddenState","sequencedInterpolation","_handleMaskBullets","$utils.relativeToValue","_valuesDirty","tooltipFieldX","_tooltipFieldX","tooltipFieldY","_tooltipFieldY","stacked","_dataProcessed","_stack","getStackedXValue","getStackedYValue","processSeriesDataItem","_seriesValuesDirty","_markStakedDirtyStack","_dataGrouped","_groupSeriesData","_stackDirty","_sizeDirty","_showBullets","_psi","_pei","_selectionProcessed","vcx","vcy","outOfSelection","_calculateTotals","markDirtySelectionExtremes","processYSelectionDataItem","processXSelectionDataItem","selectionMinY","selectionMaxY","selectionMinX","selectionMaxX","_makeRangeMask","mainContainerMask","_mainContainerMask","mainContainer","mask","markDirty","_updateChildren","_x","_y","seriesIndex","_couldStackTo","_stackDataItems","_reallyStackedTo","_stackedSeries","uid","_handleRemoved","_handleSeriesRemoved","stackToItemKey","len","stackToSeries","stackToItem","stackValue","getStackedXValueWorking","getStackedYValueWorking","stackedToSeries","createLegendMarker","_dataItem","updateLegendMarker","_axesDirty","_markDataSetDirty","_afterDataChange","_aggregatesCalculated","_clearDirty","_positionBullet","exactLocationX","exactLocationY","getDataItemPositionX","getDataItemPositionY","getPoint","_shouldShowBullet","realField","positionToPoint","previousBullet","previousBounds","localBounds","yo","xo","_positionX","_positionY","setDataSet","id","_handleDataSetChange","_dataItems","_dataSetId","resetGrouping","dataSet","_mainDataItems","mainDataItems","bullets","duration","_super","__awaiter","promises","call","then","_isShowing","_sequencedShowHide","Promise","all","_isHiding","showDataItem","easing","_valueFields","animate","to","waitForStop","hideDataItem","_markDirtyStack","stackedSeries","_afterChanged","_skipped","itemLocationX","itemLocationY","xPos","_aLocationX0","_aLocationX1","yPos","_aLocationY0","_aLocationY1","markDirtyText","_getTooltipTarget","hideTooltip","legendDataItem","txt","_emptyDataItem","valueLabel","_getItemReaderLabel","positionToCoordinate","_shouldInclude","_position","handleCursorHide","resetExtremes","createAxisRange","_adjustStartIndex","baseDuration","minSelection","dl","BaseColumnSeries","_makeGraphics","listTemplate","makeColumn","categoryAxis","valueAxis","_createGraphics","_ph","_pw","columnsTemplate","columns","template","clusterCount","xRenderer","yRenderer","cellLocationX0","cellLocationX1","cellLocationY0","cellLocationY1","_toggleColumn","j","_beforeColumnsDraw","axisCase","_updateGraphics","_afterColumnsDraw","_columnsUpdated","graphics","markerRectangle","ds","visualSettings","setting","graphicsArray","rangeGraphics","previousDataItem","xField","yField","valueX","valueY","xOpenField","yOpenField","openLocationX","openLocationY","xStart","xEnd","yStart","yEnd","l","t","fitW","fitH","offset","stackToItemY","basePosition","stackToItemX","_applyGraphicsStates","_updateSeriesGraphics","$type.isNaN","maxWidth","maxHeight","ptl","pbr","tooltipPoint","dropFromOpen","riseFromOpen","dropFromPrevious","riseFromPrevious","close","previousClose","apply","disposeDataItem","list","lastDataItem","column","Axis","Component","labelsContainer","axisHeader","renderer","_createGhostLabel","ghostLabel","makeLabel","adapters","disable","tooltipText","tooltipHTML","_updateFinals","_start","_end","sAnimation","_sAnimation","eAnimation","_eAnimation","maxZoomFactorReal","minZoomFactor","playing","markDirtyKey","stop","_series","_createAssets","_rangesDirty","_prepareDataItem","above","grid","_index","_updateAxisRanges","_inversed","_axisLength","_updateLC","rendererTags","addTag","toLowerCase","_applyThemes","_updateTooltipBounds","updateTooltipBounds","_updateBounds","axisHeadersContainer","markDirtySize","_toggleFHDataItem","forceHidden","fh","tick","_toggleDataItem","v","tags","minor","_a","_b","_c","m","remove","labels","makeGrid","makeTick","ticks","makeAxisFill","_processBullet","axisBullet","_updatePositions","axisFills","_updateGhost","getCellWidthPosition","gWidth","ceil","_getText","updateLabel","_cursorPosition","_snapToSeries","updateTooltip","getSeriesItem","roundAxisPosition","_updateTooltipText","positionTooltip","_location","handleCursorShow","_fields","coordinateToPosition","coordinate","toGlobalPosition","shouldGap","_nextItem","_autoGapCount","_fieldName","ValueAxis","_dirtyExtremes","_dirtySelectionExtremes","syncWithAxis","_syncDp","MultiDisposer","someDirty","_getMinMax","_handleSizeDirty","getMM","letter","_getSelectionMinMax","_groupData","_handleRangeChange","_prepareAxisItems","_baseValue","_dseHandled","_formatText","numberFormat","formatter","getNumberFormatter","format","selectionMin","selectionMax","differencePower","minLog","_minLogAdjusted","minRealLog","_minRealLog","pow","log","LOG10E","minorLabelsEnabled","minorGridEnabled","stepPower","floor","stepAdjusted","minorGridCount","minorStep","processDataItem","nextValue","minorValue","_adjustMinMax","minorDataItem","minorDataItems","minorLabel","decCount","valueToPosition","endPosition","fillEndPosition","labelEndPosition","labelEndValue","updateGrid","hasTag","removeTag","updateTick","updateFill","updateBullet","positionToValue","gridCount","minMaxStep","stepDecimalPlaces","$utils.decimalPlaces","E","treatZeroAs","valueToFinalPosition","getX","getY","getDataItemCoordinateX","_cellLocation","axisLocation","getDataItemCoordinateY","cellEndValue","fixSmallStep","_fixMin","_fixMax","vc","fieldWorking","total","totalPercent","minDefined","maxDefined","extraMin","extraMax","selectionStrictMinMax","seriesMin","seriesMax","minX","maxX","minY","maxY","isShowing","range","_minReal","_maxReal","smin","_deltaMinMax","minMaxStep2","selectionMinReal","selectionMaxReal","$math.fitToRange","_syncAxes","LN10","minDiff","initialMin","initialMax","minAdapted","fold","maxAdapted","_getDelta","strictMinMaxSelection","strict","_fixZoomFactor","_saveMinMax","animatePrivate","exponent","power","strictMode","difference","extra","stepDivisor","maxPrecision","ceiledStep","$math.ceil","Number","MAX_VALUE","maxCount","minCount","_adjustPosition","extraDecimals","decimals","oldDiff","fieldName","zoomToValues","syncMin","syncMax","syncStep","currentCount","synced","c","omin","omax","ostep","_checkSync","nextPosition","CategoryAxis","_itemMap","indices","_getIndices","adjustZoom","getIndices","stopped","zoomToIndexes","startCategory","endCategory","openKey","otherAxis","startDataItem","endDataItem","findDataItem","category","direction","idx","categoryToIndex","searchCategory","item","hasValue","frequency","_frequency","f","fillIndex","categoryLocation","endCategoryLocation","indexToPosition","fillEndIndex","NaN","cellLocation","_axisLocation","final","name","modCount","acc","categoryToPosition","dataItemToPosition","axisPositionToIndex","modifiedLen","cellSizes","cellSize","rel","populateString","seriesDataItem","zoomToCategories","AxisLabel","Label","AxisTick","Tick","AxisRenderer","ListTemplate","Template","_new","make","thumb","_handleThumbDown","_handleThumbUp","_handleThumbMove","_changed","pan","_thumbDownPoint","_downStart","_downEnd","_event","downStart","downEnd","_getPan","_point1","_point2","_tooltip","_updateSize","toggleVisibility","_positionTooltip","AxisRendererX","gridTemplate","axisChildren","_markDirtyRedraw","point1","point2","_ls","_lc","innerWidth","bulletPosition","previousSprite","x0","x1","fillDrawMethod","num","pointerOrientation","oldBounds","$utils.sameBounds","AxisRendererY","innerHeight","y0","y1","ColumnSeries","virtualParent","allColumnsData","allColumns","clear","stroke","beginFill","beginPath","lineStyle","drawRect","endStroke","endFill","strokWidth","async","graphicsBars","am5.ready","document","querySelectorAll","forEach","el","am5.Root","setThemes","am5themes_Animated","BACKGROUND","am5.color","dataset","graphicBackgroundColor","BAR_COLOR","graphicBarColor","TEXT_COLOR","graphicTextColor","BADGE_BG","graphicBadgeBg","data","parseFloat","isNaN","am5xy.XYChart","am5.Rectangle","am5xy.AxisRendererX","am5xy.CategoryAxis","categoryField","fontWeight","am5.p100","dy","oversizedBehavior","textAlign","am5xy.AxisRendererY","am5xy.ValueAxis","am5xy.ColumnSeries","valueYField","categoryXField","am5.percent","globalBounds","topY","am5.Container","am5.p50","am5.RoundedRectangle","shadowColor","shadowBlur","shadowOpacity","am5.Label","dataContext","appear"],"mappings":"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","x_google_ignoreList":[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14]}