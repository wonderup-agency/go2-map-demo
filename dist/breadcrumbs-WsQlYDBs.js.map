{"version":3,"file":"breadcrumbs-WsQlYDBs.js","sources":["../src/components/breadcrumbs.js"],"sourcesContent":["/**\r\n * @param {HTMLElement} component\r\n */\r\nexport default async function (component) {\r\n  if (typeof window === 'undefined' || typeof document === 'undefined') return\r\n\r\n  const root = component instanceof HTMLElement ? component : document\r\n  const SELECTOR = \"[data-component='breadcrums'],[data-component='breadcrumbs']\"\r\n\r\n  let nodes = root.querySelectorAll(SELECTOR)\r\n  if (!nodes.length && root !== document) {\r\n    const globalNodes = document.querySelectorAll(SELECTOR)\r\n    if (!globalNodes.length) return\r\n    nodes = globalNodes\r\n  }\r\n\r\n  nodes.forEach((container) => {\r\n    const rootLabel = container.dataset.rootLabel || 'Home'\r\n    const rootUrl = container.dataset.rootUrl || '/'\r\n\r\n    const linkClass =\r\n      container.dataset.linkClass ||\r\n      container.querySelector('.breadcrumb-link')?.className ||\r\n      'breadcrumb-link w-inline-block'\r\n\r\n    const sepClass = container.dataset.sepClass || container.querySelector('.g-paragraph')?.className || 'g-paragraph'\r\n\r\n    const depthRaw = (container.dataset.depth || '').trim().toLowerCase()\r\n    const isAll = depthRaw === 'all' || depthRaw === ''\r\n    const depthNum = Number.parseInt(depthRaw, 10)\r\n    const hasNumericDepth = Number.isFinite(depthNum) && depthNum >= 1\r\n\r\n    const leadingAttr = (container.dataset.leadingSeparator || 'true').toLowerCase().trim()\r\n    const leadingSeparator = leadingAttr === 'true' || leadingAttr === '1' || leadingAttr === ''\r\n\r\n    container.innerHTML = ''\r\n\r\n    const rawPath = window.location.pathname.split('?')[0].split('#')[0]\r\n    const segments = rawPath\r\n      .replace(/\\/+$/, '')\r\n      .replace(/^\\/+/, '')\r\n      .split('/')\r\n      .filter(Boolean)\r\n      .map((s) => s.replace(/index\\.html?$/i, ''))\r\n      .filter(Boolean)\r\n\r\n    let includeHome, startIndex\r\n    if (!segments.length) {\r\n      const showHome = isAll || (hasNumericDepth && depthNum >= 1)\r\n      if (showHome) {\r\n        const items = [{ label: rootLabel, href: rootUrl }]\r\n        renderItems(container, items, linkClass, sepClass, leadingSeparator)\r\n      }\r\n      return\r\n    }\r\n\r\n    if (isAll) {\r\n      includeHome = true\r\n      startIndex = 0\r\n    } else if (hasNumericDepth) {\r\n      const capped = Math.min(depthNum, segments.length + 1)\r\n      if (capped === segments.length + 1) {\r\n        includeHome = true\r\n        startIndex = 0\r\n      } else {\r\n        includeHome = false\r\n        startIndex = Math.max(0, segments.length - capped)\r\n      }\r\n    } else {\r\n      includeHome = true\r\n      startIndex = 0\r\n    }\r\n\r\n    const items = []\r\n    if (includeHome) items.push({ label: rootLabel, href: rootUrl })\r\n\r\n    const visibleSegs = segments.slice(startIndex)\r\n    visibleSegs.forEach((seg, i) => {\r\n      const uptoIndex = startIndex + i\r\n      const isLastSeg = uptoIndex === segments.length - 1\r\n      const href = isLastSeg ? null : `/${segments.slice(0, uptoIndex + 1).join('/')}`\r\n      items.push({ label: toTitle(seg), href })\r\n    })\r\n\r\n    renderItems(container, items, linkClass, sepClass, leadingSeparator)\r\n  })\r\n\r\n  function renderItems(container, items, linkClass, sepClass, leadingSeparator) {\r\n    if (!items.length) return\r\n    if (leadingSeparator) appendSeparator(container, sepClass)\r\n    items.forEach((item, j) => {\r\n      if (j > 0) appendSeparator(container, sepClass)\r\n      const isFirst = j === 0\r\n      const isLast = j === items.length - 1\r\n      const classes = `${linkClass}${isFirst ? ' is-first' : ''}${isLast ? ' is-active' : ''}`\r\n      appendLink(container, item.label, item.href, classes)\r\n    })\r\n  }\r\n\r\n  function toTitle(slug) {\r\n    const clean = decodeURIComponent(slug)\r\n      .replace(/\\.html?$/i, '')\r\n      .replace(/[-_]+/g, ' ')\r\n      .trim()\r\n    return clean\r\n      .split(/\\s+/)\r\n      .map((w) => w.charAt(0).toUpperCase() + w.slice(1))\r\n      .join(' ')\r\n  }\r\n\r\n  function appendSeparator(container, sepClass) {\r\n    const p = document.createElement('p')\r\n    p.className = sepClass\r\n    p.innerHTML = '/<br>'\r\n    container.appendChild(p)\r\n  }\r\n\r\n  function appendLink(container, text, href, classes) {\r\n    const a = document.createElement('a')\r\n    a.className = classes\r\n    a.classList.add('w-inline-block')\r\n    if (href) a.href = href\r\n    const div = document.createElement('div')\r\n    div.textContent = text\r\n    a.appendChild(div)\r\n    container.appendChild(a)\r\n  }\r\n}\r\n"],"names":[],"mappings":"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"}