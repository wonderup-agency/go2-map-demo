async function e(e){const t=window.matchMedia("(prefers-reduced-motion: reduce)").matches,o=t?1:800,n=t?0:200,a=t?1:260,i="cubic-bezier(.22,1,.36,1)",r=e=>e?.dataset?.display||"flex",s="bf_support_hidden",l=(e,t,o)=>{const n=new Date;n.setTime(n.getTime()+24*o*60*60*1e3),document.cookie=`${e}=${encodeURIComponent(t)};expires=${n.toUTCString()};path=/;SameSite=Lax`},c=e=>{const t=document.cookie||"";if(!t)return null;const o=t.split("; ");for(const t of o){const[o,...n]=t.split("=");if(o===e)return decodeURIComponent(n.join("="))}return null},d=()=>"1"===c(s),u=e.querySelector(".button_fixed"),p=Array.from(e.querySelectorAll('[data-button-fixed="item"]')),y="[data-close-support-now]",f=p.find(e=>e.hasAttribute("data-button-support"))||null,m=p.find(e=>e.hasAttribute("data-button-phone"))||null,h=p.find(e=>e.hasAttribute("data-button-mail"))||null;let v=[m,h].filter(Boolean);const g=e.querySelector('[data-button-fixed="icon-headset"]'),b=e.querySelector('[data-button-fixed="icon-empathy"]'),L=e.querySelector('[data-button-fixed="icon-close"]'),w=[g,b,L].filter(Boolean),x=e=>{e&&(e.classList.remove("is-active"),e.style.display="none",e.setAttribute("aria-hidden","true"))},H=e=>{e&&(e.classList.add("is-active"),e.style.display="",e.setAttribute("aria-hidden","false"))},C=e=>(w.forEach(x),H("close"===e?L:"empathy"===e?b:g)),E=()=>{C("empathy"),u?.setAttribute("aria-expanded","false")},S=()=>{C("close"),u?.setAttribute("aria-expanded","true")};e.querySelectorAll('a[href="#"]').forEach(e=>e.addEventListener("click",e=>{e.preventDefault(),e.stopPropagation()})),v.forEach(e=>{e.style.display="none",e.style.opacity=0}),f&&(d()?(f.style.display="none",f.style.opacity=0):(f.style.display=r(f),f.style.opacity=1)),E();let M=!1,k=!1;const V=f?.querySelector(".item-link"),q=f?.querySelector(".icon_inner"),A=q?.innerHTML||"",T=()=>{if(!f||k)return;k=!0;const e=f.querySelector(".g-paragraph");e&&(e.innerHTML="Complete this form<br>"),q&&(q.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" width="100%" viewBox="0 0 24 24" fill="none"><path d="M19 22H5C3.34315 22 2 20.6569 2 19V3C2 2.44772 2.44772 2 3 2H17C17.5523 2 18 2.44772 18 3V15H22V19C22 20.6569 20.6569 22 19 22ZM18 17V19C18 19.5523 18.4477 20 19 20C19.5523 20 20 19.5523 20 19V17H18ZM16 20V4H4V19C4 19.5523 4.44772 20 5 20H16ZM6 7H14V9H6V7ZM6 11H14V13H6V11ZM6 15H11V17H6V15Z" fill="currentColor"></path></svg>');const t=f.querySelector(y);t&&(t.style.display="none"),f.classList.remove("is-last")},_=()=>{if(!f||!k)return;k=!1;const e=f.querySelector(".g-paragraph");e&&(e.innerHTML="Get support now<br>"),q&&(q.innerHTML=A);const t=f.querySelector(y);t&&(t.style.display=""),f.classList.add("is-last"),v=[m,h].filter(Boolean),d()||(f.getAnimations().forEach(e=>e.cancel()),f.style.display=r(f),f.style.opacity=1)},I=e=>e&&"none"!==getComputedStyle(e).display,B=()=>{if(M)return;M=!0,S();[...v].reverse().forEach((e,t)=>{e.style.display=r(e),e.animate([{opacity:0},{opacity:1}],{duration:o,delay:t*n,easing:i,fill:"forwards"})})},D=(e,t)=>{if(e&&I(e)){e.style.willChange="transform,opacity";return void(e.animate([{opacity:1,transform:"translateY(0)"},{opacity:0,transform:"translateY(8px)"}],{duration:a,easing:i,fill:"forwards"}).onfinish=()=>{e.style.display="none",e.style.opacity="",e.style.transform="",e.style.willChange="",t?.()})}},Z=()=>{if(!v.some(I))return M=!1,E(),void _();M=!1;let e=v.filter(I).length;v.forEach(t=>{I(t)&&D(t,()=>{e--,e<=0&&(E(),_())})})};u?.addEventListener("click",e=>{e.target.closest('[data-button-fixed="item"]')||(M?Z():(T(),v=[h,m,f].filter(Boolean),f&&I(f)&&(f.style.opacity=0),B()))},!0),e.addEventListener("click",e=>{if(e.target.closest(y))return e.preventDefault(),l(s,"1",7),void D(f)}),V&&V.addEventListener("click",e=>{k||(e.preventDefault(),e.stopImmediatePropagation(),T(),v=[h,m,f].filter(Boolean),f&&(f.style.opacity=0),M||B())},!0);const O=e=>{e.target.closest('[data-component="button-fixed"]')||Z()};document.addEventListener("click",O);const R=e=>{"Escape"===e.key&&Z()};document.addEventListener("keydown",R),e.addEventListener("DOMNodeRemoved",t=>{t.target===e&&(document.removeEventListener("click",O),document.removeEventListener("keydown",R))}),e.__buttonFixedDebug={openMenu:B,closeMenu:Z,collapseItem:D,_icon:{showOnlyIcon:C,setClosedIcon:E,setOpenIcon:S},_cookie:{get:c,set:l,key:s}}}export{e as default};
