{"version":3,"file":"breadcrumbs-BaV33D7U.js","sources":["../src/components/breadcrumbs.js"],"sourcesContent":["/**\n * @param {HTMLElement} component\n */\nexport default async function (component) {\n  if (typeof window === 'undefined' || typeof document === 'undefined') return\n\n  const root = component instanceof HTMLElement ? component : document\n  const SELECTOR = \"[data-component='breadcrums'],[data-component='breadcrumbs']\"\n\n  let nodes = root.querySelectorAll(SELECTOR)\n  if (!nodes.length && root !== document) {\n    const globalNodes = document.querySelectorAll(SELECTOR)\n    if (!globalNodes.length) return\n    nodes = globalNodes\n  }\n\n  nodes.forEach((container) => {\n    const rootLabel = container.dataset.rootLabel || 'Home'\n    const rootUrl = container.dataset.rootUrl || '/'\n\n    const linkClass =\n      container.dataset.linkClass ||\n      container.querySelector('.breadcrumb-link')?.className ||\n      'breadcrumb-link w-inline-block'\n\n    const sepClass = container.dataset.sepClass || container.querySelector('.g-paragraph')?.className || 'g-paragraph'\n\n    const depthRaw = (container.dataset.depth || '').trim().toLowerCase()\n    const isAll = depthRaw === 'all' || depthRaw === ''\n    const depthNum = Number.parseInt(depthRaw, 10)\n    const hasNumericDepth = Number.isFinite(depthNum) && depthNum >= 1\n\n    const leadingAttr = (container.dataset.leadingSeparator || 'true').toLowerCase().trim()\n    const leadingSeparator = leadingAttr === 'true' || leadingAttr === '1' || leadingAttr === ''\n\n    const custom = (container.dataset.breadcrumbCustom || container.dataset.breadcrumCustom || '').trim()\n    const breadcrumbRoot = (container.dataset.breadcrumbRoot || container.dataset.breadcrumRoot || '').trim()\n\n    container.innerHTML = ''\n\n    const rawPath = window.location.pathname.split('?')[0].split('#')[0]\n    const segments = rawPath\n      .replace(/\\/+$/, '')\n      .replace(/^\\/+/, '')\n      .split('/')\n      .filter(Boolean)\n      .map((s) => s.replace(/index\\.html?$/i, ''))\n      .filter(Boolean)\n\n    let includeHome, startIndex\n\n    if (!segments.length) {\n      const showHome = isAll || (hasNumericDepth && depthNum >= 1)\n      if (showHome) {\n        const items = [{ label: rootLabel, href: rootUrl }]\n        if (custom) items[items.length - 1].label = custom\n        renderItems(container, items, linkClass, sepClass, leadingSeparator)\n      }\n      return\n    }\n\n    if (isAll) {\n      includeHome = true\n      startIndex = 0\n    } else if (hasNumericDepth) {\n      const capped = Math.min(depthNum, segments.length + 1)\n      if (capped === segments.length + 1) {\n        includeHome = true\n        startIndex = 0\n      } else {\n        includeHome = false\n        startIndex = Math.max(0, segments.length - capped)\n      }\n    } else {\n      includeHome = true\n      startIndex = 0\n    }\n\n    const items = []\n    if (includeHome) items.push({ label: rootLabel, href: rootUrl })\n\n    const visibleSegs = segments.slice(startIndex)\n    visibleSegs.forEach((seg, i) => {\n      const uptoIndex = startIndex + i\n      const isLastSeg = uptoIndex === segments.length - 1\n      const href = isLastSeg ? null : `/${segments.slice(0, uptoIndex + 1).join('/')}`\n      const label = i === 0 && breadcrumbRoot ? breadcrumbRoot : toTitle(seg)\n      items.push({ label, href })\n    })\n\n    if (custom && items.length) {\n      items[items.length - 1].label = custom\n    }\n\n    renderItems(container, items, linkClass, sepClass, leadingSeparator)\n  })\n\n  function renderItems(container, items, linkClass, sepClass, leadingSeparator) {\n    if (!items.length) return\n    if (leadingSeparator) appendSeparator(container, sepClass)\n    items.forEach((item, j) => {\n      if (j > 0) appendSeparator(container, sepClass)\n      const isFirst = j === 0\n      const isLast = j === items.length - 1\n      const classes = `${linkClass}${isFirst ? ' is-first' : ''}${isLast ? ' is-active' : ''}`\n      appendLink(container, item.label, item.href, classes)\n    })\n  }\n\n  function toTitle(slug) {\n    const clean = decodeURIComponent(slug)\n      .replace(/\\.html?$/i, '')\n      .replace(/[-_]+/g, ' ')\n      .trim()\n    return clean\n      .split(/\\s+/)\n      .map((w) => w.charAt(0).toUpperCase() + w.slice(1))\n      .join(' ')\n  }\n\n  function appendSeparator(container, sepClass) {\n    const p = document.createElement('p')\n    p.className = sepClass\n    p.innerHTML = '/<br>'\n    container.appendChild(p)\n  }\n\n  function appendLink(container, text, href, classes) {\n    const a = document.createElement('a')\n    a.className = classes\n    a.classList.add('w-inline-block')\n    if (href) a.href = href\n    const div = document.createElement('div')\n    div.textContent = text\n    a.appendChild(div)\n    container.appendChild(a)\n  }\n}\n"],"names":[],"mappings":"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"}