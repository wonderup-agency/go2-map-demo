async function e(e){const t=window.matchMedia("(prefers-reduced-motion: reduce)").matches,a=t?1:800,o=t?0:200,s=t?1:260,i="cubic-bezier(.22,1,.36,1)",n="bf_support_hidden",r=(e,t,a)=>{const o=new Date;o.setTime(o.getTime()+24*a*60*60*1e3),document.cookie=`${e}=${encodeURIComponent(t)};expires=${o.toUTCString()};path=/;SameSite=Lax`},d=e=>{const t=document.cookie.match(new RegExp("(?:^|; )"+e.replace(/([.$?*|{}()[\]\\/+^])/g,"\\$1")+"=([^;]*)"));return t?decodeURIComponent(t[1]):null},c=()=>"1"===d(n),l=e.querySelector(".button_fixed"),u=Array.from(e.querySelectorAll('[data-button-fixed="item"]')),p=Array.from(e.querySelectorAll(".button_switch")),[f,m]=[p[0],p[1]||p[0]],y=u.find(e=>e.hasAttribute("data-button-support"))||null;e.querySelectorAll('a[href="#"]').forEach(e=>e.addEventListener("click",e=>{e.preventDefault(),e.stopPropagation()})),u.forEach(e=>{e.style.display="none",e.style.opacity=0}),p.forEach(e=>e.classList.remove("is-active")),f?.classList.add("is-active"),l?.setAttribute("aria-expanded","false"),y&&c()&&(y.dataset.skip="true");let v=!1;const h=e=>"none"!==getComputedStyle(e).display,b=()=>u.some(h),g=e=>{e?(f?.classList.remove("is-active"),m?.classList.add("is-active"),l?.setAttribute("aria-expanded","true")):(m?.classList.remove("is-active"),f?.classList.add("is-active"),l?.setAttribute("aria-expanded","false"))},k=()=>{if(v)return;v=!0,g(!0);[...u].reverse().filter(e=>!(e===y&&(c()||"true"===e.dataset.skip))).forEach((e,t)=>{e.style.display=(e=>e?.dataset?.display||"flex")(e),e.animate([{opacity:0},{opacity:1}],{duration:a,delay:t*o,easing:i,fill:"forwards"})})},E=e=>{if(e&&h(e)){e.style.willChange="transform,opacity";return void(e.animate([{opacity:1,transform:"translateY(0)"},{opacity:0,transform:"translateY(8px)"}],{duration:s,easing:i,fill:"forwards"}).onfinish=()=>{e.style.display="none",e.style.opacity="",e.style.transform="",e.style.willChange="",b()||(v=!1,g(!1))})}},L=()=>{if(!b())return v=!1,void g(!1);v=!1,g(!1),u.forEach(e=>h(e)&&E(e))};l?.addEventListener("click",e=>{e.target.closest('[data-button-fixed="item"]')||(v?L():k())},!0),e.addEventListener("click",e=>{const t=e.target;return t.closest("[data-close-mail]")?(e.preventDefault(),void E(u.find(e=>e.hasAttribute("data-button-mail")))):t.closest("[data-close-phone]")?(e.preventDefault(),void E(u.find(e=>e.hasAttribute("data-button-phone")))):t.closest("[data-close-support-now]")?(e.preventDefault(),r(n,"1",7),y&&(y.dataset.skip="true"),void E(y)):void 0});const x=e=>{e.target.closest('[data-component="button-fixed"]')||L()};document.addEventListener("click",x);const A=e=>{"Escape"===e.key&&L()};document.addEventListener("keydown",A),e.addEventListener("DOMNodeRemoved",t=>{t.target===e&&(document.removeEventListener("click",x),document.removeEventListener("keydown",A))}),e.__buttonFixedDebug={openAll:k,closeAll:L,collapseItem:E,_cookie:{get:d,set:r,key:n}}}export{e as default};
