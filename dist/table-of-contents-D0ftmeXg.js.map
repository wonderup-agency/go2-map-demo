{"version":3,"file":"table-of-contents-D0ftmeXg.js","sources":["../src/components/table-of-contents.js"],"sourcesContent":["export default function (component) {\n  const heading = component.querySelector('.content28_sidebar-heading')\n  const content = component.querySelector('.content28_link-content')\n  const icon = component.querySelector('.content28_accordion-icon')\n\n  const breakpoint = 991\n  let isBound = false\n\n  function isTabletOrBelow() {\n    return window.innerWidth <= breakpoint\n  }\n\n  function openAccordion() {\n    content.classList.add('is-open')\n    content.style.maxHeight = content.scrollHeight + 'px'\n    icon.style.transform = 'rotate(0deg)'\n    heading.classList.add('is-open')\n  }\n\n  function closeAccordion() {\n    content.style.maxHeight = content.scrollHeight + 'px'\n\n    requestAnimationFrame(() => {\n      content.style.maxHeight = '0px'\n      content.classList.remove('is-open')\n    })\n\n    icon.style.transform = 'rotate(180deg)'\n    heading.classList.remove('is-open')\n  }\n\n  function toggleAccordion(e) {\n    e.stopPropagation()\n\n    if (content.classList.contains('is-open')) {\n      closeAccordion()\n    } else {\n      openAccordion()\n    }\n  }\n\n  function handleOutsideClick(e) {\n    if (content.classList.contains('is-open') && !content.contains(e.target) && !heading.contains(e.target)) {\n      closeAccordion()\n    }\n  }\n\n  function bindEvents() {\n    if (!isBound) {\n      heading.addEventListener('click', toggleAccordion)\n      document.addEventListener('click', handleOutsideClick)\n      isBound = true\n    }\n  }\n\n  function unbindEvents() {\n    if (isBound) {\n      heading.removeEventListener('click', toggleAccordion)\n      document.removeEventListener('click', handleOutsideClick)\n      isBound = false\n\n      // Reset everything for desktop\n      content.style.maxHeight = ''\n      icon.style.transform = ''\n      content.classList.remove('is-open')\n      heading.classList.remove('is-open')\n    }\n  }\n\n  function handleResize() {\n    if (isTabletOrBelow()) {\n      bindEvents()\n    } else {\n      unbindEvents()\n    }\n  }\n\n  // Initial check\n  handleResize()\n\n  // Watch resize\n  window.addEventListener('resize', handleResize)\n}\n"],"names":[],"mappings":"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"}