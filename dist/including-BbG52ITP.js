import{h as e,s as t,v as n,c as a,a as o,b as r,e as i,f as s,d as l,r as m}from"./index-D9VnpgHP.js";import"./main-H_ALbdeg.js";function d(d){(d.forEach?d:[d]).forEach(d=>{const c=d.dataset.webhook||"https://hook.us2.make.com/vt23go8uc23q8emcv6jc3nqriswhtnyr",u=d.querySelector(".w-form-done"),f=d.querySelector(".w-form-fail"),p=d.querySelector("form");d.addEventListener("click",d=>{const h=d.target,g=h.closest('[data-form="submit-btn"]'),y=h.closest(".button_text");if(g||y&&g){d.preventDefault(),d.stopImmediatePropagation(),e(f);const h=t(p),y=[];n.isEmpty(h["Including-GO2-Name"]||"")&&y.push({fieldName:"Including-GO2-Name",error:"Enter your full name.",appendAt:".multi-form14_field-wrapper"}),n.isEmail(h["Including-GO2-Email"]||"")||y.push({fieldName:"Including-GO2-Email",error:"Enter a valid email address (example: name@email.com)",appendAt:".multi-form14_field-wrapper"});const b=h["Including-GO2-Phone"]||"";if(n.isMobilePhone(b,"any")||y.push({fieldName:"Including-GO2-Phone",error:"Enter a valid phone number (digits only, include area code)",appendAt:".multi-form14_field-wrapper"}),a(),y.length>0)return void o(y);const E=g.querySelector(".button_text")||g.firstChild,w=E?.textContent||"Submit";r(g),fetch(c,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(h)}).then(e=>{if(!e.ok)throw new Error("Submission failed");return e.json()}).then(e=>{i(p),s(u)}).catch(e=>{l(f)}).finally(()=>{m(g,w)})}})})}export{d as default};
