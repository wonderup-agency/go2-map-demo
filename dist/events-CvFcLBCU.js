async function e(e){e.querySelectorAll('[data-events="event-element"]').forEach((e,t)=>{const a=e.querySelector('[data-events="DD"]'),n=e.querySelector('[data-events="MMM-YYYY"]'),i=e.querySelector('[data-custom="start-end-date"]'),o=e.dataset.startDate,r=e.dataset.endDate,s=e.dataset.timezone;if(""==o||""==r)return void e.parentElement.setAttribute("data-delete","true");const d=new Date(o),l=new Date(r),u=new Date,m=new Date(l.toISOString()),c=new Date(u.toISOString()),f=new Date(m.getUTCFullYear(),m.getUTCMonth(),m.getUTCDate()),y=new Date(c.getUTCFullYear(),c.getUTCMonth(),c.getUTCDate());if(f.getTime()+864e5<=y.getTime())return void e.parentElement.setAttribute("data-delete","true");const v={timeZone:s,day:"2-digit",month:"short",year:"numeric"},p=new Intl.DateTimeFormat("en-US",v).formatToParts(d),w=p.find(e=>"day"===e.type).value,h=p.find(e=>"month"===e.type).value,D=p.find(e=>"year"===e.type).value;a.textContent=w,n.textContent=`${h} ${D}`;const g={timeZone:s,hour:"2-digit",minute:"2-digit",hour12:!0},C=new Intl.DateTimeFormat("en-US",g),T=C.formatToParts(d),S=C.formatToParts(l),U=`${T.find(e=>"hour"===e.type).value}:${T.find(e=>"minute"===e.type).value}${T.find(e=>"dayPeriod"===e.type).value} - ${S.find(e=>"hour"===e.type).value}:${S.find(e=>"minute"===e.type).value}${S.find(e=>"dayPeriod"===e.type).value}`;i.textContent=U}),window.FinsweetAttributes||=[],window.FinsweetAttributes.push(["list",e=>{const a=new Map;e[0].items.value.forEach((t,n)=>{if("true"!==t.element.dataset.delete){if(t.fields&&t.fields.hasOwnProperty("city")){const e=String(t.fields.city.value||"").trim();if(!e)return;const n=e.toLowerCase();a.has(n)||a.set(n,e)}}else e[0].items.value=e[0].items.value.filter(e=>"true"!==e.element.dataset.delete)});const n=Array.from(a.values()).sort((e,t)=>e.localeCompare(t,void 0,{sensitivity:"base"}));t(n)}]);const t=e=>{const t=document.querySelector('[data-events="select-cities"]');t&&e.forEach(e=>{const a=document.createElement("option");a.value=e,a.textContent=e,t.appendChild(a)})}}export{e as default};
