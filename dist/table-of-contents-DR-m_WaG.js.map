{"version":3,"file":"table-of-contents-DR-m_WaG.js","sources":["../src/components/table-of-contents.js"],"sourcesContent":["export default function (component) {\r\n  const heading = component.querySelector('.content28_sidebar-heading')\r\n  const content = component.querySelector('.content28_link-content')\r\n  const icon = component.querySelector('.content28_accordion-icon')\r\n\r\n  const breakpoint = 991\r\n  let isBound = false\r\n\r\n  function isTabletOrBelow() {\r\n    return window.innerWidth <= breakpoint\r\n  }\r\n\r\n  function openAccordion() {\r\n    content.classList.add('is-open')\r\n    content.style.maxHeight = content.scrollHeight + 'px'\r\n    icon.style.transform = 'rotate(0deg)'\r\n    heading.classList.add('is-open')\r\n  }\r\n\r\n  function closeAccordion() {\r\n    content.style.maxHeight = content.scrollHeight + 'px'\r\n\r\n    requestAnimationFrame(() => {\r\n      content.style.maxHeight = '0px'\r\n      content.classList.remove('is-open')\r\n    })\r\n\r\n    icon.style.transform = 'rotate(180deg)'\r\n    heading.classList.remove('is-open')\r\n  }\r\n\r\n  function toggleAccordion(e) {\r\n    e.stopPropagation()\r\n\r\n    if (content.classList.contains('is-open')) {\r\n      closeAccordion()\r\n    } else {\r\n      openAccordion()\r\n    }\r\n  }\r\n\r\n  function handleOutsideClick(e) {\r\n    if (content.classList.contains('is-open') && !content.contains(e.target) && !heading.contains(e.target)) {\r\n      closeAccordion()\r\n    }\r\n  }\r\n\r\n  function bindEvents() {\r\n    if (!isBound) {\r\n      heading.addEventListener('click', toggleAccordion)\r\n      document.addEventListener('click', handleOutsideClick)\r\n      isBound = true\r\n    }\r\n  }\r\n\r\n  function unbindEvents() {\r\n    if (isBound) {\r\n      heading.removeEventListener('click', toggleAccordion)\r\n      document.removeEventListener('click', handleOutsideClick)\r\n      isBound = false\r\n\r\n      // Reset everything for desktop\r\n      content.style.maxHeight = ''\r\n      icon.style.transform = ''\r\n      content.classList.remove('is-open')\r\n      heading.classList.remove('is-open')\r\n    }\r\n  }\r\n\r\n  function handleResize() {\r\n    if (isTabletOrBelow()) {\r\n      bindEvents()\r\n    } else {\r\n      unbindEvents()\r\n    }\r\n  }\r\n\r\n  // Initial check\r\n  handleResize()\r\n\r\n  // Watch resize\r\n  window.addEventListener('resize', handleResize)\r\n}\r\n"],"names":[],"mappings":"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"}