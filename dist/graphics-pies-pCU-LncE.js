import*as e from"@amcharts/amcharts5";import*as t from"@amcharts/amcharts5/percent";import a from"@amcharts/amcharts5/themes/Animated";async function r(r){document.querySelectorAll("[data-graphic]").forEach(r=>{const o=r.getAttribute("data-graphic-type")||"pie",l=r.getAttribute("data-graphic-label-color")||"#2C3495",n=r.getAttribute("data-graphic-slice-border-color")||"#F8F9FB",i=r.getAttribute("data-graphic-slice-fill-color1")||"#6F4B86",c=r.getAttribute("data-graphic-slice-fill-color2")||"#B9DDE6",s={label:r.getAttribute("data-graphic-item1-label")||"Item 1",percentage:parseFloat(r.getAttribute("data-graphic-item1-percentage")||15),url:r.getAttribute("data-graphic-item1-url")||"/lung-cancer/types-of-lung-cancer/small-cell-lung-cancer"},u={label:r.getAttribute("data-graphic-item2-label")||"Item 2",percentage:parseFloat(r.getAttribute("data-graphic-item2-percentage")||85),url:r.getAttribute("data-graphic-item2-url")||"/lung-cancer/types-of-lung-cancer/non-small-cell-lung-cancer"};"pie"===o&&function({element:r,labelColor:o,sliceBorderColor:l,sliceFillColors:n,data:i}){e.ready(function(){const c=e.Root.new(r);c.setThemes([a.new(c)]);const s=e.color(e.Color.fromString(o)),u=e.color(e.Color.fromString(l)),p=e.color(e.Color.fromString(n[0])),d=e.color(e.Color.fromString(n[1])),g=parseFloat(getComputedStyle(document.documentElement).fontSize)||16,m=Math.round(2.5*g),h=c.container.children.push(t.PieChart.new(c,{layout:c.horizontalLayout,startAngle:250,endAngle:610})),f=h.series.push(t.PieSeries.new(c,{valueField:"value",categoryField:"type",alignLabels:!1,radius:e.percent(80)}));f.get("colors").set("colors",[p,d]),f.slices.template.setAll({stroke:u,strokeWidth:10,strokeOpacity:1,interactive:!1,tooltipText:""}),f.slices.template.set("toggleKey",void 0),f.slices.template.events.on("pointerdown",e=>e.event?.stopPropagation?.()),f.labelsContainer.setAll({layer:100}),f.ticksContainer.setAll({layer:90}),f.labels.template.setAll({text:"{type} â†—",populateText:!0,inside:!1,radius:m,fontSize:20,fontWeight:"600",fill:s,paddingLeft:Math.round(1*g),paddingRight:Math.round(1*g),paddingTop:Math.round(.5*g),paddingBottom:Math.round(.5*g),interactive:!0,cursorOverStyle:"pointer"}),f.events.on("datavalidated",()=>{f.dataItems.forEach(t=>{const a=t.get("label");if(!a)return;const r=e.RoundedRectangle.new(c,{fill:e.color(16777215),fillOpacity:1,stroke:s,strokeWidth:1,strokeOpacity:1,cornerRadiusTL:4,cornerRadiusTR:4,cornerRadiusBR:4,cornerRadiusBL:4});a.set("background",r),a.events.on("pointerover",()=>{r.animate({key:"fill",to:s,duration:300,easing:e.ease.out(e.ease.cubic)}),a.animate({key:"fill",to:e.color(16777215),duration:300,easing:e.ease.out(e.ease.cubic)})}),a.events.on("pointerout",()=>{r.animate({key:"fill",to:e.color(16777215),duration:300,easing:e.ease.out(e.ease.cubic)}),a.animate({key:"fill",to:s,duration:300,easing:e.ease.out(e.ease.cubic)})})})}),f.labels.template.events.on("pointerdown",e=>{const t=e.target.dataItem?.dataContext?.url;t&&window.open(t,"noopener,noreferrer")}),f.data.setAll(i),f.bullets.push(function(t,a,r){const o=0===a.dataItems.indexOf(r)?e.color(16777215):s;return e.Bullet.new(t,{sprite:e.Label.new(t,{text:"{valuePercentTotal.formatNumber('0.')}%",populateText:!0,centerX:e.p50,centerY:e.p50,fontSize:20,fontWeight:"800",fill:o})})}),f.appear(700),h.appear(700,50)})}({element:r,labelColor:l,sliceBorderColor:n,sliceFillColors:[i,c],data:[{type:s.label,value:s.percentage,url:s.url},{type:u.label,value:u.percentage,url:u.url}]})})}export{r as default};
