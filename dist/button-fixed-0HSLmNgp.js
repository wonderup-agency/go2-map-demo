async function e(e){const t=window.matchMedia("(prefers-reduced-motion: reduce)").matches,n=t?1:800,o=t?0:200,a=t?1:260,i="cubic-bezier(.22,1,.36,1)",r=e=>e?.dataset?.display||"flex",s="bf_support_hidden",l=(e,t,n)=>{const o=new Date;o.setTime(o.getTime()+24*n*60*60*1e3),document.cookie=`${e}=${encodeURIComponent(t)};expires=${o.toUTCString()};path=/;SameSite=Lax`},c=e=>{const t=document.cookie||"";if(!t)return null;const n=t.split("; ");for(const t of n){const[n,...o]=t.split("=");if(n===e)return decodeURIComponent(o.join("="))}return null},d=()=>"1"===c(s),y=e.querySelector(".button_fixed"),u=Array.from(e.querySelectorAll('[data-button-fixed="item"]')),p="[data-close-support-now]",f=u.find(e=>e.hasAttribute("data-button-support"))||null,m=u.find(e=>e.hasAttribute("data-button-phone"))||null,h=u.find(e=>e.hasAttribute("data-button-mail"))||null;let g=[m,h].filter(Boolean);const v=e.querySelector('[data-button-fixed="icon-headset"]'),b=e.querySelector('[data-button-fixed="icon-empathy"]'),w=e.querySelector('[data-button-fixed="icon-close"]'),x=[v,b,w].filter(Boolean),C=e=>{e&&(e.classList.remove("is-active"),e.style.display="none",e.setAttribute("aria-hidden","true"))},E=e=>{e&&(e.classList.add("is-active"),e.style.display="",e.setAttribute("aria-hidden","false"))},H=e=>(x.forEach(C),E("close"===e?w:"empathy"===e?b:v)),L=()=>{H(d()?"headset":"empathy"),y?.setAttribute("aria-expanded","false")},S=()=>{H("close"),y?.setAttribute("aria-expanded","true")};e.querySelectorAll('a[href="#"]').forEach(e=>e.addEventListener("click",e=>{e.preventDefault(),e.stopPropagation()})),g.forEach(e=>{e.style.display="none",e.style.opacity=0}),f&&(d()?(f.style.display="none",f.style.opacity=0):(f.style.display=r(f),f.style.opacity=1)),L();let M=!1,k=0,V=!1;const q=f?.querySelector(".item-link"),A=f?.querySelector(".icon_inner"),T=A?.innerHTML||"",_=()=>{if(!f||V)return;V=!0;const e=f.querySelector(".g-paragraph");e&&(e.innerHTML="Complete this form<br>"),A&&(A.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" width="100%" viewBox="0 0 24 24" fill="none"><path d="M19 22H5C3.34315 22 2 20.6569 2 19V3C2 2.44772 2.44772 2 3 2H17C17.5523 2 18 2.44772 18 3V15H22V19C22 20.6569 20.6569 22 19 22ZM18 17V19C18 19.5523 18.4477 20 19 20C19.5523 20 20 19.5523 20 19V17H18ZM16 20V4H4V19C4 19.5523 4.44772 20 5 20H16ZM6 7H14V9H6V7ZM6 11H14V13H6V11ZM6 15H11V17H6V15Z" fill="currentColor"></path></svg>');const t=f.querySelector(p);t&&(t.style.display="none")},I=()=>{if(!f||!V)return;V=!1;const e=f.querySelector(".g-paragraph");e&&(e.innerHTML="Get support now<br>"),A&&(A.innerHTML=T);const t=f.querySelector(p);t&&(t.style.display=""),g=[m,h].filter(Boolean),d()||(f.getAnimations().forEach(e=>e.cancel()),f.style.display=r(f),f.style.opacity=1)},B=e=>e&&"none"!==getComputedStyle(e).display,D=()=>{if(M)return;M=!0,k++,S();[...g].reverse().forEach((e,t)=>{e.getAnimations().forEach(e=>e.cancel()),e.style.transform="",e.style.opacity="",e.style.willChange="",e.style.display=r(e),e.animate([{opacity:0},{opacity:1}],{duration:n,delay:t*o,easing:i,fill:"both"})})},Z=(e,t)=>{if(e&&B(e)){e.style.willChange="transform,opacity";return void(e.animate([{opacity:1,transform:"translateY(0)"},{opacity:0,transform:"translateY(8px)"}],{duration:a,easing:i,fill:"forwards"}).onfinish=()=>{e.style.display="none",e.style.opacity="",e.style.transform="",e.style.willChange="",t?.()})}},O=()=>{if(!g.some(B))return M=!1,L(),void I();M=!1;const e=k;let t=g.filter(B).length;g.forEach(n=>{B(n)&&Z(n,()=>{e===k&&(t--,t<=0&&(L(),I()))})})};y?.addEventListener("click",e=>{e.target.closest('[data-button-fixed="item"]')||(M?O():(_(),g=[h,m,f].filter(Boolean),f&&B(f)&&(f.style.opacity=0),D()))},!0),e.addEventListener("click",e=>{if(e.target.closest(p))return e.preventDefault(),l(s,"1",7),Z(f),void L()}),q&&q.addEventListener("click",e=>{V||(e.preventDefault(),e.stopImmediatePropagation(),_(),g=[h,m,f].filter(Boolean),f&&(f.style.opacity=0),M||D())},!0);const R=e=>{e.target.closest('[data-component="button-fixed"]')||O()};document.addEventListener("click",R);const U=e=>{"Escape"===e.key&&O()};document.addEventListener("keydown",U),e.addEventListener("DOMNodeRemoved",t=>{t.target===e&&(document.removeEventListener("click",R),document.removeEventListener("keydown",U))}),e.__buttonFixedDebug={openMenu:D,closeMenu:O,collapseItem:Z,_icon:{showOnlyIcon:H,setClosedIcon:L,setOpenIcon:S},_cookie:{get:c,set:l,key:s}}}export{e as default};
