import{h as e,s as t,v as a,c as r,a as o,b as i,d as n,e as s,f as m,r as l}from"./index-CC2TMEjj.js";import"./main-Cd4F8b1g.js";function f(f){(f.forEach?f:[f]).forEach(f=>{const p=f.dataset.webhook||"https://hook.us2.make.com/k96lr6zofh8eoy6mvchfk3qvjj5ru7zu",d=f.querySelector(".w-form-done"),u=f.querySelector(".w-form-fail"),c=f.querySelector("form");f.addEventListener("click",async f=>{const h=f.target,y=h.closest('[data-form="submit-btn"]'),b=h.closest(".button_text");if(y||b&&y){f.preventDefault(),f.stopImmediatePropagation(),e(u);const h=await t(c),b=[];a.isEmpty(h["first-name"]||"")&&b.push({fieldName:"first-name",error:"Enter your first name.",appendAt:".multi-form14_field-wrapper"}),a.isEmpty(h["last-name"]||"")&&b.push({fieldName:"last-name",error:"Enter your last name.",appendAt:".multi-form14_field-wrapper"}),a.isEmail(h.email||"")||b.push({fieldName:"email",error:"Enter a valid email address (example: name@email.com)",appendAt:".multi-form14_field-wrapper"});const E=h.phone||"";if(a.isMobilePhone(E,"any")||b.push({fieldName:"phone",error:"Enter a valid phone number (digits only, include area code)",appendAt:".multi-form14_field-wrapper"}),r(),b.length>0)return void o(b);const w=y.querySelector(".button_text")||y.firstChild,v=w?.textContent||"Submit";i(y),fetch(p,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(h)}).then(e=>{if(!e.ok)throw new Error("Submission failed");return e.json()}).then(e=>{n(c),s(d)}).catch(e=>{m(u)}).finally(()=>{l(y,v)})}})})}export{f as default};
