const e="https://go2-centers-worker.nahuel-eba.workers.dev/videos";async function t(t){const n=t.querySelector('[fs-youtubefeed-element="list"]'),o=t.querySelector('[fs-youtubefeed-element="item"]'),u=t.querySelector('[fs-youtubefeed-element="load-more"]');if(!n||!o)return;const r=o.cloneNode(!0);o.remove();let l=null,i=!1;async function s(o){try{i=!0;let s=e;if(o&&l){s+=`${e.includes("?")?"&":"?"}pageToken=${encodeURIComponent(l)}`}const f=await fetch(s);if(!f.ok)return void(i=!1);const a=await f.json();l||function(e){if(!e)return;const n=t.querySelector('[fs-youtubefeed-element="profile-image"]'),o=t.querySelector('[fs-youtubefeed-element="profile-name"]'),u=t.querySelector('[fs-youtubefeed-element="profile-handle"]'),r=t.querySelector('[fs-youtubefeed-element="video-count"]'),l=t.querySelector('[fs-youtubefeed-element="view-count"]'),i=t.querySelector('[fs-youtubefeed-element="subscriber-count"]'),s=t.querySelector('[fs-youtubefeed-element="subscribe-button"]');n&&e.profileImage&&(n.src=e.profileImage);n&&e.title&&(n.alt=e.title);o&&e.title&&(o.textContent=e.title);u&&e.handle&&(u.textContent=e.handle);r&&e.videoCount&&(r.textContent=c(e.videoCount));l&&e.viewCount&&(l.textContent=c(e.viewCount));i&&e.subscriberCount&&(i.textContent=c(e.subscriberCount));s&&e.url&&(s.href=e.url)}(a.channel),function(e,t){if(!Array.isArray(e))return;e.forEach((e,o)=>{const u=r.cloneNode(!0);if(function(e,t){const n=e.querySelector('[fs-youtubefeed-element="thumbnail"]'),o=e.querySelector('[fs-youtubefeed-element="thumbnail-wrapper"]'),u=e.querySelector('[fs-youtubefeed-element="title"]'),r=e.querySelector('[fs-youtubefeed-element="description"]'),l=e.querySelector('[fs-youtubefeed-element="published-date"]'),i=e.querySelector('[fs-youtubefeed-element="view-count"]'),s=e.querySelector('[fs-youtubefeed-element="like-count"]'),f=e.querySelector('[fs-youtubefeed-element="comment-count"]'),a=e.querySelector('[fs-youtubefeed-element="favourite-count"]');n&&t.thumbnail&&(n.src=t.thumbnail,n.alt=t.title||"");o&&t.url&&(o.style.cursor="pointer",o.onclick=()=>{window.open(t.url,"_blank","noopener")});u&&(u.textContent=t.title||"");r&&(r.textContent=(t.description||"").trim());l&&(l.textContent=function(e){if(!e)return"";const t=new Date(e);return isNaN(t.getTime())?e:t.toLocaleDateString()}(t.publishedAt));i&&(i.textContent=c(t.viewCount||"0"));s&&(s.textContent=c(t.likeCount||"0"));f&&(f.textContent=c(t.commentCount||"0"));a&&(a.textContent=c(t.likeCount||"0"))}(u,e),t&&(u.style.opacity="0",u.style.transform="translateY(10px)"),n.appendChild(u),t){setTimeout(()=>{requestAnimationFrame(()=>{u.style.transition="opacity 0.35s ease, transform 0.35s ease",u.style.opacity="1",u.style.transform="translateY(0)"})},50*o)}})}(a.videos||[],o),l=a.nextPageToken||null,function(){if(!u)return;u.style.display=l?"block":"none"}(),t.style.opacity="1"}catch(e){}finally{i=!1}}function c(e){const t=Number(e);return Number.isNaN(t)?e:t.toLocaleString()}await s(!1),u&&u.addEventListener("click",()=>{l&&!i&&s(!0)})}export{t as default};
