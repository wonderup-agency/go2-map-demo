{"version":3,"file":"breadcrumbs-DH2V5i4V.js","sources":["../src/components/breadcrumbs.js"],"sourcesContent":["/**\n * @param {HTMLElement} component\n */\nexport default async function (component) {\n  if (typeof window === 'undefined' || typeof document === 'undefined') return\n\n  const root = component instanceof HTMLElement ? component : document\n  const SELECTOR = \"[data-component='breadcrums'],[data-component='breadcrumbs']\"\n\n  let nodes = root.querySelectorAll(SELECTOR)\n  if (!nodes.length && root !== document) {\n    const globalNodes = document.querySelectorAll(SELECTOR)\n    if (!globalNodes.length) return\n    nodes = globalNodes\n  }\n\n  nodes.forEach((container) => {\n    const rootLabel = container.dataset.rootLabel || 'Home'\n    const rootUrl = container.dataset.rootUrl || '/'\n\n    const linkClass =\n      container.dataset.linkClass ||\n      container.querySelector('.breadcrumb-link')?.className ||\n      'breadcrumb-link w-inline-block'\n\n    const sepClass = container.dataset.sepClass || container.querySelector('.g-paragraph')?.className || 'g-paragraph'\n\n    const depthRaw = (container.dataset.depth || '').trim().toLowerCase()\n    const isAll = depthRaw === 'all' || depthRaw === ''\n    const depthNum = Number.parseInt(depthRaw, 10)\n    const hasNumericDepth = Number.isFinite(depthNum) && depthNum >= 1\n\n    const leadingAttr = (container.dataset.leadingSeparator || 'true').toLowerCase().trim()\n    const leadingSeparator = leadingAttr === 'true' || leadingAttr === '1' || leadingAttr === ''\n\n    container.innerHTML = ''\n\n    const rawPath = window.location.pathname.split('?')[0].split('#')[0]\n    const segments = rawPath\n      .replace(/\\/+$/, '')\n      .replace(/^\\/+/, '')\n      .split('/')\n      .filter(Boolean)\n      .map((s) => s.replace(/index\\.html?$/i, ''))\n      .filter(Boolean)\n\n    let includeHome, startIndex\n    if (!segments.length) {\n      const showHome = isAll || (hasNumericDepth && depthNum >= 1)\n      if (showHome) {\n        const items = [{ label: rootLabel, href: rootUrl }]\n        renderItems(container, items, linkClass, sepClass, leadingSeparator)\n      }\n      return\n    }\n\n    if (isAll) {\n      includeHome = true\n      startIndex = 0\n    } else if (hasNumericDepth) {\n      const capped = Math.min(depthNum, segments.length + 1)\n      if (capped === segments.length + 1) {\n        includeHome = true\n        startIndex = 0\n      } else {\n        includeHome = false\n        startIndex = Math.max(0, segments.length - capped)\n      }\n    } else {\n      includeHome = true\n      startIndex = 0\n    }\n\n    const items = []\n    if (includeHome) items.push({ label: rootLabel, href: rootUrl })\n\n    const visibleSegs = segments.slice(startIndex)\n    visibleSegs.forEach((seg, i) => {\n      const uptoIndex = startIndex + i\n      const isLastSeg = uptoIndex === segments.length - 1\n      const href = isLastSeg ? null : `/${segments.slice(0, uptoIndex + 1).join('/')}`\n      items.push({ label: toTitle(seg), href })\n    })\n\n    renderItems(container, items, linkClass, sepClass, leadingSeparator)\n  })\n\n  function renderItems(container, items, linkClass, sepClass, leadingSeparator) {\n    if (!items.length) return\n    if (leadingSeparator) appendSeparator(container, sepClass)\n    items.forEach((item, j) => {\n      if (j > 0) appendSeparator(container, sepClass)\n      const isFirst = j === 0\n      const isLast = j === items.length - 1\n      const classes = `${linkClass}${isFirst ? ' is-first' : ''}${isLast ? ' is-active' : ''}`\n      appendLink(container, item.label, item.href, classes)\n    })\n  }\n\n  function toTitle(slug) {\n    const clean = decodeURIComponent(slug)\n      .replace(/\\.html?$/i, '')\n      .replace(/[-_]+/g, ' ')\n      .trim()\n    return clean\n      .split(/\\s+/)\n      .map((w) => w.charAt(0).toUpperCase() + w.slice(1))\n      .join(' ')\n  }\n\n  function appendSeparator(container, sepClass) {\n    const p = document.createElement('p')\n    p.className = sepClass\n    p.innerHTML = '/<br>'\n    container.appendChild(p)\n  }\n\n  function appendLink(container, text, href, classes) {\n    const a = document.createElement('a')\n    a.className = classes\n    a.classList.add('w-inline-block')\n    if (href) a.href = href\n    const div = document.createElement('div')\n    div.textContent = text\n    a.appendChild(div)\n    container.appendChild(a)\n  }\n}\n"],"names":["async","breadcrumbs","component","window","document","root","HTMLElement","SELECTOR","nodes","querySelectorAll","length","globalNodes","renderItems","container","items","linkClass","sepClass","leadingSeparator","appendSeparator","forEach","item","j","isFirst","isLast","classes","text","href","a","createElement","className","classList","add","div","textContent","appendChild","appendLink","label","toTitle","slug","decodeURIComponent","replace","trim","split","map","w","charAt","toUpperCase","slice","join","p","innerHTML","rootLabel","dataset","rootUrl","querySelector","depthRaw","depth","toLowerCase","isAll","depthNum","Number","parseInt","hasNumericDepth","isFinite","leadingAttr","segments","location","pathname","filter","Boolean","s","includeHome","startIndex","capped","Math","min","max","push","seg","i","uptoIndex"],"mappings":"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"}